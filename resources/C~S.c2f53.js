(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{522:function(e,t,i){i(877);var n=i(536),a=i(537),r=i(465),o=i(469)('<form class="u-search-box" onsubmit="return false"><div class="u-input-control {{controlClassName}}"><span class="iconfont iconsreachm"></span><span class="u-input-container {{containerClassName}}"><input type="text" class="u-input-1" placeholder="{{placeholder}}" autocomplete="off"></span><span class="iconfont icontabclose u-input-close"></span></div></form>'),s=n.extend({},(function(e,t){var i=t.placeholder,n=void 0===i?r('main/g_search'):i,s=t.controlClassName,l=t.containerClassName,d=t.element,c=this;function h(){f.setValue(''),u.focus(),c.trigger('clear')}e()({element:d}),c.$().html(o({placeholder:n,controlClassName:s,containerClassName:l})),c.on('clearKeyword',h),c.$('.u-input-close').click(h);var u=c.$('input'),p=function(){return u.val().trim()},f=new a(u).on('enter',(function(){c.trigger('submit',p())})).on('queryChanged',(function(){c.$('>').toggleClass('u-search-box-switch',!!p()),c.trigger('keyup',p())}))}));e.exports=s},532:function(e,t,i){(function(e){i(850);var t=i(463),n=i(615),a=i(487),r=i(475),o=i(483).encode,s=i(482),l={selectFirst:!0,html:'{{{html}}}',className:'u-contactac',style:{minWidth:320,maxWidth:640},delay:500};t.fn.contactac=function(i){var d=i=i||{},c=d.uniqueContacts,h=d.enableSecurityLevel,u=d.container,p={dataSource:function(e){return a.autoMatch(e,{uniqueContacts:c}).then((function(e){return e.map((function(e){var t=h&&e.isOab?s.tag(e.securityLevel):'',i=e.location;return{html:''+t+e.matchText+(i?' '+o(i):''),value:e.matchText,target:''+t+r(e.name,e.emailaddr),original:e}}))}))},onItemSelected:i.select};return this.each((function(a,r){var o=t(r),s=r.contactacInstance=n(e.assign({trigger:r,beforeShow:function(){u&&(t(u).outerWidth(!0)-(o.offset().left-t(u).offset().left)<s.element.outerWidth(!0)?s.set('align',{selfXY:['100%',0],baseXY:['100%','100%']}):s.set('align',{selfXY:[0,0],baseXY:[0,'100%']}))}},l,p,i));o.on('remove',(function(){s.destroy()}))}))}}).call(this,i(464))},533:function(e,t,i){(function(t,n){i(860);var a=i(463),r=i(465),o=i(468).get;a.cm.fileupload.prototype.options.processQueue.push({action:'validate',always:!0,maxFileSize:'@',minFileSize:'@',maxNumberOfFiles:'@',disabled:'@disableValidation'},{action:'prepare',always:!1,disabled:'@disablePrepare'}),a.widget('cm.fileupload',a.cm.fileupload,{options:{getNumberOfFiles:a.noop,messages:{maxNumberOfFiles:'Maximum number of files exceeded',maxFileSize:'File is too large',minFileSize:'File is too small'}},processActions:{validate:function(e,i){var n=i.disabled,s=i.minFileSize,l=i.maxFileSize,d=i.maxNumberOfFiles,c=o('user.riskySuffixes'),h=c&&c[0]&&new RegExp('('+c.map((function(e){return e.replace(/\.|^/g,'\\.')})).join('|')+')$','g');if(n)return e;var u,p=a.Deferred(),f=this.options,m=e.files[e.index];return m.skipProcess?e:((s||l)&&(u=m.size),t.isNUM(d)&&(f.getNumberOfFiles()||0)+e.files.length>d?(m.error=f.i18n('maxNumberOfFiles'),p.rejectWith(this,[e])):h&&h.test(m.name)?(e.error=m.error=r('common/upload_notallow_fileType'),e.errorThrown=m.errorThrown='filetype',p.rejectWith(this,[e]).promise()):t.isNUM(u)&&u>l?(m.error=f.i18n('maxFileSize'),p.rejectWith(this,[e]).promise()):t.isNUM(u)&&u<s?(m.error=f.i18n('minFileSize'),p.rejectWith(this,[e]).promise()):(delete m.error,delete m.errorThrown,p.resolveWith(this,[e]).promise()))},prepare:function(e,t){if(t.disabled||e.disablePrepare||e.skipPrepareProcess)return e;var i=a.Deferred(),n=this,o=this.options,s=e.files[e.index],l=a.extend({},{composeId:e._cid||o.composeId,attachmentId:-1,fileName:s.name,size:s.size});if(s.skipProcess)return e;if(t.forceIframeTransport)return i.resolveWith(n,[e]);a.support.xhrFileUpload||delete l.size,s.cmMeta&&s.cmMeta.securityLevel&&(l.securityLevel=s.cmMeta.securityLevel);var c=a.Deferred();return d('upload:prepare',l).then((function(t){var a=t.attachmentId;s.cmMeta.setId(a),i.resolveWith(n,[e]),c.resolve()})).onFail((function(t){t?'FA_OVERFLOW'===t.code?(e.error=s.error=r('mail/FA_OVERFLOW.'+t.overflowReason),e.errorThrown=s.errorThrown='overflow'):'FA_COMPOSE_NOT_FOUND'===t.code&&(e.error=s.error=r('mail/FA_ID_NOT_FOUND'),e.errorThrown=s.errorThrown='composeIdNotFound'):(e.error=s.error=r('common/upload_prepare_fail'),e.errorThrown=s.errorThrown='prepareFail'),i.rejectWith(n,[e]),c.reject()})),c.promise()}}});var s={};function l(e,i,n){var a='mbox:compose'===i?n.id:n.composeId||i.composeId,r=t.fun(e,[i,n]);return a?s[a]=s[a]?s[a].fin(r):r():r()}var d=t.fn(l,n.wmCall),c=t.fn(l,n.mFormData);e.exports={mForm:c,wm:d,wmReset:function(e){delete s[e]}}}).call(this,i(464),i(466))},534:function(e,t,i){(function(t){i(871);var n=i(530);i(584),i(486),i(874);var a=i(463),r=i(465),o=i(475),s=i(485),l=i(466),d=i(482),c=i(470).confirm,h=i(522),u=i(468).get,p=i(487),f=i(514),m=i(504),g=i(489),v=g.rcCheck,x=g.rcUncheck,b=u('mail.composeitemperpage')||20;function y(e,i,o,c,g,y){var S,T,E,N,L,I=y.selectTitle,A=y.onSelect,M=y.onClose,P=y.withOab,D=void 0===P?u('user.supportoab'):P,H=y.withPab,z=u('contact.oab')||{},B=z.composeNormalListAttrs,Z=z.searchListAttrs,O=u('contact.pab')||{},F=O.composeSearchListAttrs,j=O.composeListAttrs,W=O.schema,R=d.enabled,U=e.$('.j-select-tgl').click((function(){S=!S;var t=parseInt(V[0].style.width);G.css('width',S?'0':'20%'),V.css('width',(S?t<=60?t+20:t:t<=80?t-20:t)+'%'),e.$('.j-contactdg-table').toggleClass('z-select-hide',S),U.find('.iconfont').attr('class','iconfont '+(S?'iconleft':'iconright'))})),Y=e.$('.j-contact-table'),X=Y.find('thead'),K=Y.find('tbody'),$=e.$('.j-contact-list'),V=e.$('.j-list-head'),G=e.$('.j-select-head'),J=e.$('.j-contact-select');e.on('confirm',(function(){var e;A&&A((e={},J.find('.u-box').each((function(t,i){e[a(i).data().type]=a(i).find('.j-list').data('contacts')})),o?e:e.contact),i)})).after('hide',(function(){i&&i.focus(),M&&M()}));var Q=s.of(p.pabSearch);e.$().mask(),l.when(!1!==H&&w()).then((function(i){var s,d,h;E=i,T=n('ztContactDG',D?f.dir:[],(function(e,t){return[].concat(E&&!t?k(E):[],f.ztFmt(e,t))}),(function(){return function(e,t,i){n.select(e,t,i&&f.parentsDN,i?u('user.ou'):'__pab__')}(T,m.get('last_node_id'),D)}),0,(function(e,t,i){var n;i||(n=e,m.set('last_node_id',n),function(e,t){re((function(i){return C(t)?oe(e).then((function(e){var t=e.length;return e=e.slice(i,i+b),l.when(e,t)})):p.getOabOuUserList(t,B,i,b)}))}(e,t))}),{addDiyDom:function(t,i){var n=e.$('#'+i.tId+'_a'),a=e.$('#'+i.tId+'_switch'),r=n.find('#'+i.tId+'_ico'),o=n.find('#'+i.tId+'_span');if(r.before(a),o.attr('dn',i.id),i.level>0){var s='<span style=\'display: inline-block;width:'+5*i.level+'px\'></span>';a.before(s)}i.isParent||a.append('<i class="iconfont icongroup"></i>').addClass('button-child')}}),Y.on('click','tbody tr,.checkbox',(function(e){t.stop(e);var i=a(this),n=[],r=!0,o=[];if(i.hasClass('checkbox'))i.closest('th').length>0?(r=!1,i.prev('thead input[type=checkbox]').is(':checked')?K.find('.checkbox').each((function(){var e=a(this).prev('input[type=checkbox]');e.is(':checked')||(v(e),a(this).closest('tr').addClass('z-selected'))})):K.find('.checkbox').each((function(){var e=a(this).prev('input[type=checkbox]');e.is(':checked')&&(x(e),a(this).closest('tr').removeClass('z-selected'))}))):i.closest('tr').toggleClass('z-selected',i.prev('input[type=checkbox]').is(':checked'));else{if(i.hasClass('z-disabled'))return!1;var s=i.find('input[type=checkbox]');if(i.hasClass('z-selected'))x(s),i.removeClass('z-selected');else{if(!(a(this).attr('uid')||a(this).attr('email')||i.hasClass('j-group')))return!1;v(s),i.addClass('z-selected')}}var l=K.find('tr.j-group')[0];K.find('tr.z-selected').each((function(){l?o.push(a(this).attr('uid')):n.push({id:a(this).attr('uid'),name:a(this).attr('name'),addr:a(this).attr('email'),isOab:a(this).data('isoab'),isUser:a(this).data('user'),securityLevel:parseInt(a(this).attr('securitylevel'))})})),r&&v(X.find('input[type=checkbox]'),K.find('tr.z-selected').length===N.length),l?oe(o).then((function(e){ie(e,L),L=e})):ie(n,N)})),s=e.$('.j-tree-list'),d=parseInt(e.$('.u-contactdg-tree').css('width')),h=parseInt(V.css('width')),s.resizable({handles:'e',maxWidth:d+150,minWidth:d,resize:function(t,i){var n=S?100:80;h=Math.floor(n-i.size.width/d*20),V.css('width',h+'%'),e.$('.j-select-list').css('width',h+'%'),G.css('width',S?'0':'20%')}}),s.find('.ui-resizable-handle').html('<i class="iconfont iconsliderv"></i>'),e.$('.j-select-title').html(I||r('compose/lbt_common_title')),(o||[{contact:''}]).map((function(e,t){var i=Object.entries(e)[0],n=i[0],a=i[1];c=c||n,J.append(_.selectboxtpl({type:n,name:a,follow:t>0})),ie(o?g[n]:g,[],n)})),J.on('click','.u-box',(function(){var e=[];J.find('.u-box').removeClass('z-active'),a(this).addClass('z-active'),a(this).find('li').each((function(){var t={id:a(this).attr('data-id'),email:a(this).attr('email')};e.push(t)})),ee(e)})),J.on('click','a',(function(){var e,t=a(this).closest('.j-list'),i=a(this).closest('li'),n=t.data('contacts'),r=[],o=i.attr('data-id'),s=i.attr('email');return e=s||o,a.each(n,(function(t,i){var a=i.addr||i.id;if(e===a)return n.splice(t,1),!1})),r.push({id:o,email:s}),i.remove(),te(r),ne(),!1})),G.on('click','a',(function(){var e=[];J.find('.j-list').each((function(){var t=a(this).data('contacts')||[];a.each(t,(function(t,i){e.push({id:i.id,email:i.addr})})),a(this).data('contacts',[]).empty()})),te(e,!0),ne()})),J.find('[data-type='+c+']').click(),e.$().mask('hide')})),e.before('destroy',(function(){T&&T.destroy(),q.destroy()}));var q=new h({element:e.$('.j-select-wrapper'),placeholder:r('contact/lbl_quickSearchContacts'),containerClassName:'u-input-round'}).on('keyup',(function(e){e&&function(e){C(ae())?(i={keyword:e},re((function(e){return p.pabSearchInJsp(t.assign({},i,{start:e,limit:b})).onRTN((function(e){p.filterPabContacts(e),e.forEach((function(e){e.isUser=!0}))}))}),1)):function(e){re(p.oabSearch(e,Z,b)(),1)}({dn:ae().getPath()[0].id,recursive:!0,keyword:e});var i}(e)}));function ee(e){if(K.find('tr').hasClass('j-group'))return!1;var t=!0;K.find('tr').each((function(){var i,n=!1,r=a(this).attr('email'),o=a(this).attr('uid');i=r||o,a.each(e,(function(e,t){var a=t.email||t.id;if(i===a)return n=!0,!1}));var s=a(this).find('input[type=checkbox]');n?(a(this).addClass('z-selected'),v(s)):(t=!1,a(this).hasClass('j-group')||(a(this).removeClass('z-selected'),x(s)))})),v(X.find('input[type=checkbox]'),t)}function te(e,t){K.find('tr').each((function(){var i,n=t&&a(this).hasClass('j-group'),r=a(this).attr('email'),o=a(this).attr('uid');i=r||o,a.each(e,(function(e,t){var a=t.email||t.id;if(i===a)return n=!0,!1})),n&&(a(this).removeClass('z-selected'),x(a(this).find('input[type=checkbox]')))})),e.length>0&&x(X.find('input[type=checkbox]'))}function ie(e,i,n){var r=J.find((n?'[data-type='+n+']':'.z-active')+' .j-list'),o=function(e){return e.addr||e.id},s=r.data('contacts')||[],l=new Set(s.map(o));i=new Set(t.map(i,o)),e=e.filter((function(e){return i['delete'](o(e)),!l.has(o(e))})),r.data('contacts',s.filter((function(e){return!i.has(o(e))})).concat(e)),r.find('li').filter((function(e,t){return i.has(a(t).attr('email')||a(t).attr('data-id'))})).remove(),r.append(e.map((function(e){var t=e.id,i=e.name,n=e.addr,a=e.isOab,r=e.securityLevel;return _.selectcontacttpl({id:t,name:i,addr:n,value:R&&a?d.tag(r,i||n):i||n})}))),ne()}function ne(){var e=G.find('.j-select-added'),t=J.find('li').length;e.find('.small').html(r('mail/msg_added').replace('{0}',t))}var ae=function(){return T.getSelectedNodes()[0]};function re(e,i){!function n(o){$.mask(),e(o*b||0).fin((function(e,s,l,d){$.mask('hide'),e&&(o||function(e,t,i,n){var a=ae(),o=C(a);V.find('.group-info').html(_[o?'pabheadtpl':e?'ousearchheadtpl':'ouheadtpl']({name:e?r('contact/tab_'+(o?'pab':'oab')):a.name,total:t,depts:i,addrs:t-i})),V.find('.group-page').pagination({total:t,limit:b,round:!0,prevText:'<span class="iconfont iconprevious"></span>',nextText:'<span class="iconfont iconnext"></span>',callback:n})}(i,l,d,n),function(e,i){var n=ae(),a=!C(n),o=t.map(e?a?Z:F:a?B:'__pab__'===n.id?[{label:r('contact/lbl_groupName')}]:j,(function(e){return t.isSTR(e)?{id:e,label:W[e]}:e}));X.html(_.theadTpl({fields:o})),N=t.map(i,(function(e){var t=e['@type'],i=a?'U'===t||'X'===t:e.isUser;return{icon:'icon'+(i?a?'1'!==e.gender?'man':'women':'-headportrait':'group'),name:e.true_name||e.name,addr:e.emailaddr||e.email,id:e['@id']||e.id||'',isUser:i,isOab:a,isList:'L'===t,td:(i||t)&&o.map(p.oabRow(e)),securityLevel:e.security_level||-1}})),K.html(_.tbodyTpl({rows:N,fields:o})),Y.customRadioCheckbox(),Y.css('display','inline-table'),setTimeout((function(){Y.css('display','')}),0),Y.resizableTable()}(i,s),ee(J.find('.z-active .j-list li').get().map((function(e){return{id:a(e).attr('data-id'),email:a(e).attr('email')}}))))}))}()}function oe(e){if('__pab__'===e)return l.resolve(E);var t=[].concat(e),i=t.includes('OTHER');return Q.get((function(e){return p.filterPabContacts(e),e.forEach((function(e){e.addr=e.emailaddr,e.isUser=!0,e.isOab=!1})),e.filter((function(e){return i&&0===e.groups.length||t.some((function(t){return e.groups.includes(t)}))}))}))}}var _=i(878),w=function(){return p.pabGroups().then((function(e){return e&&e.concat({id:'OTHER',name:r('contact/gp_other')})}))},k=function(e){return[{id:'__pab__',name:r('contact/tab_pab'),isPab:!0,children:e}]},C=function(e){return e.getPath()[0].isPab};e.exports=function(e,i){var n=t.array(i.trigger),s=n[0],l=n[1];e.off('click',s).on('click',s,t.stop((function(){var n=a(this),s=t.assign({},i,{},l&&l(n));c(_(),{width:'auto',title:s.title||r('setting/op_addEmail'),afterRender:function(){var t,i=s.input,n=s.init;y(this,i,s.types,s.type,n?n():(t=e.find(i),o.parse(t.val()).map((function(e){return{name:e.trueName,addr:e.address}}))),s)}})})))}}).call(this,i(464))},547:function(e,t,i){(function(t,n,a,r){i(548),i(879),i(880);var o=KindEditor,s=i(478),l=i(483),d=l.text2html,c=l.html2text,h=i(490),u=i(470).confirm,p=i(468).get,f=i(881),m=i(533).wm,g={zh_CN:'zh-CN',zh_TW:'zh-TW'}[p('context.locale')]||'en';i(882)('./'+g),i(883),i(884),i(885),i(886);var v={filterMode:!1,resizeType:0,themeType:'xt5',loadStyleMode:!1,basePath:i.p+'K/',cssPath:s.stylePath('css/KE.css'),minWidth:200,minHeight:100,allowFlashUpload:!1,allowMediaUpload:!1,allowFileManager:!1,minChangeSize:5,afterFocus:function(){this.focus()},afterBlur:function(){this.sync()}};o.NO_PLUGIN_TABLE=!p('setting.enableEditorContextMenuTable'),e.exports=b,b.K=o;var x=[['fontname','fontsize','bold','italic','underline','forecolor','hilitecolor','|','lineheight','plug-align','plug-order','plug-indent'],['bold','italic','underline','fontname','fontsize','forecolor','hilitecolor','image','|','plug-align','plug-order','plug-indent']];function b(e,i,s,l,p){var g,b=e[0],y=e[1],_=e[2],w=n.isArray(s),k=w&&s[1],C=l&&l.options.composeId;function S(){(function(e,i){e.beforeGetHtml((function(e){return e.replace(/\u200b/g,'')})),t(e.cmd.doc).on('click','a[data-ke-src]',(function(){open(this.href)})).add(e.edit.textarea).mousedown((function(){t(document).trigger('hide.menu')})),e.statusbar.hide(),i&&f(e,i),i&&i.setDropZone()})(g=o.create(b?b.$(i):i,p),l),w&&function(e){function i(e,t){n.text(r(e?'compose/lb_plaintext':'mail/compose_html')),n.siblings('span').animate({width:e?'show':'hide'},t),k&&k(e)}var n=t('<div class=ke-mode-toggle>').click((function(){var t=e.designMode,n=e.html();a.resolve(!t||e.isEmpty()||u(r('common/editor_html_source'))).truthy().then((function(){e.clickToolbar('source'),e.html((t?c:d)(n)),i(!t,200),setTimeout(T,200)}))})).appendTo(e.toolbar.div);i(s,0)}(g),y&&y(g)}function T(){t(g.container).is(':visible')&&(!t(g.edit.htmlIframe).contents().is(g.cmd.doc)&&(g.sync(),p.designMode=g.designMode,g.remove(),S()),_&&setTimeout(_,20))}return(p=n.assign({},v,{uploadJson:l&&{url:l.options.uploadUrl,inlined:!0,composeId:C},afterUpload:function(e){var t=e.attachmentId,i=e.contentType,n=e.fileName,r=e.size;return l.mergeFiles([{completed:!0,contentType:i,id:t,inlined:!0,name:n,size:r,type:'upload'}]),a.wmURL({func:'mbox:getComposeData',composeId:C,attachId:t})},beforeUpload:function(e,t){var i=a.wmURL(g.uploadJson);l?l.saveSession().then((function(){m('upload:prepare',{composeId:C,attachmentId:-1,fileName:e,inlined:!0}).then((function(e){var n=e.attachmentId;return t(i+'&attachId='+n)}))})):t(i)},afterChange:function(){var e=n.mapFilter(t(this.edit.doc).find('img'),(function(e){var t=h(e.src).searchParams;return t.get('composeId')===C&&+t.get('attachId')}));l&&n.sumBy(l.composeFiles('inlined'),(function(t){var i=e.includes(t.id);if(t.cmMeta.deleted===i)return t.cmMeta.deleted=!i,l._trigger(i?'completed':'destroyed'),1}))&&l.saveSession()}},p,{designMode:s=!!(w?s[0]:s),composeId:C})).items=n.difference(x[p.items||0]||p.items,p.uploadJson?0:'image'),S(),b&&b.rebindMessage('view:active',T).resubscribe('ScreenLock','unlocked',T),T(),g}}).call(this,i(463),i(464),i(466),i(465))},548:function(e,t,i){!function(e,t){if(!e.KindEditor){e.console||(e.console={}),console.log||(console.log=function(){});var i='4.1.13-cm-1.2 (2021-09-08)',n=navigator.userAgent.toLowerCase(),a=n.indexOf('msie')>-1&&-1==n.indexOf('opera'),r=-1==n.indexOf('msie')&&n.indexOf('trident')>-1,o=n.indexOf('edge')>-1,s=n.indexOf('gecko')>-1&&-1==n.indexOf('khtml'),l=n.indexOf('applewebkit')>-1,d=n.indexOf('opera')>-1,c=n.indexOf('mobile')>-1,h=/ipad|iphone|ipod/.test(n),u='CSS1Compat'!=document.compatMode,p=!e.getSelection,f=/(?:msie|firefox|webkit|opera)[\/:\s](\d+)|trident\/.*rv:([0-9]+)/.exec(n),m=f?f[1]?f[1]:f[2]:'0',g=(new Date).getTime(),v=Math.round,x={DEBUG:!1,VERSION:i,IE:a,GECKO:s,WEBKIT:l,OPERA:d,V:m,TIME:g,each:K,isArray:U,isFunction:Y,inArray:X,inString:V,trim:$,addUnit:G,removeUnit:J,escape:Q,unescape:q,toCamel:ee,toHex:te,toMap:ie,toArray:ne,undef:ae,invalidUrl:function(e){return!e||/[<>"]/.test(e)},addParam:function(e,t){return e.indexOf('?')>=0?e+'&'+t:e+'?'+t},extend:re,json:JSON.parse,compositionStart:!1},b=ie('a,abbr,acronym,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,img,input,ins,kbd,label,map,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var'),y=ie('address,applet,blockquote,body,center,dd,dir,div,dl,dt,fieldset,form,frameset,h1,h2,h3,h4,h5,h6,head,hr,html,iframe,ins,isindex,li,map,menu,meta,noframes,noscript,object,ol,p,pre,script,style,table,tbody,td,tfoot,th,thead,title,tr,ul'),_=ie('area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed'),w=ie('b,basefont,big,del,em,font,i,s,small,span,strike,strong,sub,sup,u'),k=ie('img,table,input,textarea,button'),C=ie('pre,style,script'),S=ie('html,head,body,td,tr,table,ol,ul,li'),T=(ie('colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr'),ie('checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected')),E=ie('input,button,textarea,select');x.basePath=function(){for(var e,t=document.getElementsByTagName('script'),i=0,n=t.length;i<n;i++)if(e=t[i].src||'',/kindeditor[\w\-\.]*\.js/.test(e))return e.substring(0,e.lastIndexOf('/')+1);return''}(),x.options={designMode:!0,fullscreenMode:!1,filterMode:!0,wellFormatMode:!0,shadowMode:!0,loadStyleMode:!0,basePath:x.basePath,themesPath:x.basePath+'themes/',langPath:x.basePath+'lang/',pluginsPath:x.basePath+'plugins/',themeType:'default',langType:'zh-CN',urlType:'',newlineTag:'p',resizeType:2,syncType:'form',pasteType:2,dialogAlignType:'page',useContextmenu:!0,fullscreenShortcut:!1,bodyClass:'ke-content',indentChar:'\t',cssPath:'',cssData:'',minWidth:650,minHeight:100,minChangeSize:50,zIndex:811213,items:['source','|','undo','redo','|','preview','print','template','code','cut','copy','paste','plainpaste','wordpaste','|','justifyleft','justifycenter','justifyright','justifyfull','insertorderedlist','insertunorderedlist','indent','outdent','subscript','superscript','clearhtml','quickformat','selectall','|','fullscreen','/','formatblock','fontname','fontsize','|','forecolor','hilitecolor','bold','italic','underline','strikethrough','lineheight','removeformat','|','image','multiimage','flash','media','insertfile','table','hr','emoticons','baidumap','pagebreak','anchor','link','unlink','|','about'],noDisableItems:['source','fullscreen'],colorTable:[['#E53333','#E56600','#FF9900','#64451D','#DFC5A4','#FFE500'],['#009900','#006600','#99BB00','#B8D100','#60D978','#00D5FF'],['#337FE5','#003399','#4C33E5','#9933E5','#CC33E5','#EE33EE'],['#FFFFFF','#CCCCCC','#999999','#666666','#333333','#000000']],fontSizeTable:['9px','10px','12px','13px','14px','16px','18px','24px','32px'],htmlTags:{font:['id','class','color','size','face','style','.background-color'],span:['id','class','.color','.background-color','.font-size','.font-family','.background','.font-weight','.font-style','.text-decoration','.vertical-align','.line-height'],div:['id','class','align','.border','.margin','.padding','.text-align','.color','.background-color','.font-size','.font-family','.font-weight','.background','.font-style','.text-decoration','.vertical-align','.margin-left'],table:['id','class','border','cellspacing','cellpadding','width','height','align','bordercolor','.padding','.margin','.border','bgcolor','.text-align','.color','.background-color','.font-size','.font-family','.font-weight','.font-style','.text-decoration','.background','.width','.height','.border-collapse'],'td,th':['id','class','align','valign','width','height','colspan','rowspan','bgcolor','.text-align','.color','.background-color','.font-size','.font-family','.font-weight','.font-style','.text-decoration','.vertical-align','.background','.border','.border-top','.border-left','.border-right','.border-bottom','.border-style','.border-width','.border-color'],a:['id','class','href','target','name'],embed:['id','class','src','width','height','type','loop','autostart','quality','.width','.height','align','allowscriptaccess','wmode'],img:['id','class','src','width','height','border','alt','title','align','.width','.height','.border'],'p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6':['id','class','align','.text-align','.color','.background-color','.font-size','.font-family','.background','.font-weight','.font-style','.text-decoration','.vertical-align','.text-indent','.margin-left'],pre:['id','class'],hr:['id','class','.page-break-after'],'br,tbody,tr,strong,b,sub,sup,em,i,u,strike,s,del':['id','class'],iframe:['id','class','src','frameborder','width','height','.width','.height']},layout:'<div class="container"><div class="toolbar"></div><div class="edit"></div><div class="statusbar"></div></div>'};var N=ie('8,9,13,32,46,48..57,59,61,65..90,106,109..111,188,190..192,219..222'),L=ie('33..40'),I={};K(N,(function(e,t){I[e]=t})),K(L,(function(e,t){I[e]=t}));var A='altKey,attrChange,attrName,bubbles,button,cancelable,charCode,clientX,clientY,ctrlKey,currentTarget,data,detail,eventPhase,fromElement,handler,keyCode,metaKey,newValue,offsetX,offsetY,originalTarget,pageX,pageY,prevValue,relatedNode,relatedTarget,screenX,screenY,shiftKey,srcElement,target,toElement,view,wheelDelta,which'.split(',');re(se,{init:function(e,t){var i=this,n=e.ownerDocument||e.document||e;if(i.event=t,K(A,(function(e,n){i[n]=t[n]})),i.target||(i.target=i.srcElement||n),3===i.target.nodeType&&(i.target=i.target.parentNode),!i.relatedTarget&&i.fromElement&&(i.relatedTarget=i.fromElement===i.target?i.toElement:i.fromElement),null==i.pageX&&null!=i.clientX){var a=n.documentElement,r=n.body;i.pageX=i.clientX+(a&&a.scrollLeft||r&&r.scrollLeft||0)-(a&&a.clientLeft||r&&r.clientLeft||0),i.pageY=i.clientY+(a&&a.scrollTop||r&&r.scrollTop||0)-(a&&a.clientTop||r&&r.clientTop||0)}switch(!i.which&&(i.charCode||0===i.charCode?i.charCode:i.keyCode)&&(i.which=i.charCode||i.keyCode),!i.metaKey&&i.ctrlKey&&(i.metaKey=i.ctrlKey),i.which||void 0===i.button||(i.which=1&i.button?1:2&i.button?3:4&i.button?2:0),i.which){case 186:i.which=59;break;case 187:case 107:case 43:i.which=61;break;case 189:case 45:i.which=109;break;case 42:i.which=106;break;case 47:i.which=111;break;case 78:i.which=110}i.which>=96&&i.which<=105&&(i.which-=48)},preventDefault:function(){var e=this.event;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){var e=this.event;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},stop:function(){this.preventDefault(),this.stopPropagation()}});var M='kindeditor_'+g,P=0,D={},H=!1;e.attachEvent&&e.attachEvent('onunload',(function(){K(D,(function(e,t){t.el&&he(t.el)}))})),x.ctrl=ue,x.ready=function(t){if(H)t(Pe);else{var i=!1;if(document.addEventListener)ce(document,'DOMContentLoaded',a);else if(document.attachEvent){ce(document,'readystatechange',(function(){'complete'===document.readyState&&a()}));var n=!1;try{n=null==e.frameElement}catch(r){}document.documentElement.doScroll&&n&&function t(){if(!i){try{document.documentElement.doScroll('left')}catch(r){return void setTimeout(t,100)}a()}}()}ce(e,'load',a)}function a(){i||(i=!0,t(Pe),H=!0)}},x.formatUrl=me,x.formatHtml=ge,x.getCssList=pe,x.getAttrList=fe,x.mediaType=xe,x.mediaAttrs=function(e){return fe(unescape(e))},x.mediaEmbed=be,x.mediaImg=function(e,t){var i=t.width,n=t.height,a=t.type||xe(t.src),r=be(t),o='';/\D/.test(i)?o+='width:'+i+';':i>0&&(o+='width:'+i+'px;'),/\D/.test(n)?o+='height:'+n+';':n>0&&(o+='height:'+n+'px;');var s='<img class="'+function(e){return/realaudio/i.test(e)?'ke-rm':/flash/i.test(e)?'ke-flash':'ke-media'}(a)+'" src="'+e+'" ';return''!==o&&(s+='style="'+o+'" '),s+='data-ke-tag="'+escape(r)+'" alt="" />'},x.clearMsWord=ve,x.tmpl=function(e,t){var i=new Function('obj','var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push(\''+e.replace(/[\r\t\n]/g,' ').split('<%').join('\t').replace(/((^|%>)[^\t]*)'/g,'$1\r').replace(/\t=(.*?)%>/g,'\',$1,\'').split('\t').join('\');').split('%>').join('p.push(\'').split('\r').join('\\\'')+'\');}return p.join(\'\');');return t?i(t):i};var z=document.createElement('div');z.setAttribute('className','t');var B='t'!==z.className;x.query=function(e,t){var i=we(e,t);return i.length>0?i[0]:null},x.queryAll=we,re(Me,{init:function(e){for(var t=0,i=0,n=(e=U(e)?e:[e]).length;i<n;i++)e[i]&&(this[i]=e[i].constructor===Me?e[i][0]:e[i],t++);this.length=t,this.doc=Ce(this[0]),this.name=Ne(this[0]),this.type=this.length>0?this[0].nodeType:null,this.win=Se(this[0])},each:function(e){for(var t=0;t<this.length;t++)if(!1===e.call(this[t],t,this[t]))return this;return this},bind:function(e,t){return this.each((function(){ce(this,e,t)})),this},unbind:function(e,t){return this.each((function(){he(this,e,t)})),this},fire:function(e){return this.length<1||function t(e,i){if(i.indexOf(',')>=0)K(i.split(','),(function(){t(e,this)}));else{var n=le(e);if(n){var a=D[n][i];D[n]&&a&&a.length>0&&a[0]()}}}(this[0],e),this},hasAttr:function(e){return!(this.length<1)&&!!_e(this[0],e)},attr:function(e,t){var i=this;return void 0===e?fe(i.outer()):'object'==typeof e?(K(e,(function(e,t){i.attr(e,t)})),i):void 0===t?null===(t=i.length<1?null:_e(i[0],e))?'':t:(i.each((function(){Ee(this,e,t)})),i)},removeAttr:function(e){return this.each((function(){!function(e,t){a&&m<8&&'class'==t.toLowerCase()&&(t='className'),Ee(e,t,''),e.removeAttribute(t)}(this,e)})),this},get:function(e){return this.length<1?null:this[e||0]},eq:function(e){return this.length<1?null:this[e]?new Me(this[e]):null},hasClass:function(e){return!(this.length<1)&&Te(this[0],e)},addClass:function(e){return this.each((function(){Te(this,e)||(this.className=$(this.className+' '+e))})),this},removeClass:function(e){return this.each((function(){Te(this,e)&&(this.className=$(this.className.replace(new RegExp('(^|\\s)'+e+'(\\s|$)'),' ')))})),this},html:function(e){return void 0===e?this.length<1||1!=this.type?'':ge(this[0].innerHTML):(this.each((function(){!function(e,t){if(1==e.nodeType){var i=Ce(e);try{e.innerHTML='<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />'+t;var n=i.getElementById('__kindeditor_temp_tag__');n.parentNode.removeChild(n)}catch(a){Pe(e).empty(),Pe('@'+t,i).each((function(){e.appendChild(this)}))}}}(this,e)})),this)},text:function(){return this.length<1?'':a?this[0].innerText:this[0].textContent},hasVal:function(){return!(this.length<1)&&Le(this[0])},val:function(e){return void 0===e?this.length<1?'':this.hasVal()?this[0].value:this.attr('value'):(this.each((function(){Le(this)?this.value=e:Ee(this,'value',e)})),this)},css:function(e,t){var i=this;return void 0===e?pe(i.attr('style')):'object'==typeof e?(K(e,(function(e,t){i.css(e,t)})),i):void 0===t?i.length<1?'':i[0].style[ee(e)]||function(e,t){var i=Se(e),n=ee(t),a='';if(i.getComputedStyle){var r=i.getComputedStyle(e,null);a=r[n]||r.getPropertyValue(t)||e.style[n]}else e.currentStyle&&(a=e.currentStyle[n]||e.style[n]);return a}(i[0],e)||'':(i.each((function(){this.style[ee(e)]=t})),i)},width:function(e){return void 0===e?this.length<1?0:this[0].offsetWidth:this.css('width',G(e))},height:function(e){return void 0===e?this.length<1?0:this[0].offsetHeight:this.css('height',G(e))},opacity:function(e){return this.each((function(){void 0===this.style.opacity?this.style.filter=1==e?'':'alpha(opacity='+100*e+')':this.style.opacity=1==e?'':e})),this},data:function(e,t){return e='kindeditor_data_'+e,void 0===t?this.length<1?null:this[0][e]:(this.each((function(){this[e]=t})),this)},pos:function(){var e=this[0],t=0,i=0;if(e)if(e.getBoundingClientRect){var n=e.getBoundingClientRect(),a=Ae(this.doc);t=n.left+a.x,i=n.top+a.y}else for(;e;)t+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return{x:v(t),y:v(i)}},clone:function(e){return this.length<1?new Me([]):new Me(this[0].cloneNode(e))},append:function(e){return this.each((function(){this.appendChild&&this.appendChild(ke(e))})),this},appendTo:function(e){return this.each((function(){ke(e).appendChild(this)})),this},before:function(e){return this.each((function(){this.parentNode.insertBefore(ke(e),this)})),this},after:function(e){return this.each((function(){this.nextSibling?this.parentNode.insertBefore(ke(e),this.nextSibling):this.parentNode.appendChild(ke(e))})),this},replaceWith:function(e){var t=[];return this.each((function(i,n){he(n);var a=ke(e);n.parentNode.replaceChild(a,n),t.push(a)})),Pe(t)},empty:function(){return this.each((function(e,t){for(var i=t.firstChild;i;){if(!t.parentNode)return;var n=i.nextSibling;i.parentNode.removeChild(i),i=n}})),this},remove:function(e){var t=this;return t.each((function(i,n){if(n.parentNode){if(he(n),e)for(var a=n.firstChild;a;){var r=a.nextSibling;n.parentNode.insertBefore(a,n),a=r}n.parentNode.removeChild(n),delete t[i]}})),t.length=0,t},show:function(e){return void 0===e&&(e=this._originDisplay||''),'none'!=this.css('display')?this:this.css('display',e)},hide:function(){return this.length<1?this:(this._originDisplay=this[0].style.display,this.css('display','none'))},outer:function(){if(this.length<1)return'';var e,t=this.doc.createElement('div');return t.appendChild(this[0].cloneNode(!0)),e=ge(t.innerHTML),t=null,e},isSingle:function(){return!!_[this.name]},isInline:function(){return!!b[this.name]},isBlock:function(){return!!y[this.name]},isStyle:function(){return!!w[this.name]},isControl:function(){return!!k[this.name]},contains:function(e){return!(this.length<1)&&ye(this[0],ke(e))},parent:function(){if(this.length<1)return null;var e=this[0].parentNode;return e?new Me(e):null},children:function(){if(this.length<1)return new Me([]);for(var e=[],t=this[0].firstChild;t;)3==t.nodeType&&''===$(t.nodeValue)||e.push(t),t=t.nextSibling;return new Me(e)},first:function(){var e=this.children();return e.length>0?e.eq(0):null},last:function(){var e=this.children();return e.length>0?e.eq(e.length-1):null},index:function(){if(this.length<1)return-1;for(var e=-1,t=this[0];t;)e++,t=t.previousSibling;return e},prev:function(){if(this.length<1)return null;var e=this[0].previousSibling;return e?new Me(e):null},next:function(){if(this.length<1)return null;var e=this[0].nextSibling;return e?new Me(e):null},scan:function(e,t){if(!(this.length<1))return t=void 0===t||t,function i(n){for(var a=t?n.firstChild:n.lastChild;a;){var r=t?a.nextSibling:a.previousSibling;if(!1===e(a))return!1;if(!1===i(a))return!1;a=r}}(this[0]),this}}),K('blur,focus,focusin,focusout,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error,contextmenu'.split(','),(function(e,t){Me.prototype[t]=function(e){return e?this.bind(t,e):this.fire(t)}})),K(x,(function(e,t){Pe[e]=t})),Pe.NodeClass=Me,e.KindEditor=Pe;var Z=0;re(Fe,{init:function(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.collapsed=!0,this.doc=e},commonAncestor:function(){function e(e){for(var t=[];e;)t.push(e),e=e.parentNode;return t}for(var t,i,n=e(this.startContainer),a=e(this.endContainer),r=0,o=n.length,s=a.length;++r&&(t=n[o-r],i=a[s-r],t&&i&&t===i););return n[o-r+1]},setStart:function(e,t){var i=this.doc;return this.startContainer=e,this.startOffset=t,this.endContainer===i&&(this.endContainer=e,this.endOffset=t),De(this)},setEnd:function(e,t){var i=this.doc;return this.endContainer=e,this.endOffset=t,this.startContainer===i&&(this.startContainer=e,this.startOffset=t),De(this)},setStartBefore:function(e){return this.setStart(e.parentNode||this.doc,Pe(e).index())},setStartAfter:function(e){return this.setStart(e.parentNode||this.doc,Pe(e).index()+1)},setEndBefore:function(e){return this.setEnd(e.parentNode||this.doc,Pe(e).index())},setEndAfter:function(e){return this.setEnd(e.parentNode||this.doc,Pe(e).index()+1)},selectNode:function(e){return this.setStartBefore(e).setEndAfter(e)},selectNodeContents:function(e){var t=Pe(e);if(3==t.type||t.isSingle())return this.selectNode(e);var i=t.children();return i.length>0?this.setStartBefore(i[0]).setEndAfter(i[i.length-1]):this.setStart(e,0).setEnd(e,0)},collapse:function(e){return e?this.setEnd(this.startContainer,this.startOffset):this.setStart(this.endContainer,this.endOffset)},compareBoundaryPoints:function(e,t){var i=this.get(),n=t.get();if(!p)return i.compareBoundaryPoints(e,n);var a,r,o,s,l,d={0:'StartToStart',1:'EndToStart',2:'EndToEnd',3:'StartToEnd'},c=i.compareEndPoints(d[e],n);if(0!==c)return c;if(0!==e&&3!==e||(a=this.startContainer,s=this.startOffset),1!==e&&2!==e||(a=this.endContainer,s=this.endOffset),0!==e&&1!==e||(r=t.startContainer,l=t.startOffset),2!==e&&3!==e||(r=t.endContainer,l=t.endOffset),a===r){var h=s-l;return h>0?1:h<0?-1:0}for(o=r;o&&o.parentNode!==a;)o=o.parentNode;if(o)return Pe(o).index()>=s?-1:1;for(o=a;o&&o.parentNode!==r;)o=o.parentNode;return o?Pe(o).index()>=l?1:-1:(o=Pe(r).next())&&o.contains(a)?1:(o=Pe(a).next())&&o.contains(r)?-1:void 0},cloneRange:function(){return new Fe(this.doc).setStart(this.startContainer,this.startOffset).setEnd(this.endContainer,this.endOffset)},toString:function(){var e=this.get();return(p?e.text:e.toString()).replace(/\r\n|\n|\r/g,'')},cloneContents:function(){return He(this,!0,!1)},deleteContents:function(){return He(this,!1,!0)},extractContents:function(){return He(this,!0,!0)},insertNode:function(e){var t,i,n,a=this.startContainer,r=this.startOffset,o=this.endContainer,s=this.endOffset,l=1;return'#document-fragment'===e.nodeName.toLowerCase()&&(t=e.firstChild,i=e.lastChild,l=e.childNodes.length),1==a.nodeType?(n=a.childNodes[r])?(a.insertBefore(e,n),a===o&&(s+=l)):a.appendChild(e):3==a.nodeType&&(0===r?(a.parentNode.insertBefore(e,a),a.parentNode===o&&(s+=l)):r>=a.nodeValue.length?a.nextSibling?a.parentNode.insertBefore(e,a.nextSibling):a.parentNode.appendChild(e):(n=r>0?a.splitText(r):a,a.parentNode.insertBefore(e,n),a===o&&(o=n,s-=r))),t?this.setStartBefore(t).setEndAfter(i):this.selectNode(e),this.compareBoundaryPoints(2,this.cloneRange().setEnd(o,s))>=1?this:this.setEnd(o,s)},surroundContents:function(e){return e.appendChild(this.extractContents()),this.insertNode(e).selectNode(e)},isControl:function(){var e=this.startContainer,t=this.startOffset,i=this.endContainer,n=this.endOffset;return 1==e.nodeType&&e===i&&t+1===n&&Pe(e.childNodes[t]).isControl()},get:function(e){var t,i=this.doc;if(!p){t=i.createRange();try{t.setStart(this.startContainer,this.startOffset),t.setEnd(this.endContainer,this.endOffset)}catch(a){}return t}if(e&&this.isControl())return(t=i.body.createControlRange()).addElement(this.startContainer.childNodes[this.startOffset]),t;var n=this.cloneRange().down();return(t=i.body.createTextRange()).setEndPoint('StartToStart',Ze(n.startContainer,n.startOffset)),t.setEndPoint('EndToStart',Ze(n.endContainer,n.endOffset)),t},html:function(){return Pe(this.cloneContents()).outer()},down:function(){var e=this;function t(t,i,n){if(1==t.nodeType){var a,r,o,s,l=Pe(t).children();if(0!==l.length)i>0&&(a=l.eq(i-1)),i<l.length&&(r=l.eq(i)),a&&3==a.type&&(s=(o=a[0]).nodeValue.length),r&&3==r.type&&(o=r[0],s=0),o&&(n?e.setStart(o,s):e.setEnd(o,s))}}return t(e.startContainer,e.startOffset,!0),t(e.endContainer,e.endOffset,!1),e},up:function(){var e=this;function t(t,i,n){3==t.nodeType&&(0===i?n?e.setStartBefore(t):e.setEndBefore(t):i==t.nodeValue.length&&(n?e.setStartAfter(t):e.setEndAfter(t)))}return t(e.startContainer,e.startOffset,!0),t(e.endContainer,e.endOffset,!1),e},enlarge:function(e){var t=this;function i(i,n,a){var r,o=Pe(i);if(!(3==o.type||S[o.name]||!e&&o.isBlock()))if(0===n){for(;!o.prev()&&(r=o.parent())&&!S[r.name]&&(e||!r.isBlock());)o=r;a?t.setStartBefore(o[0]):t.setEndBefore(o[0])}else if(n==o.children().length){for(;!o.next()&&(r=o.parent())&&!S[r.name]&&(e||!r.isBlock());)o=r;a?t.setStartAfter(o[0]):t.setEndAfter(o[0])}}return t.up(),i(t.startContainer,t.startOffset,!0),i(t.endContainer,t.endOffset,!1),t},shrink:function(){for(var e,t=this.collapsed;1==this.startContainer.nodeType&&(e=this.startContainer.childNodes[this.startOffset])&&1==e.nodeType&&!Pe(e).isSingle();)this.setStart(e,0);if(t)return this.collapse(t);for(;1==this.endContainer.nodeType&&this.endOffset>0&&(e=this.endContainer.childNodes[this.endOffset-1])&&1==e.nodeType&&!Pe(e).isSingle();)this.setEnd(e,e.childNodes.length);return this},createBookmark:function(e){var t,i=Pe('<span style="display:none;"></span>',this.doc)[0];return i.id='__kindeditor_bookmark_start_'+Z+++'__',this.collapsed||((t=i.cloneNode(!0)).id='__kindeditor_bookmark_end_'+Z+++'__'),t&&this.cloneRange().collapse(!1).insertNode(t).setEndBefore(t),this.insertNode(i).setStartAfter(i),{start:e?'#'+i.id:i,end:t?e?'#'+t.id:t:null}},moveToBookmark:function(e){var t=this.doc,i=Pe(e.start,t),n=e.end?Pe(e.end,t):null;return!i||i.length<1||(this.setStartBefore(i[0]),i.remove(),n&&n.length>0?(this.setEndBefore(n[0]),n.remove()):this.collapse(!0)),this},dump:function(){console.log('--------------------'),console.log(3==this.startContainer.nodeType?this.startContainer.nodeValue:this.startContainer,this.startOffset),console.log(3==this.endContainer.nodeType?this.endContainer.nodeValue:this.endContainer,this.endOffset)}}),Pe.RangeClass=Fe,Pe.range=je,Pe.START_TO_START=0,Pe.START_TO_END=1,Pe.END_TO_END=2,Pe.END_TO_START=3,re(et,{init:function(e){var t=e.doc;this.doc=t,this.win=Se(t),this.sel=Ue(t),this.range=e},selection:function(e){var t=this.doc,i=function(e){var t,i=Ue(e);try{t=i.rangeCount>0?i.getRangeAt(0):i.createRange()}catch(g){}if(p&&(!t||!t.item&&t.parentElement().ownerDocument!==e))return null;if(!p&&t&&((a||r)&&m<=11||s||o)){var n=t.startContainer,l=t.endContainer,d=n.nextSibling,c=l.previousSibling,h=function(e,i){if('a'===e.parentNode.nodeName.toLowerCase()||e.querySelector&&e.querySelector('a')){var n=i?c:d,a='a'===e.parentNode.nodeName.toLowerCase();e=a?e:e.querySelector('a').childNodes[0],n&&(r=e,(20&n.compareDocumentPosition(r))>0)&&(i?t.setEnd(e,e.data.length):t.setStart(e,0),a||(i?t.setStart(e,0):t.setEnd(e,e.data.length)))}var r};if(n.data)if(t.startOffset!==n.data.length||0!==t.endOffset||'a'!==d.nodeName.toLowerCase()&&!d.querySelector('a'))if(t.startOffset===n.data.length){var u=d&&d.nodeName.toLowerCase();t.collapsed&&('span'===u||'strong'===u||'u'===u||'em'===u)&&d.innerText.indexOf('​')>=0?o?i.extend(d,d.childNodes[0].data.length):(t.setStart(d,0),t.setEnd(d,0)):h(l,!1)}else 0===t.endOffset&&h(n,!0);else{var f=(d='a'===d.nodeName.toLowerCase()?d:d.querySelector('a')).childNodes[0];t.setStart(f,0),t.setEnd(f,f.data.length)}}return t}(t);return this.sel=Ue(t),i?(this.range=je(i),'html'==Pe(this.range.startContainer).name&&this.range.selectNodeContents(t.body).collapse(!1),this):(e&&this.range.selectNodeContents(t.body).collapse(!1),this)},select:function(e){e=ae(e,!0);var t,i=this.sel,n=this.range.cloneRange().shrink(),a=n.startContainer,r=n.startOffset,o=Ce(a),s=this.win,l=!1;if(e&&1==a.nodeType&&n.collapsed){var d=a.childNodes;(Pe(a).isInline()||r>0&&Pe(d[r-1]).isInline()||d[r]&&Pe(d[r]).isInline())&&(n.insertNode(o.createTextNode('​')),l=!0)}if(l&&n.collapse(!1),p)try{(t=n.get(!0)).select()}catch(c){}else t=n.get(!0),i.removeAllRanges(),i.addRange(t);return s.focus(),this},wrap:function(e){var t,i,n=this.doc,a=this.range;if(t=Pe(e,n),a.collapsed){if(a.shrink(),(i=a.commonAncestor())&&'span'===i.nodeName.toLowerCase())if(0===Pe(i).text().replace(/\u200B/g,'').length&&(i.style['font-size']||i.style['font-family']))return t[0].style['font-size']&&(i.style['font-size']=t[0].style['font-size']),t[0].style['font-family']&&(i.style['font-family']=t[0].style['font-family']),l&&this.win.focus(),this;return a.insertNode(t[0]),l?a.selectNode(t[0]):a.selectNodeContents(t[0]),l&&this.win.focus(),this}if(t.isBlock()){for(var r=t.clone(!0),o=r;o.first();)o=o.first();return o.append(a.extractContents()),a.insertNode(r[0]).selectNode(r[0]),this}a.enlarge();var s=a.createBookmark(),d=!1;return Pe(i=a.commonAncestor()).scan((function(e){if(d||e!=s.start){if(d){if(e==s.end)return!1;var i=Pe(e);if(function(e){for(;e&&'body'!=e.name;){if(C[e.name]||'div'==e.name&&e.hasClass('ke-script'))return!0;e=e.parent()}return!1}(i))return;if(3==i.type&&$(e.nodeValue).length>0){for(var n;(n=i.parent())&&n.isStyle()&&1==n.children().length;)i=n;for(;'a'===n.name;)n=(i=n).parent();'ke-content-forecolor'===t.attr('class')&&'a'==i.name&&i.css('color',t[0].style.color),Qe(i,t)}}}else d=!0})),a.moveToBookmark(s),this},split:function(e,t){for(var i,n=this.range,a=n.doc,r=n.cloneRange().collapse(e),o=r.startContainer,s=r.startOffset,l=3==o.nodeType?o.parentNode:o,d=!1;l&&l.parentNode;){if(i=Pe(l),t){if(!i.isStyle())break;if(!Xe(i,t))break}else if(S[i.name])break;d=!0,l=l.parentNode}if(d){var c=a.createElement('span');n.cloneRange().collapse(!e).insertNode(c),e?r.setStartBefore(l.firstChild).setEnd(o,s):r.setStart(o,s).setEndAfter(l.lastChild);var h=r.extractContents(),u=h.firstChild,p=h.lastChild;e?(r.insertNode(h),n.setStartAfter(p).setEndBefore(c)):(l.appendChild(h),n.setStartBefore(c).setEndBefore(u));var f=c.parentNode;if(f==n.endContainer){var m=Pe(c).prev(),g=Pe(c).next();m&&g&&3==m.type&&3==g.type?n.setEnd(m[0],m[0].nodeValue.length):e||n.setEnd(n.endContainer,n.endOffset-1)}f.removeChild(c)}return this},remove:function(e){var t,i,n=this.doc,a=this.range;if(a.enlarge(),0===a.startOffset){for(var r,o=Pe(a.startContainer);(r=o.parent())&&r.isStyle()&&1==r.children().length;)o=r;a.setStart(o[0],0),(o=Pe(a.startContainer)).isBlock()&&$e(o,e);var s=o.parent();s&&s.isBlock()&&$e(s,e)}if(a.collapsed){if(this.split(!0,e),t=a.startContainer,(i=a.startOffset)>0){var l=Pe(t.childNodes[i-1]);l&&Je(l)&&(l.remove(),a.setStart(t,i-1))}var d=Pe(t.childNodes[i]);return d&&Je(d)&&d.remove(),Je(t)&&(a.startBefore(t),t.remove()),a.collapse(!0),this}this.split(!0,e),this.split(!1,e);var c=n.createElement('span'),h=n.createElement('span');a.cloneRange().collapse(!1).insertNode(h),a.cloneRange().collapse(!0).insertNode(c);var u=[],p=!1;Pe(a.commonAncestor()).scan((function(e){if(p||e!=c)return e!=h&&void(p&&u.push(e));p=!0})),Pe(c).remove(),Pe(h).remove(),t=a.startContainer,i=a.startOffset;var f=a.endContainer,m=a.endOffset;if(i>0){var g=Pe(t.childNodes[i-1]);g&&Je(g)&&(g.remove(),a.setStart(t,i-1),t==f&&a.setEnd(f,m-1));var v=Pe(t.childNodes[i]);v&&Je(v)&&(v.remove(),t==f&&a.setEnd(f,m-1))}var x=Pe(f.childNodes[a.endOffset]);x&&Je(x)&&x.remove();var b=a.createBookmark(!0);return K(u,(function(t,i){$e(Pe(i),e)})),a.moveToBookmark(b),this},commonNode:function(e){var t=this.range,i=t.endContainer,n=t.endOffset,a=3==i.nodeType||0===n?i:i.childNodes[n-1];function r(t){for(var i=t,n=t;n;){if(Xe(Pe(n),e))return Pe(n);n=n.parentNode}for(;i&&(i=i.lastChild);)if(Xe(Pe(i),e))return Pe(i);return null}var o=r(a);if(o)return o;if(1==a.nodeType||3==i.nodeType&&0===n){var s=Pe(a).prev();if(s)return r(s)}return null},commonAncestor:function(e){var t=this.range,i=t.startContainer,n=t.startOffset,a=t.endContainer,r=t.endOffset,o=3==i.nodeType||0===n?i:i.childNodes[n-1],s=3==a.nodeType||0===r?a:a.childNodes[r-1];function l(t){for(;t;){if(1==t.nodeType&&t.tagName.toLowerCase()===e)return t;t=t.parentNode}return null}var d=l(o),c=l(s);return d&&c&&d===c?Pe(d):null},state:function(e){var t=this.doc,i=!1;try{i=t.queryCommandState(e)}catch(n){}return i},val:function(e){var t=this.doc;function i(e){return e.toLowerCase()}var n,a='';return'fontfamily'===(e=i(e))||'fontname'===e?(l?a=(a=Re(t,'fontname')).replace(/['"]/g,''):(n=this.commonNode({'*':'.font-family'}))&&(a=n.css('font-family')),i(a)):'formatblock'===e?(''===(a=Re(t,e))&&(n=this.commonNode({'h1,h2,h3,h4,h5,h6,p,div,pre,address':'*'}))&&(a=n.name),'Normal'===a&&(a='p'),i(a)):'fontsize'===e?((n=this.commonNode({'*':'.font-size'}))&&(a=n.css('font-size')),i(a)):'forecolor'===e?((n=this.commonNode({'*':'.color'}))&&(a=n.css('color')),''===(a=te(a))&&(a='default'),i(a)):'hilitecolor'===e?((n=this.commonNode({'*':'.background-color'}))&&(a=n.css('background-color')),''===(a=te(a))&&(a='default'),i(a)):a},toggle:function(e,t){return this.commonNode(t)?this.remove(t):this.wrap(e),this.select()},bold:function(){return this.toggle('<strong></strong>',{span:'.font-weight=bold',strong:'*',b:'*'})},italic:function(){return this.toggle('<em></em>',{span:'.font-style=italic',em:'*',i:'*'})},underline:function(){return this.toggle(s?'<span style="text-decoration:underline;"></span>':'<u></u>',{span:'.text-decoration=underline',u:'*'})},strikethrough:function(){return this.toggle('<s></s>',{span:'.text-decoration=line-through',s:'*'})},forecolor:function(e){return this.wrap('<span class="ke-content-forecolor" style="color:'+e+';"></span>').select()},hilitecolor:function(e){return this.wrap('<span style="background-color:'+e+';"></span>').select()},fontsize:function(e){return this.wrap('<span style="font-size:'+e+';"></span>').select()},fontname:function(e){return this.fontfamily(e)},fontfamily:function(e){return this.wrap('<span style="font-family:'+e+';"></span>').select()},removeformat:function(){var e={'*':'.font-weight,.font-style,.text-decoration,.color,.background-color,.font-size,.font-family,.text-indent'};return K(w,(function(t){e[t]='*'})),this.remove(e),this.select()},inserthtml:function(e,t){var i=this,n=i.range;if(''===e)return i;function a(e,t){var n=e.doc,a=n.createDocumentFragment();Pe('@'+t,n).each((function(){a.appendChild(this)})),e.deleteContents(),e.insertNode(a),e.collapse(!1),i.select(!1)}if(p&&t){try{!function(e,t){t='<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />'+t;var n=e.get(),a=!1;if(n.item)n.item(0).outerHTML=t;else{var r=e.startContainer,o=r.nodeName.toLowerCase();'p'!==o&&'span'!==o||''!==r.innerText?n.pasteHTML(t):(r.innerHTML=t,a=!0)}var s=e.doc.getElementById('__kindeditor_temp_tag__');if(s.parentNode.removeChild(s),a){for(var l=r.childNodes[0];l.childNodes[0]&&3!=l.nodeType;)l=l.childNodes[0];3==l.nodeType&&e.setEnd(l,l.nodeValue.length)}else{var d=Oe(n);e.setEnd(d.endContainer,d.endOffset)}e.collapse(!1),i.select(!1)}(n,e)}catch(r){a(n,e)}return i}return a(n,e),i},hr:function(){return this.inserthtml('<hr />')},print:function(){return this.win.print(),this},insertimage:function(e,t,i,n,a,r){t=ae(t,''),a=ae(a,0);var o='<img src="'+Q(e)+'" data-ke-src="'+Q(e)+'" ';return i&&(o+='width="'+Q(i)+'" '),n&&(o+='height="'+Q(n)+'" '),t&&(o+='title="'+Q(t)+'" '),r&&(o+='align="'+Q(r)+'" '),o+='alt="'+Q(t)+'" ',o+='/>',this.inserthtml(o)},createlink:function(e,t,i){var n=this.doc,a=this.range;this.select();var r=this.commonNode({a:'*'});r&&!a.isControl()&&(a.selectNode(r.get()),this.select());var o='<a href="'+Q(e)+'" data-ke-src="'+Q(e)+'"  title="'+Q(i)+'"';if(t&&(o+=' target="'+Q(t)+'"'),a.collapsed)return o+='>'+Q(i||e)+'</a>',this.inserthtml(o);if(a.isControl()){var s=Pe(a.startContainer.childNodes[a.startOffset]);return o+='></a>',s.after(Pe(o,n)),s.next().append(s),a.selectNode(s[0]),this.select()}function l(e,t,i,n){Pe(e).attr('href',t).attr('data-ke-src',t),n&&e.innerHTML!==n&&(e.innerHTML=n),i?Pe(e).attr('target',i):Pe(e).removeAttr('target')}var d=a.startContainer,c=a.startOffset,h=a.endContainer,u=a.endOffset;if(1==d.nodeType&&d===h&&c+1===u){var p=d.childNodes[c];if('a'==p.nodeName.toLowerCase())return l(p,e,t,i),this}return We(n,'createlink','__kindeditor_temp_url__'),Pe('a[href="__kindeditor_temp_url__"]',n).each((function(){l(this,e,t,i)})),this},unlink:function(){var e=this.doc,t=this.range;if(this.select(),t.collapsed){var i=this.commonNode({a:'*'});if(i&&(t.selectNode(i.get()),this.select()),We(e,'unlink',null),l&&'img'===Pe(t.startContainer).name){var n=Pe(t.startContainer).parent();'a'===n.name&&n.remove(!0)}}else We(e,'unlink',null);return this}}),K('formatblock,selectall,justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,indent,outdent,subscript,superscript'.split(','),(function(e,t){et.prototype[t]=function(e){return this.select(),We(this.doc,t,e),p&&X(t,'justifyleft,justifycenter,justifyright,justifyfull'.split(','))>=0&&this.selection(),(!p||X(t,'formatblock,selectall,insertorderedlist,insertunorderedlist'.split(','))>=0)&&this.selection(),this}})),K('cut,copy,paste'.split(','),(function(e,t){et.prototype[t]=function(){if(!this.doc.queryCommandSupported(t))throw'not supported';return this.select(),We(this.doc,t,null),this}})),Pe.CmdClass=et,Pe.cmd=tt,re(at,{init:function(e){var t=this;if(t.name=e.name||'',t.doc=e.doc||document,t.win=Se(t.doc),t.x=G(e.x),t.y=G(e.y),t.z=e.z,t.width=G(e.width),t.height=G(e.height),t.div=Pe('<div style="display:block;"></div>'),t.options=e,t._alignEl=e.alignEl,t.width&&t.div.css('width',t.width),t.height&&t.div.css('height',t.height),t.z&&t.div.css({position:'absolute',left:t.x,top:t.y,'z-index':t.z}),!t.z||void 0!==t.x&&void 0!==t.y||t.autoPos(t.width,t.height),e.cls&&t.div.addClass(e.cls),e.shadowMode&&t.div.addClass('ke-shadow'),e.css&&t.div.css(e.css),e.src?Pe(e.src).replaceWith(t.div):Pe(t.doc.body).append(t.div),e.html&&t.div.html(e.html),e.autoScroll)if(a&&m<7||u){var i=Ae();Pe(t.win).bind('scroll',(function(){var e=Ae(),n=e.x-i.x,a=e.y-i.y;t.pos(J(t.x)+n,J(t.y)+a,!1)}))}else t.div.css('position','fixed')},pos:function(e,t,i){return i=ae(i,!0),null!==e&&(e=e<0?0:G(e),this.div.css('left',e),i&&(this.x=e)),null!==t&&(t=t<0?0:G(t),this.div.css('top',t),i&&(this.y=t)),this},autoPos:function(e,t){var i,n,r=J(e)||0,o=J(t)||0,s=Ae();if(this._alignEl){var l=Pe(this._alignEl),d=l.pos(),c=v(l[0].clientWidth/2-r/2),h=v(l[0].clientHeight/2-o/2);i=c<0?d.x:d.x+c,n=h<0?d.y:d.y+h}else{var p=Ie(this.doc);i=v(s.x+(p.clientWidth-r)/2),n=v(s.y+(p.clientHeight-o)/2)}return a&&m<7||u||(i-=s.x,n-=s.y),this.pos(i,n)},remove:function(){var e=this;return(a&&m<7||u)&&Pe(e.win).unbind('scroll'),e.div.remove(),K(e,(function(t){e[t]=null})),this},show:function(){return this.div.show(),this},hide:function(){return this.div.hide(),this},draggable:function(e){var t=this;return(e=e||{}).moveEl=t.div,e.moveFn=function(e,i,n,a,r,o){(e+=r)<0&&(e=0),(i+=o)<0&&(i=0),t.pos(e,i)},nt(e),t}}),Pe.WidgetClass=at,Pe.widget=rt;var O,F='';(O=document.getElementsByTagName('html'))&&(F=O[0].dir),re(lt,at,{init:function(e){var t=this;lt.parent.init.call(t,e),t.srcElement=Pe(e.srcElement),t.div.addClass('ke-edit'),t.designMode=ae(e.designMode,!0),t.beforeGetHtml=e.beforeGetHtml,t.beforeSetHtml=e.beforeSetHtml,t.afterSetHtml=e.afterSetHtml;ae(e.themesPath,'');var i=e.bodyClass,n=e.cssPath,s=e.cssData,d=location.port?location.host.replace(new RegExp(':'+location.port),''):location.host,c='res:'!=location.protocol&&!new RegExp('\\[?'+document.domain+']?').test(d),h='document.open();'+(c?'document.domain="'+document.domain+'";':'')+'document.close();',u=a?' src="javascript:void(function(){'+encodeURIComponent(h)+'}())"':'';function p(){var d=it(t.htmlIframe);d.open(),c&&(d.domain=document.domain),d.write(ot(0,i,n,s)),d.close(),t.win=t.htmlIframe[0].contentWindow,t.doc=d;var h=tt(d);t.afterChange((function(){setTimeout((function(){h.selection()}),1)})),l&&Pe(d).click((function(e){'img'===Pe(e.target).name&&(h.selection(!0),h.range.selectNode(e.target),h.select())})),a&&(t._mousedownHandler=function(){var e=h.range.cloneRange();e.shrink(),e.isControl()&&t.blur()},Pe(document).mousedown(t._mousedownHandler),Pe(d).keydown((function(e){if(8==e.which){h.selection();var t=h.range;t.isControl()&&(t.collapse(!0),Pe(t.startContainer.childNodes[t.startOffset]).remove(),e.preventDefault())}}))),(a||r)&&m<11&&m>8&&d.execCommand('AutoUrlDetect',!1,!1),t.cmd=h,t.html(st(t.srcElement)),a||r||o?(d.body.disabled=!0,d.body.contentEditable=!0,d.body.removeAttribute('disabled')):d.designMode='on',e.afterCreate&&e.afterCreate.call(t)}function f(){var e=it(t.textIframe);e.open(),c&&(e.domain=document.domain),e.write(ot(0,i,n,s)),e.close(),Pe(e.body).css('padding',0),Pe(e.body).append(t.textarea)}t.htmlIframe=Pe('<iframe class="ke-edit-iframe" allowtransparency="true" hidefocus="true" frameborder="0"'+u+'></iframe>').css('width','100%'),t.textIframe=Pe('<iframe class="ke-edit-iframe" allowtransparency="true" hidefocus="true" frameborder="0"'+u+'></iframe>').css('width','100%'),t.textarea=Pe('<textarea class="ke-edit-textarea" hidefocus="true"></textarea>').css('width','100%').css('height','100%'),t.tabIndex=isNaN(parseInt(e.tabIndex,10))?t.srcElement.attr('tabindex'):parseInt(e.tabIndex,10),t.htmlIframe.attr('tabindex',t.tabIndex),t.textIframe.attr('tabindex',t.tabIndex),t.textarea.attr('tabindex',t.tabIndex),t.width&&t.setWidth(t.width),t.height&&t.setHeight(t.height),t.designMode?t.textIframe.hide():t.htmlIframe.hide(),c&&(t.htmlIframe.bind('load',(function(){t.htmlIframe.unbind('load'),a?p():setTimeout(p,0)})),t.textIframe.bind('load',(function(){t.textIframe.unbind('load'),a?f():setTimeout(f,0)}))),t.div.append(t.htmlIframe),t.div.append(t.textIframe),t.srcElement.hide(),!c&&p(),!c&&f()},setWidth:function(e){return e=G(e),this.width=e,this.div.css('width',e),this},setHeight:function(e){e=G(e),this.height=e,this.div.css('height',e),this.htmlIframe.css('height',e),this.textIframe.css('height',e),(a&&m<8||u)&&(e=G(J(e)-2));var t=s?10:parseInt(this.textarea.css('padding-top'),10)+parseInt(this.textarea.css('padding-bottom'),10),i=parseInt(e,10)-t;return this.textarea.css('height',i),Pe(this.textIframe).width()>0&&this.textarea.css('width',Pe(this.textIframe).width()),this},remove:function(){var e=this.doc;Pe(e.body).unbind(),Pe(e).unbind(),Pe(this.win).unbind(),this._mousedownHandler&&Pe(document).unbind('mousedown',this._mousedownHandler),st(this.srcElement,this.html()),this.srcElement.show(),this.htmlIframe.unbind(),this.textIframe.unbind(),this.textarea.unbind(),lt.parent.remove.call(this)},html:function(e,t){var i=this.doc;if(this.designMode){var n=i.body;return void 0===e?(e=t?'<!doctype html><html>'+n.parentNode.innerHTML+'</html>':n.innerHTML,this.beforeGetHtml&&(e=this.beforeGetHtml(e)),s&&'<br />'==e&&(e=''),e):(this.beforeSetHtml&&(e=this.beforeSetHtml(e)),a&&m>=9&&(e=e.replace(/(<.*?checked=")checked(".*>)/gi,'$1$2')),Pe(n).html(e),this.afterSetHtml&&this.afterSetHtml(),this)}return void 0===e?this.textarea.val():(this.textarea.val(e),this)},design:function(e){var t;return(void 0===e?!this.designMode:e)?this.designMode||(t=this.html(),this.designMode=!0,this.html(t),this.textIframe.hide(),this.htmlIframe.show()):this.designMode&&(t=this.html(),this.designMode=!1,this.html(t),this.htmlIframe.hide(),this.textIframe.show()),this.focus()},focus:function(){return this.designMode?this.win.focus():this.textarea[0].focus(),this},blur:function(){if(a){var e=Pe('<input type="text" style="float:left;width:0;height:0;padding:0;margin:0;border:0;" value="" />',this.div);this.div.append(e),e[0].focus(),e.remove()}else this.designMode?this.win.blur():this.textarea[0].blur();return this},afterChange:function(e){var t=this.doc,i=t.body;return Pe(t).keyup((function(t){t.ctrlKey||t.altKey||!I[t.which]||e(t)})),Pe(i).bind('compositionstart',(function(){Pe.compositionStart=!0})),Pe(t).bind('compositionend',(function(t){Pe.compositionStart=!1,e(t)})),Pe(t).mouseup(e).contextmenu(e),Pe(this.win).blur(e),Pe(i).bind('paste',e),Pe(i).bind('cut',e),this}}),Pe.EditClass=lt,Pe.edit=dt,Pe.iframeDoc=it,re(ht,at,{init:function(e){var t=this;function i(e){var t=Pe(e);return t.hasClass('ke-outline')?t:t.hasClass('ke-toolbar-icon')||t.hasClass('ke-select-inline')?t.parent():t.hasClass('ke-select-span')||t.hasClass('ke-select-icon')?t.parent().parent():t.parent().hasClass('ke-select-icon')?t.parent().parent().parent():void 0}function n(e,t){var n=i(e.target);if(n){if(n.hasClass('ke-disabled'))return;if(n.hasClass('ke-selected'))return;n[t]('ke-on')}}ht.parent.init.call(t,e),t.disableMode=ae(e.disableMode,!1),t.noDisableItemMap=ie(ae(e.noDisableItems,[])),t._itemMap={},t.div.addClass('ke-toolbar').bind('contextmenu,mousedown,mousemove',(function(e){e.preventDefault()})).attr('unselectable','on'),t.div.mouseover((function(e){n(e,'addClass')})).mouseout((function(e){n(e,'removeClass')})).click((function(e){var n=i(e.target);if(n){if(n.hasClass('ke-disabled'))return;t.options.click.call(this,e,n.attr('data-name'))}}))},get:function(e){return this._itemMap[e]?this._itemMap[e]:this._itemMap[e]=Pe('span.ke-icon-'+e,this.div).parent()},select:function(e){return ct.call(this,e,(function(e){e.addClass('ke-selected')})),self},unselect:function(e){return ct.call(this,e,(function(e){e.removeClass('ke-selected').removeClass('ke-on')})),self},enable:function(e){var t=e.get?e:this.get(e);return t&&(t.removeClass('ke-disabled'),t.opacity(1)),this},disable:function(e){var t=e.get?e:this.get(e);return t&&(t.removeClass('ke-selected').addClass('ke-disabled'),t.opacity(.5)),this},disableAll:function(e,t){var i=this,n=i.noDisableItemMap;return t&&(n=ie(t)),(void 0===e?!i.disableMode:e)?(Pe('span.ke-outline',i.div).each((function(){var e=Pe(this),t=e[0].getAttribute('data-name',2);n[t]||i.disable(e)})),i.disableMode=!0):(Pe('span.ke-outline',i.div).each((function(){var e=Pe(this),t=e[0].getAttribute('data-name',2);n[t]||i.enable(e)})),i.disableMode=!1),i}}),Pe.ToolbarClass=ht,Pe.toolbar=ut,re(pt,at,{init:function(e){e.z=e.z||811213,pt.parent.init.call(this,e),this.centerLineMode=ae(e.centerLineMode,!0),this.div.addClass('ke-menu').bind('click,mousedown',(function(e){e.stopPropagation()})).attr('unselectable','on')},addItem:function(e){if('-'!==e.title){var t,i=Pe('<div class="ke-menu-item" unselectable="on"></div>'),n=Pe('<div class="ke-inline-block ke-menu-item-left"></div>'),a=Pe('<div class="ke-inline-block ke-menu-item-right"></div>'),r=G(e.height),o=ae(e.iconClass,'');return this.div.append(i),r&&(i.css('height',r),a.css('line-height',r)),this.centerLineMode&&(t=Pe('<div class="ke-inline-block ke-menu-item-center"></div>'),r&&t.css('height',r)),i.mouseover((function(){Pe(this).addClass('ke-menu-item-on'),t&&t.addClass('ke-menu-item-center-on')})).mouseout((function(){Pe(this).removeClass('ke-menu-item-on'),t&&t.removeClass('ke-menu-item-center-on')})).click((function(t){e.click.call(Pe(this)),t.stopPropagation()})).append(n),t&&i.append(t),i.append(a),e.checked&&(o='ke-icon-checked'),''!==o&&n.html('<span class="ke-inline-block ke-toolbar-icon ke-toolbar-icon-url '+o+'"></span>'),a.html(e.title),this}this.div.append(Pe('<div class="ke-menu-separator"></div>'))},remove:function(){return this.options.beforeRemove&&this.options.beforeRemove.call(this),Pe('.ke-menu-item',this.div[0]).unbind(),pt.parent.remove.call(this),this}}),Pe.MenuClass=pt,Pe.menu=ft,re(mt,at,{init:function(e){e.z=e.z||811213,mt.parent.init.call(this,e);var t=e.colors||[['#E53333','#E56600','#FF9900','#64451D','#DFC5A4','#FFE500'],['#009900','#006600','#99BB00','#B8D100','#60D978','#00D5FF'],['#337FE5','#003399','#4C33E5','#9933E5','#CC33E5','#EE33EE'],['#FFFFFF','#CCCCCC','#999999','#666666','#333333','#000000']];this.selectedColor=(e.selectedColor||'').toLowerCase(),this._cells=[],this.div.addClass('ke-colorpicker').bind('click,mousedown',(function(e){e.stopPropagation()})).attr('unselectable','on');var i=this.doc.createElement('table');this.div.append(i),i.className='ke-colorpicker-table',i.cellPadding=0,i.cellSpacing=0,i.border=0;var n=i.insertRow(0),a=n.insertCell(0);a.colSpan=t[0].length,this._addAttr(a,'','ke-colorpicker-cell-top');for(var r=0;r<t.length;r++){n=i.insertRow(r+1);for(var o=0;o<t[r].length;o++)a=n.insertCell(o),this._addAttr(a,t[r][o],'ke-colorpicker-cell')}},_addAttr:function(e,t,i){var n=this;e=Pe(e).addClass(i),n.selectedColor===t.toLowerCase()&&e.addClass('ke-colorpicker-cell-selected'),e.attr('title',t||n.options.noColor),e.mouseover((function(){Pe(this).addClass('ke-colorpicker-cell-on')})),e.mouseout((function(){Pe(this).removeClass('ke-colorpicker-cell-on')})),e.click((function(e){e.stop(),n.options.click.call(Pe(this),t)})),t?e.append(Pe('<div class="ke-colorpicker-cell-color" unselectable="on"></div>').css('background-color',t)):e.html(n.options.noColor),Pe(e).attr('unselectable','on'),n._cells.push(e)},remove:function(){return K(this._cells,(function(){this.unbind()})),mt.parent.remove.call(this),this}}),Pe.ColorPickerClass=mt,Pe.colorpicker=gt,re(vt,at,{init:function(e){var t=ae(e.shadowMode,!0);e.z=e.z||811213,e.shadowMode=!1,e.autoScroll=ae(e.autoScroll,!0),vt.parent.init.call(this,e);var i=e.title,n=Pe(e.body,this.doc),r=e.previewBtn,o=e.yesBtn,s=e.noBtn,l=e.closeBtn,d=ae(e.showMask,!0);this.div.addClass('ke-dialog').bind('click,mousedown',(function(e){e.stopPropagation()}));var c=Pe('<div class="ke-dialog-content"></div>').appendTo(this.div);a&&m<7?this.iframeMask=Pe('<iframe src="about:blank" class="ke-dialog-shadow"></iframe>').appendTo(this.div):t&&Pe('<div class="ke-dialog-shadow"></div>').appendTo(this.div);var h=Pe('<div class="ke-dialog-header"></div>');c.append(h),h.html(i),this.closeIcon=Pe('<span class="ke-dialog-icon-close" title="'+l.name+'"></span>').click(l.click),h.append(this.closeIcon),this.draggable({clickEl:h,beforeDrag:e.beforeDrag});var u=Pe('<div class="ke-dialog-body"></div>');c.append(u),u.append(n);var p=Pe('<div class="ke-dialog-footer"></div>');if((r||o||s)&&c.append(p),K([{btn:r,name:'preview'},{btn:o,name:'yes'},{btn:s,name:'no'}],(function(){if(this.btn){var e=(t=this.btn,i=(t=t||{}).name||'',n=Pe('<span class="ke-button-common ke-button-outer" title="'+i+'"></span>'),a=Pe('<input class="ke-button-common ke-button" type="button" value="'+i+'" />'),t.click&&a.click(t.click),n.append(a),n);e.addClass('ke-dialog-'+this.name),p.append(e)}var t,i,n,a})),this.height&&u.height(J(this.height)-h.height()-p.height()),this.div.width(this.div.width()),this.div.height(this.div.height()),this.mask=null,d){var f=Ie(this.doc),g=Math.max(f.scrollWidth,f.clientWidth),v=Math.max(f.scrollHeight,f.clientHeight);this.mask=rt({x:0,y:0,z:this.z-1,cls:'ke-dialog-mask',width:g,height:v})}this.autoPos(this.div.width(),this.div.height()),this.footerDiv=p,this.bodyDiv=u,this.headerDiv=h,this.isLoading=!1},setMaskIndex:function(e){this.mask.div.css('z-index',e)},showLoading:function(e){e=ae(e,'');var t=this.bodyDiv;return this.loading=Pe('<div class="ke-dialog-loading"><div class="ke-inline-block ke-dialog-loading-content" style="margin-top:'+Math.round(t.height()/3)+'px;">'+e+'</div></div>').width(t.width()).height(t.height()).css('top',this.headerDiv.height()+'px'),t.css('visibility','hidden').after(this.loading),this.isLoading=!0,this},hideLoading:function(){return this.loading&&this.loading.remove(),this.bodyDiv.css('visibility','visible'),this.isLoading=!1,this},remove:function(){return this.options.beforeRemove&&this.options.beforeRemove.call(this),this.mask&&this.mask.remove(),this.iframeMask&&this.iframeMask.remove(),this.closeIcon.unbind(),Pe('input',this.div).unbind(),Pe('button',this.div).unbind(),this.footerDiv.unbind(),this.bodyDiv.unbind(),this.headerDiv.unbind(),Pe('iframe',this.div).each((function(){Pe(this).remove()})),vt.parent.remove.call(this),this}}),Pe.DialogClass=vt,Pe.dialog=xt,Pe.loadScript=bt,Pe.loadStyle=_t;var j={},W={};Dt.prototype={lang:function(e){return Ct(e,this.langType)},loadPlugin:function(e,t){var n=this,a=this._pluginStatus;return a||(a=this._pluginStatus={}),j[e]?Y(j[e])?(a[e]||(j[e].call(n,Pe),a[e]='inited'),t&&t.call(n),n):(setTimeout((function(){n.loadPlugin(e,t)}),100),n):(j[e]='loading',bt(n.pluginsPath+e+'/'+e+'.js?ver='+encodeURIComponent(Pe.DEBUG?g:i),(function(){setTimeout((function(){j[e]&&n.loadPlugin(e,t)}),0)})),n)},handler:function(e,t){var i=this;return i._handlers[e]||(i._handlers[e]=[]),Y(t)?(i._handlers[e].push(t),i):(K(i._handlers[e],(function(){t=this.call(i,t)})),t)},clickToolbar:function(e,t){var i=this,n='clickToolbar'+e;return void 0===t?i._handlers[n]?i.handler(n):(i.loadPlugin(e,(function(){i.handler(n)})),i):i.handler(n,t)},updateState:function(){var e=this;return K('justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,subscript,superscript,bold,italic,underline,strikethrough'.split(','),(function(t,i){e.cmd.state(i)?e.toolbar.select(i):e.toolbar.unselect(i)})),e},addContextmenu:function(e){return this._contextmenus.push(e),this},afterCreate:function(e){return this.handler('afterCreate',e)},beforeRemove:function(e){return this.handler('beforeRemove',e)},beforeGetHtml:function(e){return this.handler('beforeGetHtml',e)},beforeSetHtml:function(e){return this.handler('beforeSetHtml',e)},afterSetHtml:function(e){return this.handler('afterSetHtml',e)},create:function(){var t=this,i=t.fullscreenMode;if(t.isCreated)return t;if(t.srcElement.data('kindeditor'))return t;t.srcElement.data('kindeditor','true'),Ie().style.overflow=i?'hidden':'';var n=i?Ie().clientWidth+'px':t.width,r=i?Ie().clientHeight+'px':t.height;(a&&m<8||u)&&(r=G(J(r)+2));var o=t.container=Pe(t.layout);i?Pe(document.body).append(o):t.srcElement.before(o);var l=Pe('.toolbar',o),d=Pe('.edit',o),c=t.statusbar=Pe('.statusbar',o);o.removeClass('container').addClass('ke-container ke-container-'+t.themeType).css('width',n),i?(o.css({position:'absolute',left:0,top:0,'z-index':811211}),s||(t._scrollPos=Ae()),e.scrollTo(0,0),Pe(document.body).css({height:'1px',overflow:'hidden'}),Pe(document.body.parentNode).css('overflow','hidden'),t._fullscreenExecuted=!0):(t._fullscreenExecuted&&(Pe(document.body).css({height:'',overflow:''}),Pe(document.body.parentNode).css('overflow','')),t._scrollPos&&e.scrollTo(t._scrollPos.x,t._scrollPos.y));var h=[];Pe.each(t.items,(function(e,i){if('|'==i)h.push('<span class="ke-inline-block ke-separator"></span>');else if('/'==i)h.push('<div class="ke-hr"></div>');else if('fontname'==i||'fontsize'==i){var n='';if('fontname'==i)for(var a in t.lang('fontname.fontName')){t.defaultFontType=a,n=t.lang('fontname.fontName')[t.defaultFontType];break}else n=t.fontSizeTable[3];h.push('<span class="ke-outline ke-select" data-name="'+i+'" title="'+t.lang(i)+'">'),h.push('<span class="ke-select-inline ke-select-'+i+' ke-icon-'+i+'">'),h.push('<span class="ke-select-span">'+n+'</span><div class="ke-select-icon"><i class="iconfont icondrop"></i></div></span></span>')}else h.push('<span class="ke-outline" data-name="'+i+'" title="'+t.lang(i)+'" unselectable="on">'),h.push('<span class="ke-toolbar-icon ke-toolbar-icon-url ke-icon-'+i+'" unselectable="on"></span></span>')}));var f=t.toolbar=ut({src:l,html:h.join(''),noDisableItems:t.noDisableItems,click:function(e,i){if(e.stop(),t.menu){var n=t.menu.name;if(t.hideMenu(),n===i)return}t.clickToolbar(i)}}),g=J(r)-f.div.height(),v=t.edit=dt({height:g>0&&J(r)>t.minHeight?g:t.minHeight,src:d,srcElement:t.srcElement,designMode:t.designMode,themesPath:t.themesPath,bodyClass:t.bodyClass,cssPath:t.cssPath,cssData:t.cssData,beforeGetHtml:function(e){return ge(e=It(At(e=t.beforeGetHtml(e))),t.filterMode?t.htmlTags:null,t.urlType,t.wellFormatMode,t.indentChar)},beforeSetHtml:function(e){return e=ge(e,t.filterMode?t.htmlTags:null,'',!1),t.beforeSetHtml(e)},afterSetHtml:function(){t.edit=v=this,t.afterSetHtml()},afterCreate:function(){var e;if(t.edit=v=this,t.cmd=v.cmd,t._docMousedownFn=function(){t.menu&&t.hideMenu()},Pe(v.doc,document).click(t._docMousedownFn),Pe(v.doc.body).css('font-family',t.defaultFontType),Tt.call(t),Et.call(t),Nt.call(t),Lt.call(t),v.afterChange((function(i){e=i.event.type,setTimeout((function(){!function(i){var n=t.cmd;if(!v.designMode)return;if('blur'!==e){if(p&&'keyup'===e&&13===i.keyCode){var a=n.range,r=a.startContainer;'p'===r.nodeName.toLowerCase()&&1===r.childNodes.length&&'span'===r.childNodes[0].nodeName.toLowerCase()&&a.selectNodeContents(r.childNodes[0])}var o=n.val('fontname'),s='',l=n.val('fontsize');K(Ct('fontname.fontName'),(function(e,t){if(e.toLowerCase()==o||t==o)return s=t,!1})),s?Pe('.ke-icon-fontname span').html(s):o&&Pe('.ke-icon-fontname span').html(''),Pe('.ke-icon-fontsize span').html(l)}t.updateState(),t.addBookmark(),t.options.afterChange&&t.options.afterChange.call(t)}(i)}),1)})),v.textarea.keyup((function(e){e.ctrlKey||e.altKey||!N[e.which]||t.options.afterChange&&t.options.afterChange.call(t)})),t.readonlyMode&&t.readonly(),t.isCreated=!0,''===t.initContent&&(t.initContent=t.html()),t._undoStack.length>0){var i=t._undoStack.pop();i.start&&(t.html(i.html),v.cmd.range.moveToBookmark(i),t.select())}t.afterCreate(),t.options.afterCreate&&t.options.afterCreate.call(t)}});return c.removeClass('statusbar').addClass('ke-statusbar').append('<span class="ke-inline-block ke-statusbar-center-icon"></span>').append('<span class="ke-inline-block ke-statusbar-right-icon"></span>'),t._fullscreenResizeHandler&&(Pe(e).unbind('resize',t._fullscreenResizeHandler),t._fullscreenResizeHandler=null),function x(){0!==c.height()?t.resize(n,r,!1):setTimeout(x,100)}(),i?(t._fullscreenResizeHandler=function(){t.isCreated&&t.resize(Ie().clientWidth,Ie().clientHeight,!1)},Pe(e).bind('resize',t._fullscreenResizeHandler),f.select('fullscreen'),c.first().css('visibility','hidden'),c.last().css('visibility','hidden')):(s&&Pe(e).bind('scroll',(function(){t._scrollPos=Ae()})),t.resizeType>0?nt({moveEl:o,clickEl:c,moveFn:function(e,i,n,a,r,o){a+=o,t.resize(null,a)}}):c.first().css('visibility','hidden'),2===t.resizeType?nt({moveEl:o,clickEl:c.last(),moveFn:function(e,i,n,a,r,o){n+=r,a+=o,t.resize(n,a)}}):c.last().css('visibility','hidden')),t},remove:function(){var e=this;return e.isCreated?(e.beforeRemove(),e.srcElement.data('kindeditor',''),e.menu&&e.hideMenu(),K(e.dialogs,(function(){e.hideDialog()})),Pe(document).unbind('mousedown',e._docMousedownFn),e.toolbar.remove(),e.edit.remove(),e.statusbar.last().unbind(),e.statusbar.unbind(),e.container.remove(),e.container=e.toolbar=e.edit=e.menu=null,e.dialogs=[],e.isCreated=!1,e):e},resize:function(e,t,i){if(i=ae(i,!0),e&&(/%/.test(e)||(e=(e=J(e))<this.minWidth?this.minWidth:e),this.container.css('width',G(e)),i&&(this.width=G(e))),t){t=J(t);var n=J(t)-this.toolbar.div.height()-this.statusbar.height();n=n<this.minHeight?this.minHeight:n,this.edit.setHeight(n),i&&(this.height=G(t))}return this},select:function(){return this.isCreated&&this.cmd.select(),this},html:function(e){return void 0===e?this.isCreated?this.edit.html():st(this.srcElement):(this.isCreated?this.edit.html(e):st(this.srcElement,e),this.isCreated&&this.cmd.selection(),this)},fullHtml:function(){return this.isCreated?this.edit.html(void 0,!0):''},text:function(e){return void 0===e?$(this.html().replace(/<(?!img|embed).*?>/gi,'').replace(/&nbsp;/gi,' ')):this.html(Q(e))},isEmpty:function(){return''===$(this.text().replace(/\r\n|\n|\r/,''))},isDirty:function(){return $(this.initContent.replace(/\r\n|\n|\r|t/g,''))!==$(this.html().replace(/\r\n|\n|\r|t/g,''))},selectedHtml:function(){var e=this.isCreated?this.cmd.range.html():'';return e=It(At(e))},count:function(e){return'html'===(e=(e||'html').toLowerCase())?this.html().length:'text'===e?this.text().replace(/<(?:img|embed).*?>/gi,'K').replace(/\r\n|\n|\r/g,'').length:0},exec:function(e){e=e.toLowerCase();var t=this,i=t.cmd,n=X(e,'selectall,copy,paste,print'.split(','))<0;return n&&t.addBookmark(!1),i[e].apply(i,ne(arguments,1)),n&&(t.updateState(),t.addBookmark(!1),t.options.afterChange&&t.options.afterChange.call(t)),t},insertHtml:function(e,t){return this.isCreated?(e=this.beforeSetHtml(e),this.exec('inserthtml',e,t),this):this},appendHtml:function(e){if(this.html(this.html()+e),this.isCreated){var t=this.cmd;t.range.selectNodeContents(t.doc.body).collapse(!1),t.select()}return this},sync:function(){return st(this.srcElement,this.html()),this},focus:function(){return this.isCreated?this.edit.focus():this.srcElement[0].focus(),this},blur:function(){return this.isCreated?this.edit.blur():this.srcElement[0].blur(),this},addBookmark:function(e){e=ae(e,!0);var t,i=this.edit,n=i.doc.body,a=At(n.innerHTML);if(e&&this._undoStack.length>0){var r=this._undoStack[this._undoStack.length-1];if(Math.abs(a.length-It(r.html).length)<this.minChangeSize||Pe.compositionStart)return this}if(i.designMode&&!this._firstAddBookmark){var o=this.cmd.range;(t=o.createBookmark(!0)).html=At(n.innerHTML),o.moveToBookmark(t)}else t={html:a};return this._firstAddBookmark=!1,Mt(this._undoStack,t),this},undo:function(){return Pt.call(this,this._undoStack,this._redoStack)},redo:function(){return Pt.call(this,this._redoStack,this._undoStack)},fullscreen:function(e){return this.fullscreenMode=void 0===e?!this.fullscreenMode:e,this.addBookmark(!1),this.remove().create()},readonly:function(e){e=ae(e,!0);var t=this,i=t.edit,n=i.doc;t.designMode?t.toolbar.disableAll(e,[]):K(t.noDisableItems,(function(){t.toolbar[e?'disable':'enable'](this)})),a?n.body.contentEditable=!e:n.designMode=e?'off':'on',i.textarea[0].disabled=e},createMenu:function(e){var t=e.name,i=this.toolbar.get(t),n=i.pos();return e.x=n.x,e.y=n.y+i.height(),e.z=this.options.zIndex,e.shadowMode=ae(e.shadowMode,this.shadowMode),void 0!==e.selectedColor?(e.cls='ke-colorpicker-'+this.themeType,e.noColor=this.lang('noColor'),this.menu=gt(e)):(e.cls='ke-menu-'+this.themeType,e.centerLineMode=!1,this.menu=ft(e)),this.menu},hideMenu:function(){return this.menu.remove(),this.menu=null,this},hideContextmenu:function(){return this.contextmenu.remove(),this.contextmenu=null,this},createDialog:function(e){var t=this;if(e.z=t.options.zIndex,e.shadowMode=ae(e.shadowMode,t.shadowMode),e.closeBtn=ae(e.closeBtn,{name:t.lang('close'),click:function(){t.hideDialog(),a&&t.cmd&&t.cmd.select()}}),e.noBtn=ae(e.noBtn,{name:t.lang(e.yesBtn?'no':'close'),click:function(){t.hideDialog(),a&&t.cmd&&t.cmd.select()}}),'page'!=t.dialogAlignType&&(e.alignEl=t.container),e.cls='ke-dialog-'+t.themeType,t.dialogs.length>0){var i=t.dialogs[0],n=t.dialogs[t.dialogs.length-1];i.setMaskIndex(n.z+2),e.z=n.z+3,e.showMask=!1}var r=xt(e);return t.dialogs.push(r),r},hideDialog:function(){if(this.dialogs.length>0&&this.dialogs.pop().remove(),this.dialogs.length>0){var e=this.dialogs[0],t=this.dialogs[this.dialogs.length-1];e.setMaskIndex(t.z-1)}return this},errorDialog:function(e){var t=Pe('iframe',this.createDialog({width:750,title:this.lang('uploadError'),body:'<div style="padding:10px 20px;"><iframe frameborder="0" style="width:708px;height:400px;"></iframe></div>'}).div),i=Pe.iframeDoc(t);return i.open(),i.write(e),i.close(),Pe(i.body).css('background-color','#FFF'),t[0].contentWindow.focus(),this},getTextarea:function(){return this.edit.textarea[0]},setDefaultFontType:function(e,t){var i=this;!isNaN(parseInt(t,10))&&parseInt(t,10)>0&&(i.exec('fontsize',parseInt(t,10)+'px'),Pe('.ke-icon-fontsize span').html(i.cmd.val('fontsize')));var n=e;K(Ct('fontname.fontName'),(function(e,t){if(e==n)return i.exec('fontname',e),Pe('.ke-icon-fontname span').html(t),!1}))}};var R=[];Pe.remove=function(e){Ht(e,(function(e){this.remove(),R.splice(e,1)}))},Pe.sync=function(e){Ht(e,(function(){this.sync()}))},Pe.html=function(e,t){Ht(e,(function(){this.html(t)}))},Pe.insertHtml=function(e,t){Ht(e,(function(){this.insertHtml(t)}))},Pe.appendHtml=function(e,t){Ht(e,(function(){this.appendHtml(t)}))},a&&m<7&&We(document,'BackgroundImageCache',!0),Pe.EditorClass=Dt,Pe.editor=function(e){return new Dt(e)},Pe.create=function t(e,n){if((n=n||{}).basePath=ae(n.basePath,Pe.basePath),n.themesPath=ae(n.themesPath,n.basePath+'themes/'),n.langPath=ae(n.langPath,n.basePath+'lang/'),n.pluginsPath=ae(n.pluginsPath,n.basePath+'plugins/'),ae(n.loadStyleMode,Pe.options.loadStyleMode)){var a=ae(n.themeType,Pe.options.themeType);_t(n.themesPath+'default/default.css'),_t(n.themesPath+a+'/'+a+'.css')}function r(e){return K(j,(function(t,i){Y(i)&&(i.call(e,Pe),e._pluginStatus||(e._pluginStatus={}),e._pluginStatus[t]='inited')})),e.create()}var o=Pe(e);if(o&&0!==o.length){if(o.length>1)return o.each((function(){t(this,n)})),R[0];n.srcElement=o[0];var s=new Dt(n);return R.push(s),W[s.langType]?r(s):(bt(s.langPath+s.langType+'.js?ver='+encodeURIComponent(Pe.DEBUG?g:i),(function(){r(s)})),s)}},Pe.instances=R,Pe.plugin=wt,Pe.lang=Ct,wt('core',(function(t){var i,n,o=this,d={undo:'Z',redo:'Y',bold:'B',italic:'I',underline:'U',print:'P',selectall:'A'};if(o.afterSetHtml((function(){o.options.afterChange&&o.options.afterChange.call(o)})),o.afterCreate((function(){if('form'==o.syncType){for(var i=t(o.srcElement),n=!1;i=i.parent();)if('form'==i.name){n=!0;break}if(n){i.bind('submit',(function(){o.sync(),t(e).bind('unload',(function(){o.edit.textarea.remove()}))}));var a=t('[type="reset"]',i);a.click((function(){o.html(o.initContent),o.cmd.selection()})),o.beforeRemove((function(){i.unbind(),a.unbind()}))}}})),o.clickToolbar('source',(function(){o.edit.designMode?(o.toolbar.disableAll(!0),o.edit.design(!1),o.toolbar.select('source')):(o.toolbar.disableAll(!1),o.edit.design(!0),o.toolbar.unselect('source'),s?setTimeout((function(){o.cmd.selection()}),0):o.cmd.selection()),o.designMode=o.edit.designMode})),o.afterCreate((function(){o.designMode||o.toolbar.disableAll(!0).select('source')})),o.clickToolbar('fullscreen',(function(){o.fullscreen()})),o.fullscreenShortcut){var c=!1;o.afterCreate((function(){if(t(o.edit.doc,o.edit.textarea).keyup((function(e){27==e.which&&setTimeout((function(){o.fullscreen()}),0)})),c){if(a&&!o.designMode)return;o.focus()}c||(c=!0)}))}function h(e,t){var i=e.charAt(0).toUpperCase()+e.substr(1);u(e,'edit',o.plugin['getSelected'+i]=t,'edit'+i,150,'ke-icon-'+e),u(e,'delete',t,'delete'+i,150),o.addContextmenu({title:'-'})}function u(e,t,i,n,a,r){o.addContextmenu({title:o.lang(n),click:function(){o.loadPlugin(e,(function(){o.plugin[e][t](),o.hideMenu()}))},cond:i,width:a,iconClass:r})}K('undo,redo'.split(','),(function(e,t){d[t]&&o.afterCreate((function(){ue(this.edit.doc,d[t],(function(){o.clickToolbar(t)}))})),o.clickToolbar(t,(function(){o[t]()}))})),o.clickToolbar('formatblock',(function(){var e=o.lang('formatblock.formatBlock'),t={h1:28,h2:24,h3:18,H4:14,p:12},i=o.cmd.val('formatblock'),n=o.createMenu({name:'formatblock',width:'en'==o.langType?200:150});K(e,(function(e,a){var r='font-size:'+t[e]+'px;';'h'===e.charAt(0)&&(r+='font-weight:bold;'),n.addItem({title:'<span style="'+r+'" unselectable="on">'+a+'</span>',height:t[e]+12,checked:i===e||i===a,click:function(){o.select().exec('formatblock','<'+e+'>').hideMenu()}})}))})),o.clickToolbar('fontname',(function(){var e=o.cmd.val('fontname')||o.lang('fontname.fontName')[o.defaultFontType],i=o.createMenu({name:'fontname',width:150});K(o.lang('fontname.fontName'),(function(n,a){i.addItem({title:'<span style="font-family: '+n+';" unselectable="on">'+a+'</span>',checked:e===n.toLowerCase()||e===a.toLowerCase(),click:function(){t('.ke-icon-fontname span').html(a),o.exec('fontname',n).hideMenu()}})}))})),o.clickToolbar('fontsize',(function(){var e=o.cmd.val('fontsize')||o.fontSizeTable[3],i=o.createMenu({name:'fontsize',width:80});K(o.fontSizeTable,(function(n,a){i.addItem({title:'<span unselectable="on">'+a+'</span>',checked:e===a,click:function(){t('.ke-icon-fontsize span').html(a),o.exec('fontsize',a).hideMenu()}})}))})),K('forecolor,hilitecolor'.split(','),(function(e,i){o.clickToolbar(i,(function(){o.createMenu({name:i,selectedColor:o.cmd.val(i)||'default',colors:o.colorTable,click:function(e){var n=t('.ke-icon-'+i);n.css('color',e),'#ffffff'==e.toLowerCase()?n.css('background','#000000'):n.css('background','none'),o.exec(i,e).hideMenu()}})}))})),K('cut,copy,paste'.split(','),(function(e,t){o.clickToolbar(t,(function(){o.focus();try{o.exec(t,null)}catch(e){alert(o.lang(t+'Error'))}}))})),o.clickToolbar('about',(function(){o.createDialog({name:'about',width:350,title:o.lang('about'),body:'<div style="margin:20px;"><div>KindEditor 4.1.13-cm-1.2 (2021-09-08)</div><div>Copyright &copy; <a href="http://www.kindsoft.net/" target="_blank">kindsoft.net</a> All rights reserved.</div></div>'})})),h('link',(function(){return o.cmd.commonAncestor('a')})),h('image',(i=/^ke-\w+$/i,n=!0,function(){return St(o.edit.cmd.range,(function(e){return i.test(e[0].className)===!n}))})),KindEditor.NO_PLUGIN_TABLE||(o.plugin.getSelectedTable=function(){return o.cmd.commonAncestor('table')},o.plugin.getSelectedRow=function(){return o.cmd.commonAncestor('tr')},o.plugin.getSelectedCell=function(){return o.cmd.commonAncestor('td')},K('prop,cellprop,colinsertleft,colinsertright,rowinsertabove,rowinsertbelow,rowmerge,colmerge,rowsplit,colsplit,coldelete,rowdelete,insert,delete'.split(','),(function(e,t){u('table',t,o.plugin['getSelected'+(/^(prop|delete)$/.test(t)?'Table':'Cell')],'table'+t,170,'ke-icon-table'+t)})),o.addContextmenu({title:'-'})),K('selectall,justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,indent,outdent,subscript,superscript,hr,print,bold,italic,underline,strikethrough,removeformat,unlink'.split(','),(function(e,t){d[t]&&o.afterCreate((function(){ue(this.edit.doc,d[t],(function(){o.cmd.selection(),o.clickToolbar(t)}))})),o.clickToolbar(t,(function(){o.focus().exec(t,null)}))})),o.afterCreate((function(){var e,i,n,d,c=o.edit.doc,h='__kindeditor_paste__',u=!1;t(c.body).bind('paste',(function(p){if(0!==o.pasteType){if(!u){if(u=!0,t('div.'+h,c).remove(),e=o.cmd.selection(),i=e.range.createBookmark(),n=t('<div class="'+h+'"></div>',c).css({position:'absolute',width:'1px',height:'1px',overflow:'hidden',left:'-1981px',top:t(i.start).pos().y+'px','white-space':'nowrap'}),t(c.body).append(n),!a&&(e.range.selectNodeContents(n[0]),e.select(),n[0].tabIndex=-1,n[0].focus(),l||s)){var f=p.event.clipboardData&&p.event.clipboardData.getData('text/html'),m=t('style',(new DOMParser).parseFromString(f,'text/html'));m[0]&&(d=m[0].sheet.cssRules)}setTimeout((function(){!function(){if(e.range.moveToBookmark(i),e.select(),l&&(n.html()||t('.'+h,c).each((function(){var e=t(this);e.html()&&(n=e)})),t('div.'+h,n).each((function(){t(this).after('<br />').remove(!0)})),t('span.Apple-style-span',n).remove(!0),t('span.Apple-tab-span',n).remove(!0),t('span[style]',n).each((function(){'nowrap'===t(this).css('white-space')&&t(this).attr('style').indexOf('white-space')>-1&&t(this).remove(!0)})),t('meta',n).remove()),d)for(var s=0;s<d.length;s++){var u=d[s];u.selectorText&&u.style.cssText&&t(u.selectorText,n).each((function(){this&&this.style&&(this.style.cssText+=u.style.cssText)}))}var p=n[0].innerHTML;n.remove(),''!==p&&(l&&(p=p.replace(/(<br>)\1/gi,'$1')),2===o.pasteType&&(p=p.replace(/(<(?:p|p\s[^>]*)>) *(<\/p>)/gi,'').replace(/text-indent:\s?-([#\w\s]+)/gi,'text-indent:0').replace(/<[^>]*>/gi,(function(e){var t=/align="(\w+)"/gi.exec(e);return t?e.replace(/text-align:\s?justify/gi,'text-align:'+t[1]):e})).replace(/<(?:table|td)[^>]*>/gi,(function(e){return/<td[^>]*>/gi.test(e)&&(e=e.replace(/(border(?:-right|-left|-top|-bottom)?:)\s?(?:medium\s)?none;/gi,(function(e,t){return t+'1px dotted #AAA;'})).replace(/(border-style:)([#\w\s]+)/i,(function(e,t,i){return t+i.replace(/none/gi,'dotted')})).replace(/(border)(-right|-left|-top|-bottom)?(-width)?:\s?([#\w.\s]+)/gi,(function(e,t,i,n,a){return t+(i||'')+(n||'')+':'+a.replace(/medium/gi,'1px')}))),/<table[^>]*>/gi.test(e)&&(a||r)&&(p='&nbsp;'+p+'&nbsp;'),e})),/schemas-microsoft-com|worddocument|mso-\w+/i.test(p)?p=ve(p,o.filterMode?o.htmlTags:t.options.htmlTags):(p=ge(p,o.filterMode?o.htmlTags:null),p=o.beforeSetHtml(p))),1===o.pasteType&&(p=(p=(p=(p=(p=(p=p.replace(/&nbsp;/gi,' ')).replace(/\n\s*\n/g,'\n')).replace(/<br[^>]*>/gi,'\n')).replace(/<\/p><p[^>]*>/gi,'\n')).replace(/<[^>]+>/g,'')).replace(/ {2}/g,' &nbsp;'),'p'==o.newlineTag?/\n/.test(p)&&(p=p.replace(/^/,'<p>').replace(/$/,'<br /></p>').replace(/\n/g,'<br /></p><p>')):p=p.replace(/\n/g,'<br />$&')),o.insertHtml(p,!0))}(),u=!1}),0)}}else p.stop()}))})),o.beforeGetHtml((function(e){function t(t,i){e=e.replace(t,i)}return a&&m<=8&&(t(/<div\s+[^>]*data-ke-input-tag="([^"]*)"[^>]*>([\s\S]*?)<\/div>/gi,(function(e,t){return unescape(t)})),t(/(<input)((?:\s+[^>]*)?>)/gi,(function(e,t,i){return/\s+type="[^"]+"/i.test(e)?e:t+' type="text"'+i}))),t(/(<(?:noscript|noscript\s[^>]*)>)([\s\S]*?)(<\/noscript>)/gi,(function(e,t,i,n){return t+q(i).replace(/\s+/g,' ')+n})),t(/<div\s+[^>]*data-ke-script-attr="([^"]*)"[^>]*>([\s\S]*?)<\/div>/gi,(function(e,t,i){return'<script'+unescape(t)+'>'+unescape(i)+'<\/script>'})),t(/<div\s+[^>]*data-ke-noscript-attr="([^"]*)"[^>]*>([\s\S]*?)<\/div>/gi,(function(e,t,i){return'<noscript'+unescape(t)+'>'+unescape(i)+'</noscript>'})),t(/(<[^>]*)data-ke-src="([^"]*)"([^>]*>)/gi,(function(e,t,i){return e=(e=e.replace(/(\s+(?:href|src)=")[^"]*(")/i,(function(e,t,n){return t+q(i)+n}))).replace(/\s+data-ke-src="[^"]*"/i,'')})),t(/(<[^>]+\s)data-ke-(on\w+="[^"]*"[^>]*>)/gi,(function(e,t,i){return t+i})),e})),o.beforeSetHtml((function(e){function t(t,i){e=e.replace(t,i)}return a&&m<=8&&t(/<input[^>]*>|<(select|button)[^>]*>[\s\S]*?<\/\1>/gi,(function(e){return'none'==pe(fe(e).style||'').display?'<div class="ke-display-none" data-ke-input-tag="'+escape(e)+'"></div>':e})),t(/<script([^>]*)>([\s\S]*?)<\/script>/gi,(function(e,t,i){return'<div class="ke-script" data-ke-script-attr="'+escape(t)+'">'+escape(i)+'</div>'})),t(/<noscript([^>]*)>([\s\S]*?)<\/noscript>/gi,(function(e,t,i){return'<div class="ke-noscript" data-ke-noscript-attr="'+escape(t)+'">'+escape(i)+'</div>'})),t(/(<[^>]*)(href|src)="([^"]*)"([^>]*>)/gi,(function(e,t,i,n,a){return e.match(/\sdata-ke-src="[^"]*"/i)?e:e=t+i+'="'+n+'" data-ke-src="'+Q(n)+'"'+a})),t(/(<[^>]+\s)(on\w+="[^"]*"[^>]*>)/gi,(function(e,t,i){return t+'data-ke-'+i})),e}))})),re(zt,{init:function(e){var t=Pe(e.button),i=e.fieldName||'file',n=e.accept||'',a=e.url||'',r=t.val(),o=e.extraParams||{},s=t[0].className||'',l=e.target||'kindeditor_upload_iframe_'+(new Date).getTime();e.afterError=e.afterError||function(e){alert(e)};var d=[];for(var c in o)d.push('<input type="hidden" name="'+c+'" value="'+o[c]+'" />');var h=Pe(['<div class="ke-inline-block '+s+'">',e.target?'':'<iframe name="'+l+'" style="display:none;"></iframe>',e.form?'<div class="ke-upload-area">':'<form class="ke-upload-area ke-form" method="post" enctype="multipart/form-data" target="'+l+'" action="'+a+'">','<span class="ke-button-common">',d.join(''),'<input type="button" class="ke-button-common ke-button" value="'+r+'" />','</span>','<input type="file" class="ke-upload-file" '+(n?'accept="'+n+'"':'')+' name="'+i+'" tabindex="-1" />',e.form?'</div>':'</form>','</div>'].join(''),t.doc);t.hide(),t.before(h),this.div=h,this.button=t,this.iframe=e.target?Pe('iframe[name="'+l+'"]'):Pe('iframe',h),this.form=e.form?Pe(e.form):Pe('form',h),this.fileBox=Pe('.ke-upload-file',h);var u=e.width||Pe('.ke-button-common',h).width();Pe('.ke-upload-area',h).width(u),this.options=e},submit:function(){var e=this,t=e.iframe;return t.bind('load',(function(){t.unbind();var i=document.createElement('form');e.fileBox.before(i),Pe(i).append(e.fileBox),i.reset(),Pe(i).remove(!0);var n,a=Pe.iframeDoc(t),r=a.getElementsByTagName('pre')[0],o='';o=q(o=r?r.innerHTML:a.body.innerHTML),t[0].src='javascript:false';try{n=Pe.json(o)}catch(s){e.options.afterError.call(e,'<!doctype html><html>'+a.body.parentNode.innerHTML+'</html>')}n&&e.options.afterUpload.call(e,n)})),e.form[0].submit(),e},remove:function(){return this.fileBox&&this.fileBox.unbind(),this.iframe.remove(),this.div.remove(),this.button.show(),this}}),Pe.UploadButtonClass=zt,Pe.uploadbutton=function(e){return new zt(e)},Pe.tabs=function(e){var t=rt(e),i=t.remove,n=e.afterSelect,a=t.div,r=[];a.addClass('ke-tabs').bind('contextmenu,mousedown,mousemove',(function(e){e.preventDefault()}));var o=Pe('<ul class="ke-tabs-ul ke-clearfix"></ul>');return a.append(o),t.add=function(e){var t=Pe('<li class="ke-tabs-li">'+e.title+'</li>');t.data('tab',e),r.push(t),o.append(t)},t.selectedIndex=0,t.select=function(e){t.selectedIndex=e,K(r,(function(i,n){n.unbind(),i===e?(n.addClass('ke-tabs-li-selected'),Pe(n.data('tab').panel).show('')):(n.removeClass('ke-tabs-li-selected').removeClass('ke-tabs-li-on').mouseover((function(){Pe(this).addClass('ke-tabs-li-on')})).mouseout((function(){Pe(this).removeClass('ke-tabs-li-on')})).click((function(){t.select(i)})),Pe(n.data('tab').panel).hide())})),n&&n.call(t,e)},t.remove=function(){K(r,(function(){this.remove()})),o.remove(),i.call(t)},t}}function U(e){return!!e&&'[object Array]'===Object.prototype.toString.call(e)}function Y(e){return!!e&&'[object Function]'===Object.prototype.toString.call(e)}function X(e,t){for(var i=0,n=t.length;i<n;i++)if(e===t[i])return i;return-1}function K(e,t){if(U(e))for(var i=0,n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(var a in e)if(e.hasOwnProperty(a)&&!1===t.call(e[a],a,e[a]))break}function $(e){return e.replace(/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,'')}function V(e,t,i){return((i=void 0===i?',':i)+t+i).indexOf(i+e+i)>=0}function G(e,t){return t=t||'px',e&&/^-?\d+(?:\.\d+)?$/.test(e)?e+t:e}function J(e){var t;return e&&(t=/(\d+)/.exec(e))?parseInt(t[1],10):0}function Q(e){return e.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;')}function q(e){return e.replace(/&lt;/g,'<').replace(/&gt;/g,'>').replace(/&quot;/g,'"').replace(/&amp;/g,'&')}function ee(e){var t=e.split('-');return e='',K(t,(function(t,i){e+=t>0?i.charAt(0).toUpperCase()+i.substr(1):i})),e}function te(e){function t(e){var t=parseInt(e,10).toString(16).toUpperCase();return t.length>1?t:'0'+t}return e.replace(/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/gi,(function(e,i,n,a){return'#'+t(i)+t(n)+t(a)}))}function ie(e,t){t=void 0===t?',':t;var i,n={};return K(U(e)?e:e.split(t),(function(e,t){if(i=/^(\d+)\.\.(\d+)$/.exec(t))for(var a=parseInt(i[1],10);a<=parseInt(i[2],10);a++)n[a.toString()]=!0;else n[t]=!0})),n}function ne(e,t){return Array.prototype.slice.call(e,t||0)}function ae(e,t){return void 0===e?t:e}function re(e,t,i){var n;if(i||(i=t,t=null),t){var a=function(){};a.prototype=t.prototype,n=new a,K(i,(function(e,t){n[e]=t}))}else n=i;n.constructor=e,e.prototype=n,e.parent=t?t.prototype:null}function oe(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent&&e.detachEvent('on'+t,i)}function se(e,t){this.init(e,t)}function le(e){return e[M]||null}function de(e){try{delete e[M]}catch(t){e.removeAttribute&&e.removeAttribute(M)}}function ce(e,t,i){if(t.indexOf(',')>=0)K(t.split(','),(function(){ce(e,this,i)}));else{var n=le(e);n||(n=function(e){return e[M]=++P,P}(e)),void 0===D[n]&&(D[n]={});var a=D[n][t];a&&a.length>0?oe(e,t,a[0]):(D[n][t]=[],D[n].el=e),0===(a=D[n][t]).length&&(a[0]=function(t){var i=t?new se(e,t):void 0;K(a,(function(t,n){t>0&&n&&n.call(e,i)}))}),X(i,a)<0&&a.push(i),function(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent('on'+t,i)}(e,t,a[0])}}function he(e,t,i){if(t&&t.indexOf(',')>=0)K(t.split(','),(function(){he(e,this,i)}));else{var n=le(e);if(n)if(void 0!==t){if(D[n]){var a=D[n][t];if(a&&a.length>0){void 0===i?(oe(e,t,a[0]),delete D[n][t]):(K(a,(function(e,t){e>0&&t===i&&a.splice(e,1)})),1==a.length&&(oe(e,t,a[0]),delete D[n][t]));var r=0;K(D[n],(function(){r++})),r<2&&(delete D[n],de(e))}}}else n in D&&(K(D[n],(function(t,i){'el'!=t&&i.length>0&&oe(e,t,i[0])})),delete D[n],de(e))}}function ue(e,t,i){t=/^\d{2,}$/.test(t)?t:t.toUpperCase().charCodeAt(0),ce(e,'keydown',(function(n){!n.ctrlKey||n.which!=t||n.shiftKey||n.altKey||(i.call(e),n.stop())}))}function pe(e){e=e.replace(/&quot;/g,'"');for(var t,i={},n=/\s*([\w\-]+)\s*:([^;]*)(;|$)/g;t=n.exec(e);){var a=$(t[1].toLowerCase()),r=$(te(t[2]));i[a]=r}return i}function fe(e){for(var t,i={},n=/\s+(?:([\w\-:]+)|(?:([\w\-:]+)=([^\s"'<>]+))|(?:([\w\-:"]+)="([^"]*)")|(?:([\w\-:"]+)='([^']*)'))(?=(?:\s|\/|>)+)/g;t=n.exec(e);){var a=(t[1]||t[2]||t[4]||t[6]).toLowerCase(),r=(t[2]?t[3]:t[4]?t[5]:t[7])||'';i[a]=r}return i}function me(e,t,i,n){if(t=ae(t,'').toLowerCase(),'data:'!=e.substr(0,5)&&(e=e.replace(/([^:])\/\//g,'$1/')),X(t,['absolute','relative','domain'])<0)return e;if(i=i||location.protocol+'//'+location.host,void 0===n){var a=location.pathname.match(/^(\/.*)\//);n=a?a[1]:''}var r;if(r=/^(\w+:\/\/[^\/]*)/.exec(e)){if(r[1]!==i)return e}else if(/^\w+:/.test(e))return e;function o(e){for(var t=e.split('/'),i=[],n=0,a=t.length;n<a;n++){var r=t[n];'..'==r?i.length>0&&i.pop():''!==r&&'.'!=r&&i.push(r)}return'/'+i.join('/')}return/^\//.test(e)?e=i+o(e.substr(1)):/^\w+:\/\//.test(e)||(e=i+o(n+'/'+e)),'relative'===t?e=function s(t,i){if(e.substr(0,t.length)===t){for(var a=[],o=0;o<i;o++)a.push('..');var l='.';return a.length>0&&(l+='/'+a.join('/')),'/'==n&&(l+='/'),l+e.substr(t.length)}if(r=/^(.*)\//.exec(t))return s(r[1],++i)}(i+n,0).substr(2):'absolute'===t&&e.substr(0,i.length)===i&&(e=e.substr(i.length)),e}function ge(e,t,i,n,a){null==e&&(e=''),i=i||'',n=ae(n,!1),a=ae(a,'\t');var r='xx-small,x-small,small,medium,large,x-large,xx-large'.split(',');if(e=(e=e.replace(/(<(?:pre|pre\s[^>]*)>)([\s\S]*?)(<\/pre>)/gi,(function(e,t,i,n){return t+i.replace(/<(?:br|br\s[^>]*)>/gi,'\n')+n}))).replace(/<(?:br|br\s[^>]*)\s*\/?>\s*<\/p>/gi,'</p>'),p)for(var o=/((?:<\/p>)|^\s*)<(?:br|br\s[^>]*)\s*\/?>/gi;o.test(e);)e=e.replace(o,'$1<p>&nbsp;</p>'),o.lastIndex=0;else e=e.replace(/(<(?:p|p\s[^>]*)>)\s*(<\/p>)/gi,'$1<br />$2');e=(e=(e=(e=(e=(e=e.replace(/&#10;/g,'\n')).replace(/\u00A9/g,'&copy;')).replace(/\u00AE/g,'&reg;')).replace(/\u2003/g,'&emsp;')).replace(/\u3000/g,'&emsp;')).replace(/<[^>]+/g,(function(e){return e.replace(/\s+/g,' ')}));var s={};t&&(K(t,(function(e,t){for(var i=e.split(','),n=0,a=i.length;n<a;n++)s[i[n]]=ie(t)})),s.script||(e=e.replace(/(<(?:script|script\s[^>]*)>)([\s\S]*?)(<\/script>)/gi,'')),s.style||(e=e.replace(/(<(?:style|style\s[^>]*)>)([\s\S]*?)(<\/style>)/gi,'')));var l=[];return $(e=(e=(e=(e=(e=e.replace(/([ \f\n\r\t\v]*)<(\/)?([\w\-:]+)((?:[ \f\n\r\t\v]+|(?:[ \f\n\r\t\v]+[\w\-:]+)|(?:[ \f\n\r\t\v]+[\w\-:]+=[^ \f\n\r\t\v"'<>]+)|(?:[ \f\n\r\t\v]+[\w\-:"]+="[^"]*")|(?:[ \f\n\r\t\v]+[\w\-:"]+='[^']*'))*)(\/)?>([ \f\n\r\t\v]*)/g,(function(e,o,d,c,h,u,p){var f=e,m=o||'',g=d||'',v=c.toLowerCase(),x=h||'',w=u?' '+u:'',k=p||'';if(t&&!s[v])return'';if(''===w&&_[v]&&(w=' /'),b[v]&&(m&&(m=' '),k&&(k=' ')),C[v]&&(g?k='\n':m='\n'),n&&'br'==v&&(k='\n'),y[v]&&!C[v])if(n){g&&l.length>0&&l[l.length-1]===v?l.pop():l.push(v),m='\n',k='\n';for(var S=0,E=g?l.length:l.length-1;S<E;S++)m+=a,g||(k+=a);w?l.pop():g||(k+=a)}else m=k='';if(''!==x){var N=fe(f);if('font'===v){var L={},I='';K(N,(function(e,t){'color'===e&&(L.color=t,delete N[e]),'size'===e&&(L['font-size']=r[parseInt(t,10)-1]||'',delete N[e]),'face'===e&&(L['font-family']=t,delete N[e]),'style'===e&&(I=t)})),I&&!/;$/.test(I)&&(I+=';'),K(L,(function(e,t){''!==t&&(/\s/.test(t)&&(t='\''+t+'\''),I+=e+':'+t+';')})),N.style=I}K(N,(function(e,n){if(T[e]&&(N[e]=e),X(e,['src','href'])>=0&&(N[e]=me(n,i)),(t&&'style'!==e&&!s[v]['*']&&!s[v][e]||'body'===v&&'contenteditable'===e||/^kindeditor_\d+$/.test(e))&&delete N[e],'style'===e&&''!==n){var a=pe(n);K(a,(function(e){!t||s[v].style||s[v]['.'+e]||delete a[e]}));var r='';K(a,(function(e,t){r+=e+':'+t+';'})),N.style=r}})),x='',K(N,(function(e,t){'style'===e&&''===t||(t=t.replace(/"/g,'&quot;'),x+=' '+e+'="'+t+'"')}))}return'font'===v&&(v='span'),m+'<'+g+v+x+w+'>'+k}))).replace(/(<(?:pre|pre\s[^>]*)>)([\s\S]*?)(<\/pre>)/gi,(function(e,t,i,n){return t+i.replace(/\n/g,'<span id="__kindeditor_pre_newline__">\n')+n}))).replace(/\n\s*\n/g,'\n')).replace(/<span id="__kindeditor_pre_newline__">\n/g,'\n')).replace(/<(?:td)[^>]*>/gi,(function(e){return/<td[^>]*>/gi.test(e)&&(e=e.replace(/border:\s*0px black;/gi,'')),e})))}function ve(e,t){return ge(e=e.replace(/<meta[\s\S]*?>/gi,'').replace(/<![\s\S]*?>/gi,'').replace(/<style[^>]*>[\s\S]*?<\/style>/gi,'').replace(/<script[^>]*>[\s\S]*?<\/script>/gi,'').replace(/<w:[^>]+>[\s\S]*?<\/w:[^>]+>/gi,'').replace(/<o:[^>]+>[\s\S]*?<\/o:[^>]+>/gi,'').replace(/<xml>[\s\S]*?<\/xml>/gi,''),t)}function xe(e){return/\.(rm|rmvb)(\?|$)/i.test(e)?'audio/x-pn-realaudio-plugin':/\.(swf|flv)(\?|$)/i.test(e)?'application/x-shockwave-flash':'video/x-ms-asf-plugin'}function be(e){var t='<embed ';return K(e,(function(e,i){t+=e+'="'+i+'" '})),t+='/>'}function ye(e,t){if(9==e.nodeType&&9!=t.nodeType)return!0;for(;t=t.parentNode;)if(t==e)return!0;return!1}function _e(e,t){t=t.toLowerCase();var i,n=null;if(B||'script'==e.nodeName.toLowerCase())try{n=e.getAttribute(t,2)}catch(o){n=e.getAttribute(t,1)}else{var a=e.ownerDocument.createElement('div');a.appendChild(e.cloneNode(!1));var r=fe(q(a.innerHTML));t in r&&(n=r[t])}return'style'===t&&null!==n&&(i='',K(pe(n),(function(e,t){i+=e+':'+t+';'})),n=i),n}function we(e,t){var i=e.split(',');if(i.length>1){var n=[];return K(i,(function(){K(we(this,t),(function(){X(this,n)<0&&n.push(this)}))})),n}function a(e){return'string'!=typeof e?e:e.replace(/([^\w\-])/g,'\\$1')}function r(e){return e.replace(/\\/g,'')}function o(e,t){return'*'===e||e.toLowerCase()===a(t.toLowerCase())}function s(e,t,i){var n=[],a=(i.ownerDocument||i).getElementById(r(e));return a&&o(t,a.nodeName)&&ye(i,a)&&n.push(a),n}function l(e,t,i){var n,a,s,l,d=i.ownerDocument||i,c=[];if(i.getElementsByClassName)for(a=0,s=(n=i.getElementsByClassName(r(e))).length;a<s;a++)o(t,(l=n[a]).nodeName)&&c.push(l);else if(d.querySelectorAll)for(a=0,s=(n=d.querySelectorAll(('#document'!==i.nodeName?i.nodeName+' ':'')+t+'.'+e)).length;a<s;a++)ye(i,l=n[a])&&c.push(l);else for(e=' '+e+' ',a=0,s=(n=i.getElementsByTagName(t)).length;a<s;a++)if(1==(l=n[a]).nodeType){var h=l.className;h&&(' '+h+' ').indexOf(e)>-1&&c.push(l)}return c}function d(e,t,i,n){for(var r,o=[],s=n.getElementsByTagName(i),l=0,d=s.length;l<d;l++)1==(r=s[l]).nodeType&&(null===t?null!==_e(r,e)&&o.push(r):t===a(_e(r,e))&&o.push(r));return o}function c(e,t){var i,n=[],a=(i=/^((?:\\.|[^.#\s\[<>])+)/.exec(e))?i[1]:'*';if(i=/#((?:[\w\-]|\\.)+)$/.exec(e))n=s(i[1],a,t);else if(i=/\.((?:[\w\-]|\\.)+)$/.exec(e))n=l(i[1],a,t);else if(i=/\[((?:[\w\-]|\\.)+)\]/.exec(e))n=d(i[1].toLowerCase(),null,a,t);else if(i=/\[((?:[\w\-]|\\.)+)\s*=\s*['"]?((?:\\.|[^'"]+)+)['"]?\]/.exec(e)){var c=i[1].toLowerCase(),h=i[2];n='id'===c?s(h,a,t):'class'===c?l(h,a,t):'name'===c?function(e,t,i){for(var n,a=[],s=(i.ownerDocument||i).getElementsByName(r(e)),l=0,d=s.length;l<d;l++)o(t,(n=s[l]).nodeName)&&ye(i,n)&&null!==n.getAttribute('name')&&a.push(n);return a}(h,a,t):d(c,h,a,t)}else for(var u,p=t.getElementsByTagName(a),f=0,m=p.length;f<m;f++)1==(u=p[f]).nodeType&&n.push(u);return n}t=t||document;for(var h,u=[],p=/((?:\\.|[^\s>])+|[\s>])/g;h=p.exec(e);)' '!==h[1]&&u.push(h[1]);var f=[];if(1==u.length)return c(u[0],t);var m,g,v,x,b,y,_,w,k,C,S,T=!1;for(y=0,k=u.length;y<k;y++)if('>'!==(m=u[y])){if(y>0){for(g=[],_=0,C=f.length;_<C;_++)for(w=0,S=(v=c(m,x=f[_])).length;w<S;w++)b=v[w],T?x===b.parentNode&&g.push(b):g.push(b);f=g}else f=c(m,t);if(0===f.length)return[]}else T=!0;return f}function ke(e){return Pe(e)[0]}function Ce(e){return e?e.ownerDocument||e.document||e:document}function Se(t){if(!t)return e;var i=Ce(t);return i.parentWindow||i.defaultView}function Te(e,t){return V(t,e.className,' ')}function Ee(e,t,i){a&&m<8&&'class'==t.toLowerCase()&&(t='className'),e.setAttribute(t,''+i)}function Ne(e){return e&&e.nodeName?e.nodeName.toLowerCase():''}function Le(e){return!!E[Ne(e)]}function Ie(e){return e=e||document,u?e.body:e.documentElement}function Ae(e){var t,i;return e=e||document,a||r||d?(t=Ie(e).scrollLeft,i=Ie(e).scrollTop):(t=Se(e).scrollX,i=Se(e).scrollY),{x:t,y:i}}function Me(e){this.init(e)}function Pe(e,t){if(null!=e){if('string'==typeof e){t&&(t=ke(t));var i=e.length;if('@'===e.charAt(0)&&(e=e.substr(1)),e.length!==i||/<.+>/.test(e)){var n=t?t.ownerDocument||t:document,a=n.createElement('div'),r=[];a.innerHTML='<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />'+e;for(var o=0,s=a.childNodes.length;o<s;o++){var l=a.childNodes[o];'__kindeditor_temp_tag__'!=l.id&&r.push(l)}return d(r)}return d(we(e,t))}return e&&e.constructor===Me?e:(e.toArray&&(e=e.toArray()),U(e)?d(e):d(ne(arguments)))}function d(e){return e[0]||(e=[]),new Me(e)}}function De(e){return e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e}function He(e,t,i){var n=e.doc,a=[];function r(n,r,o){var s,l=n.nodeValue.length;if(t){var d=n.cloneNode(!0);s=r>0?d.splitText(r):d,o<l&&s.splitText(o-r)}if(i){var c=n;if(r>0&&(c=n.splitText(r),e.setStart(n,r)),o<l){var h=c.splitText(o-r);e.setEnd(h,0)}a.push(c)}return s}var o=e.cloneRange().down(),s=-1,l=-1,d=-1,c=-1,h=e.commonAncestor(),u=n.createDocumentFragment();if(3==h.nodeType){var p=r(h,e.startOffset,e.endOffset);return t&&u.appendChild(p),function(){i&&e.up().collapse(!0);for(var t=0,n=a.length;t<n;t++){var r=a[t];r.parentNode&&r.parentNode.removeChild(r)}}(),t?u:e}!function v(h,u){for(var p,f=h.firstChild;f;){var m,g=new Fe(n).selectNode(f);if((s=g.compareBoundaryPoints(1,e))>=0&&l<=0&&(l=g.compareBoundaryPoints(0,e)),l>=0&&d<=0&&(d=g.compareBoundaryPoints(2,e)),d>=0&&c<=0&&(c=g.compareBoundaryPoints(3,e)),c>=0)return!1;if(p=f.nextSibling,s>0)if(1==f.nodeType){if(l>=0&&d<=0)t&&u.appendChild(f.cloneNode(!0)),i&&a.push(f);else if(t&&(m=f.cloneNode(!1),u.appendChild(m)),!1===v(f,m))return!1}else if(3==f.nodeType){var x;if(x=f==o.startContainer?r(f,o.startOffset,f.nodeValue.length):f==o.endContainer?r(f,0,o.endOffset):r(f,0,f.nodeValue.length),t)try{u.appendChild(x)}catch(b){}}f=p}}(h,u),i&&e.up().collapse(!0);for(var f=0,m=a.length;f<m;f++){var g=a[f];g.parentNode&&g.parentNode.removeChild(g)}return t?u:e}function ze(e,t){for(var i=t;i;){var n=Pe(i);if('marquee'==n.name||'select'==n.name)return;i=i.parentNode}try{e.moveToElementText(t)}catch(a){}}function Be(e,t){var i=e.parentElement().ownerDocument,n=e.duplicate();n.collapse(t);var a=n.parentElement(),r=a.childNodes;if(0===r.length)return'p'!==a.nodeName.toLowerCase()||''!==a.innerHTML&&'&nbsp;'!==a.innerHTML?{node:a.parentNode,offset:Pe(a).index()}:{node:a,offset:0};var o=i,s=0,l=-1,d=e.duplicate();ze(d,a);for(var c=0,h=r.length;c<h;c++){var u=r[c];if(0===(l=d.compareEndPoints('StartToStart',n)))return'a'===u.nodeName.toLowerCase()?{node:u.childNodes[0],offset:0}:{node:u.parentNode,offset:c};if(1==u.nodeType){var p,f=e.duplicate(),m=Pe(u),g=u;m.isControl()&&(p=i.createElement('span'),m.after(p),g=p,s+=m.text().replace(/\r\n|\n|\r/g,'').length),ze(f,g),d.setEndPoint('StartToEnd',f),l>0?s+=f.text.replace(/\r\n|\n|\r/g,'').length:s=0,p&&Pe(p).remove()}else 3==u.nodeType&&(d.moveStart('character',u.nodeValue.length),s+=u.nodeValue.length);l<0&&(o=u)}if(l<0&&1==o.nodeType)return{node:a,offset:Pe(a.lastChild).index()+1};if(l>0)for(;o.nextSibling&&1==o.nodeType;)o=o.nextSibling;if(ze(d=e.duplicate(),a),d.setEndPoint('StartToEnd',n),s-=d.text.replace(/\r\n|\n|\r/g,'').length,3==o.nodeType&&(l>0||l<0&&s>o.nodeValue.length))for(var v=o.previousSibling;v&&3==v.nodeType;)s-=v.nodeValue.length,v=v.previousSibling;return{node:o,offset:s}}function Ze(e,t){var i=e.ownerDocument||e,n=i.body.createTextRange();if(i==e)return n.collapse(!0),n;if(1==e.nodeType&&e.childNodes.length>0){var a,r,o=e.childNodes;if(0===t?(r=o[0],a=!0):(r=o[t-1],a=!1),!r)return n;if('head'===Pe(r).name)return 1===t&&(a=!0),2===t&&(a=!1),n.collapse(a),n;if(1==r.nodeType){var s,l=Pe(r);return l.isControl()&&(s=i.createElement('span'),a?l.before(s):l.after(s),r=s),ze(n,r),n.collapse(a),s&&Pe(s).remove(),n}e=r,t=a?0:r.nodeValue.length}var d=i.createElement('span');return Pe(e).before(d),ze(n,d),n.moveStart('character',t),Pe(d).remove(),n}function Oe(e){var t,i;function n(e){'tr'==Pe(e.node).name&&(e.node=e.node.cells[e.offset],e.offset=0)}if(p){if(e.item)return(i=new Fe(t=Ce(e.item(0)))).selectNode(e.item(0)),i;t=e.parentElement().ownerDocument;var a=Be(e,!0),r=Be(e,!1);return n(a),n(r),(i=new Fe(t)).setStart(a.node,a.offset),i.setEnd(r.node,r.offset),i}var o=e.startContainer;return(i=new Fe(t=o.ownerDocument||o)).setStart(o,e.startOffset),i.setEnd(e.endContainer,e.endOffset),i}function Fe(e){this.init(e)}function je(e){return e.nodeName?new Fe(e):e.constructor===Fe?e:Oe(e)}function We(e,t,i){try{e.execCommand(t,!1,i)}catch(n){}}function Re(e,t){var i='';try{i=e.queryCommandValue(t)}catch(n){}return'string'!=typeof i&&(i=''),i}function Ue(e){var t=Se(e);return p?e.selection:t.getSelection()}function Ye(e){var t,i,n={};return K(e,(function(e,a){for(var r=0,o=(t=e.split(',')).length;r<o;r++)i=t[r],n[i]=a})),n}function Xe(e,t){return Ke(e,t,'*')||Ke(e,t)}function Ke(e,t,i){if(i=i||e.name,1!==e.type)return!1;var n=Ye(t);if(!n[i])return!1;for(var a=n[i].split(','),r=0,o=a.length;r<o;r++){var s=a[r];if('*'===s)return!0;var l=/^(\.?)([^=]+)(?:=([^=]*))?$/.exec(s),d=l[1]?'css':'attr';s=l[2];var c=l[3]||'';if(''===c&&''!==e[d](s))return!0;if(''!==c&&e[d](s)===c)return!0}return!1}function $e(e,t){1==e.type&&(Ve(e,t,'*'),Ve(e,t))}function Ve(e,t,i){if(i=i||e.name,1===e.type){var n=Ye(t);if(n[i]){for(var a=n[i].split(','),r=!1,o=0,s=a.length;o<s;o++){var l=a[o];if('*'===l){r=!0;break}var d=/^(\.?)([^=]+)(?:=([^=]*))?$/.exec(l);l=d[2],d[1]?(l=ee(l),e[0].style[l]&&(e[0].style[l]='')):e.removeAttr(l)}r&&e.remove(!0)}}}function Ge(e){for(var t=e;t.first();)t=t.first();return t}function Je(e){return 1==e.type&&!e.isSingle()&&''===e.html().replace(/<[^>]+>/g,'')}function Qe(e,t){if(t=t.clone(!0),3==e.type||'a'===e.name)return Ge(t).append(e.clone('a'===e.name)),e.replaceWith(t),t;for(var i,n=e;(i=e.first())&&1==i.children().length;)e=i;i=e.first();for(var a=e.doc.createDocumentFragment();i;)a.appendChild(i[0]),i=i.next();return t=function(e,t){for(var i=Ge(e=e.clone(!0)),n=e,a=!1;t;){for(;n;)n.name===t.name&&(qe(n,t.attr(),t.css()),a=!0),n=n.first();a||i.append(t.clone(!1)),a=!1,t=t.first()}return e}(n,t),a.firstChild&&Ge(t).append(a),n.replaceWith(t),t}function qe(e,t,i){K(t,(function(t,i){'style'!==t&&e.attr(t,i)})),K(i,(function(t,i){e.css(t,i)}))}function et(e){this.init(e)}function tt(e){if(e.nodeName){var t=Ce(e);e=je(t).selectNodeContents(t.body).collapse(!1)}return new et(e)}function it(e){return(e=ke(e)).contentDocument||e.contentWindow.document}function nt(e){var t=e.moveEl,i=e.moveFn,n=e.clickEl||t,a=e.beforeDrag,r=void 0===e.iframeFix||e.iframeFix,o=[document];r&&Pe('iframe').each((function(){var e=me(this.src||'','absolute');if(!/^https?:\/\//.test(e)){var t;try{t=it(this)}catch(n){}if(t){var i=Pe(this).pos();Pe(t).data('pos-x',i.x),Pe(t).data('pos-y',i.y),o.push(t)}}})),n.mousedown((function(e){if(0===e.button||1===e.button){e.stopPropagation();var r=n.get(),s=J(t.css('left')),l=J(t.css('top')),d=t.width(),c=t.height(),h=e.pageX,u=e.pageY;a&&a(),Pe(o).mousemove(p).mouseup((function i(e){e.preventDefault(),Pe(o).unbind('mousemove',p).unbind('mouseup',i).unbind('selectstart',f),r.releaseCapture&&r.releaseCapture()})).bind('selectstart',f),r.setCapture&&r.setCapture()}function p(e){e.preventDefault();var t=Pe(Ce(e.target)),a=v((t.data('pos-x')||0)+e.pageX-h),r=v((t.data('pos-y')||0)+e.pageY-u);i.call(n,s,l,d,c,a,r)}function f(e){e.preventDefault()}}))}function at(e){this.init(e)}function rt(e){return new at(e)}function ot(e,t,i,n){var a=['<!doctype html>',''===F?'<html>':'<html dir="'+F+'">','<head><meta charset="utf-8" /><title></title>','<style>','html {margin:0;padding:0;}','body {margin:0;padding:5px;height:100% !important;}','body, p, div {word-wrap: break-word;}','img {border:0;}','noscript {display:none;}'];return a.push('.ke-script, .ke-noscript, .ke-display-none {','\tdisplay:none;','\tfont-size:0;','\twidth:0;','\theight:0;','}','.ke-pagebreak {','\tborder:1px dotted #AAA;','\tfont-size:0;','\theight:2px;','}','</style>'),U(i)||(i=[i]),K(i,(function(e,t){t&&a.push('<link href="'+t+'" rel="stylesheet" />')})),n&&a.push('<style>'+n+'</style>'),a.push('</head><body '+(t?'class="'+t+'"':'')+'></body></html>'),a.join('\n')}function st(e,t){if(e.hasVal()){if(void 0===t){var i=e.val();return i=i.replace(/(<(?:p|p\s[^>]*)>) *(<\/p>)/gi,'')}return e.val(t)}return e.html(t)}function lt(e){this.init(e)}function dt(e){return new lt(e)}function ct(e,t){var i=this.get(e);if(i){if(i.hasClass('ke-disabled'))return;t(i)}}function ht(e){this.init(e)}function ut(e){return new ht(e)}function pt(e){this.init(e)}function ft(e){return new pt(e)}function mt(e){this.init(e)}function gt(e){return new mt(e)}function vt(e){this.init(e)}function xt(e){return new vt(e)}function bt(e,t){var i=document.getElementsByTagName('head')[0]||(u?document.body:document.documentElement),n=document.createElement('script');i.appendChild(n),n.src=e,n.charset='utf-8',n.onload=n.onreadystatechange=function(){this.readyState&&'loaded'!==this.readyState||(t&&t(),n.onload=n.onreadystatechange=null,i.removeChild(n))}}function yt(e){var t=e.indexOf('?');return t>0?e.substr(0,t):e}function _t(e){for(var t=document.getElementsByTagName('head')[0]||(u?document.body:document.documentElement),i=document.createElement('link'),n=yt(me(e,'absolute')),a=Pe('link[rel="stylesheet"]',t),r=0,o=a.length;r<o;r++)if(yt(me(a[r].href,'absolute'))===n)return;t.appendChild(i),i.href=e,i.rel='stylesheet'}function wt(e,t){return void 0===e?j:t?void(j[e]=t):j[e]}function kt(e){var t,i='core';return(t=/^(\w+)\.(\w+)$/.exec(e))&&(i=t[1],e=t[2]),{ns:i,key:e}}function Ct(e,t){if(t=void 0===t?Pe.options.langType:t,'string'==typeof e){if(!W[t])return'no language';var i=e.length-1;if('.'===e.substr(i))return W[t][e.substr(0,i)];var n=kt(e);return W[t][n.ns][n.key]}K(e,(function(e,i){var n=kt(e);W[t]||(W[t]={}),W[t][n.ns]||(W[t][n.ns]={}),W[t][n.ns][n.key]=i}))}function St(e,t){if(!e.collapsed){var i=(e=e.cloneRange().up()).startContainer,n=e.startOffset;if(l||e.isControl()){var a=Pe(i.childNodes[n]);if(a&&'img'==a.name)return t(a)?a:void 0}}}function Tt(){var e=this;Pe(e.edit.doc).contextmenu((function(t){if(e.menu&&e.hideMenu(),e.useContextmenu){if(0!==e._contextmenus.length){var i=0,n=[];for(K(e._contextmenus,(function(){'-'!=this.title?this.cond&&this.cond()&&(n.push(this),this.width&&this.width>i&&(i=this.width)):n.push(this)}));n.length>0&&'-'==n[0].title;)n.shift();for(;n.length>0&&'-'==n[n.length-1].title;)n.pop();var a=null;if(K(n,(function(e){'-'==this.title&&'-'==a.title&&delete n[e],a=this})),n.length>0){t.preventDefault();var r=Pe(e.edit.htmlIframe).pos(),o=ft({x:r.x+t.clientX,y:r.y+t.clientY,width:i,css:{visibility:'hidden'},shadowMode:e.shadowMode});K(n,(function(){this.title&&o.addItem(this)}));var s=Ie(o.doc),l=o.div.height();t.clientY+l>=s.clientHeight-100&&o.pos(o.x,J(o.y)-l),o.div.css('visibility','visible'),e.menu=o}}}else t.preventDefault()}))}function Et(){var e=this,t=e.edit.doc,i=e.newlineTag;if(!(a&&'br'!==i||s&&m<3&&'p'!==i||d&&m<9)){var n=ie('h1,h2,h3,h4,h5,h6,pre,li'),r=ie('p,h1,h2,h3,h4,h5,h6,pre,li,blockquote');Pe(t).keydown((function(s){if(!(13!=s.which||s.shiftKey||s.ctrlKey||s.altKey)){e.cmd.selection();var l=c(e.cmd.range);if('marquee'!=l&&'select'!=l){if('br'===i&&!n[l])return s.preventDefault(),void e.insertHtml('<br />'+(a&&m<9?'':'​'));if(!r[l]&&(We(t,'formatblock','<p>'),o)){var d=(e.cmd.commonAncestor('p')||[])[0];if(d)for(;d.lastChild&&'br'===d.lastChild.nodeName.toLowerCase();)Pe(d).after(d.lastChild)}}}})),Pe(t).keyup((function(n){if(!(13!=n.which||n.shiftKey||n.ctrlKey||n.altKey)&&'br'!=i)if(s){var a=e.cmd.commonAncestor('p'),o=e.cmd.commonAncestor('a');o&&''==o.text()&&(o.remove(!0),e.cmd.range.selectNodeContents(a[0]).collapse(!0),e.cmd.select());var d=(l(e.cmd.range,(function(e){return'p'===e.name}))||[])[0],h=(l(e.cmd.range,(function(e){return'span'===e.name}))||[])[0];if(d&&h)for(;'br'===d.firstChild.nodeName.toLowerCase();)d.removeChild(d.firstChild),e.cmd.select()}else{e.cmd.selection();var u=c(e.cmd.range);'marquee'!=u&&'select'!=u&&(r[u]||We(t,'formatblock','<p>'))}}))}function l(e,t){for(var i=Pe(e.commonAncestor());i;){if(1==i.type&&t(i))return i;i=i.parent()}return i}function c(e){return l(e,(function(e){return!e.isStyle()})).name}}function Nt(){var e=this,t=e.edit.doc;Pe(t).keydown((function(i){if(9==i.which){if(i.preventDefault(),e.afterTab)return void e.afterTab.call(e,i);var n=e.cmd,a=n.range;a.shrink(),a.collapsed&&1==a.startContainer.nodeType&&(a.insertNode(Pe('@&nbsp;',t)[0]),n.select()),e.insertHtml('&nbsp;&nbsp;&nbsp;&nbsp;')}}))}function Lt(){var e=this;Pe(e.edit.textarea[0],e.edit.win).focus((function(t){e.afterFocus&&e.afterFocus.call(e,t)})).blur((function(t){e.afterBlur&&e.afterBlur.call(e,t)}))}function It(e){return $(e.replace(/<span [^>]*id="?__kindeditor_bookmark_\w+_\d+__"?[^>]*><\/span>/gi,''))}function At(e){return e.replace(/<div[^>]+class="?__kindeditor_paste__"?[^>]*>[\s\S]*?<\/div>/gi,'')}function Mt(e,t){if(0!==e.length){var i=e[e.length-1];It(t.html)!==It(i.html)&&e.push(t)}else e.push(t)}function Pt(e,t){var i,n,a=this.edit,r=a.doc.body;if(0===e.length)return this;a.designMode?(n=(i=this.cmd.range).createBookmark(!0)).html=r.innerHTML:n={html:r.innerHTML},Mt(t,n);var o=e.pop();return It(n.html)===It(o.html)&&e.length>0&&(o=e.pop()),a.designMode?(a.html(o.html),o.start&&(i.moveToBookmark(o),this.select())):Pe(r).html(It(o.html)),this}function Dt(e){var t=this;function i(e,i){void 0===Dt.prototype[e]&&(t[e]=i),t.options[e]=i}t.options={},K(e,(function(t){i(t,e[t])})),K(Pe.options,(function(e,n){void 0===t[e]&&i(e,n)}));var n=Pe(t.srcElement||'<textarea/>');t.width||(t.width=n[0].style.width||n.width()),t.height||(t.height=n[0].style.height||n.height()),i('width',ae(t.width,t.minWidth)),i('height',ae(t.height,t.minHeight)),i('width',G(t.width)),i('height',G(t.height)),c&&(!h||m<534)&&(t.designMode=!1),t.srcElement=n,t.initContent='',t.plugin={},t.isCreated=!1,t._handlers={},t._contextmenus=[],t._undoStack=[],t._redoStack=[],t._firstAddBookmark=!0,t.menu=t.contextmenu=null,t.dialogs=[]}function Ht(e,t){Pe(e).each((function(e,i){Pe.each(R,(function(e,n){if(n&&n.srcElement[0]==i)return t.call(n,e),!1}))}))}function zt(e){this.init(e)}}(window)},583:function(e,t,i){(function(e){!function(e,t){var i=document.createElement('input'),n='setSelectionRange'in i||'selectionStart'in i,a='createTextRange'in i||'selection'in document,r=/\r\n/g,o=/\r/g,s=function(t){return'undefined'!=typeof t.value?t.value:e(t).text()},l=function(e,t){var i=s(e).replace(o,'').length;return void 0===t&&(t=i),(t=Math.floor(t))<0&&(t=i+t),t<0&&(t=0),t>i&&(t=i),t},d=function(e,t,i,n){this.start=e||0,this.end=t||0,this.length=i||0,this.text=n||''};d.prototype.toString=function(){return JSON.stringify(this,null,'    ')};var c=function(e){if(e)return n?function(e){return e.selectionStart}(e):a?function(e){var t,i,n,a,o;return e.focus(),e.focus(),(t=document.selection.createRange())&&t.parentElement()===e?(a=(n=s(e)).length,(i=e.createTextRange()).moveToBookmark(t.getBookmark()),(o=e.createTextRange()).collapse(!1),i.compareEndPoints('StartToEnd',o)>-1?n.replace(r,'\n').length:-i.moveStart('character',-a)):0}(e):void 0},h=function(e,t){e.focus(),t=l(e,t),n?function(e,t){e.setSelectionRange(t,t)}(e,t):a&&function(e,t){var i=e.createTextRange();i.move('character',t),i.select()}(e,t)},u=function(t,i){var n=c(t),a=s(t).replace(o,''),r=+(n+i.length+(a.length-n)),l=+t.getAttribute('maxlength');if(function(e,t){return e.hasAttribute?e.hasAttribute(t):'undefined'!=typeof e[t]}(t,'maxlength')&&r>l){var d=i.length-(r-l);i=i.substr(0,d)}!function(t,i){'undefined'!=typeof t.value?t.value=i:e(t).text(i)}(t,a.substr(0,n)+i+a.substr(n)),h(t,n+i.length)},p=function(e){if(e)return n?function(e){var t=new d;t.start=e.selectionStart,t.end=e.selectionEnd;var i=Math.min(t.start,t.end),n=Math.max(t.start,t.end);return t.length=n-i,t.text=s(e).substring(i,n),t}(e):a?function(e){var t=new d;e.focus();var i=document.selection.createRange();if(i&&i.parentElement()===e){var n,a,r,o,l=0,c=0,h=s(e);n=h.length,a=h.replace(/\r\n/g,'\n'),(r=e.createTextRange()).moveToBookmark(i.getBookmark()),(o=e.createTextRange()).collapse(!1),r.compareEndPoints('StartToEnd',o)>-1?l=c=n:(l=-r.moveStart('character',-n),l+=a.slice(0,l).split('\n').length-1,r.compareEndPoints('EndToEnd',o)>-1?c=n:(c=-r.moveEnd('character',-n),c+=a.slice(0,c).split('\n').length-1)),l-=h.substring(0,l).split('\r\n').length-1,c-=h.substring(0,c).split('\r\n').length-1,t.start=l,t.end=c,t.length=t.end-t.start,t.text=a.substr(t.start,t.length)}return t}(e):void 0},f=function(e,t,i){t=l(e,t),i=l(e,i),n?function(e,t,i){e.setSelectionRange(t,i)}(e,t,i):a&&function(e,t,i){var n=e.createTextRange();n.moveEnd('textedit',-1),n.moveStart('character',t),n.moveEnd('character',i-t),n.select()}(e,t,i)},m=function(t,i){var n=e(t),a=n.val(),r=p(t),o=+(r.start+i.length+(a.length-r.end)),s=+n.attr('maxlength');if(n.is('[maxlength]')&&o>s){var l=i.length-(o-s);i=i.substr(0,l)}var d=a.substr(0,r.start),c=a.substr(r.end);n.val(d+i+c);var h=r.start,u=h+i.length;f(t,r.length?h:u,u)},g=function(t){var i=e(t);i.is('input, textarea')||t.select?i.select():n?function(e){var t=window.getSelection(),i=document.createRange();i.selectNodeContents(e),t.removeAllRanges(),t.addRange(i)}(t):a&&function(e){var t=document.body.createTextRange();t.moveToElementText(e),t.select()}(t)};e.extend(e.fn,{caret:function(){var e=this.filter('input, textarea');if(0===arguments.length){var t=e.get(0);return c(t)}if('number'==typeof arguments[0]){var i=arguments[0];e.each((function(e,t){h(t,i)}))}else{var n=arguments[0];e.each((function(e,t){u(t,n)}))}return this},range:function(){var e=this.filter('input, textarea');if(0===arguments.length){var t=e.get(0);return p(t)}if('number'==typeof arguments[0]){var i=arguments[0],n=arguments[1];e.each((function(e,t){f(t,i,n)}))}else{var a=arguments[0];e.each((function(e,t){m(t,a)}))}return this},selectAll:function(){return this.each((function(e,t){g(t)}))}}),e.extend(e,{deselectAll:function(){return document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),this}})}(e||window.Zepto||window.$)}).call(this,i(463))},636:function(e,t,i){(function(e){i(851),i(852),i(854),i(583);var t=i(463),n=e.noop,a=i(855),r=i(465),o=i(475),s=i(473),l=i(482),d=i(639);t.fn.tagEditor=function(i,n,a){var c=this,h=t(this).data('options')||t.extend({},t.fn.tagEditor.defaults,i);h.dregex=new RegExp('['+h.delimiter.replace('-','\\-')+']','g');var u='<li class="tag-editor-li"><div class="tag-editor-tag" unselectable="on"></div><div class="tag-editor-delete"> '+(h.readOnly?'&nbsp;':'<i></i>')+'</div><div class="tag-editor-spacer">&nbsp;'+h.delimiter[0]+'</div></li>',p='<textarea style="width: 10px" maxlength="'+h.maxLength+'" ></textarea>';if('string'==typeof i){var f=[];return c.each((function(){var e=t(this),r=e.next('.tag-editor');switch(i){case'getTags':f.push({field:e[0],editor:r,tags:r.data('tags')});break;case'addTags':b(r,e,n),a?t('.placeholder',r).remove():r.click();break;case'removeTags':y(r,e,n),!a&&r.click();break;case'updateTags':var o=r.data('tags')||[];y(r,e,t.grep(o,(function(e){return-1===t.inArray(e,n)?e:null}))),b(r,e,n),!a&&r.click();break;case'destroy':e.removeClass('tag-editor-hidden-src').removeData('options').off('focus.tag-editor').next('.tag-editor').remove()}})),'getTags'===i?f:this}function m(e,t){return function(e){var t,i=0,n=e.length,a=-1;for(t=0;t<n;t++)(a=e.charCodeAt(t))>=0&&a<=128?i++:i+=2;return i}(e)>t?e.substr(0,t)+(e.substr(0,t)!==e?'..':''):e}function g(e,i,n){var a;if(i=i||t(u).find('.tag-editor-tag'),h.forceLowercase&&(e=e.toLowerCase()),h.enableSecurityLevel){var r=l.deTag(e);e=r[0],a=r[2]}a=a||n&&i.data('prefix');var s=function(e){var t,i,n,a=o.parseTrueName(e),r=o.parseAddress(e),s=r.indexOf('@'),l=m(a,h.trueNameLength),d=!0;return o.test(r)?(t=m(r.substring(0,s),h.localPartLength)+'@'+m(r.substring(s+1,r.length),h.domainPartLength),i=l?''+o(l,t):t,n=a?''+o(a,r):r):(d=!1,n=r,i=l=t=m(r,20)),{text:n,valid:d,shortenedAddr:t,shortenedName:l,shortenedTag:i}}(e),d=s.valid,c=s.shortenedTag,p=s.text;return i.text(l.join(a,c)),v(i,{prefix:a,text:p}),i.closest('li').toggleClass('error',h.checkEmail&&!d)}function v(e,t){(t=t||e.data('')||e.data()).tip=h.tagTipSetup(e,t.text||''),e.removeData().data(t)}function x(t){var i=t.data(),n=i.tip||{};e.isFUN(n.destroy)&&n.destroy(),delete i.tip,t.attr('data-',JSON.stringify(i))}function b(e,t,i){var n=e.data('tags')||[];if(!i||!i.length)return!1;e.append([].concat(i).filter((function(e){return e.replace(/ +/,' ').trim()&&!n.includes(e)})).map((function(e){return g(e)}))),_(e,t)}function y(e,i,n){if(!n||0===n.length)return!1;t.each(n,(function(i,n){t('.tag-editor-tag',e).each((function(){t(this).data('text')===n&&t(this).closest('li').remove()}))})),_(e,i)}function _(i,n){var a=t('.tag-editor-tag:not(.deleted)',i).map((function(e,i){var n=(i=t(i)).hasClass('active')?i.find('textarea'):t(),a=t.trim(n.val()||i.data('text'));if(a)return{prefix:n.data('prefix')||i.data('prefix')||'',tag:a}})).get(),r=a.map(e.prop('tag'));return i.data('tags',r),n.val(r.join(h.delimiter[0])),n.data('xTags',a),r}return window.getSelection&&t(document).off('keydown.tag-editor').on('keydown.tag-editor',(function(e){if(8===e.which||46===e.which||e.ctrlKey&&88===e.which){var i,n;try{i=getSelection(),n=t(i.getRangeAt(0).commonAncestorContainer)}catch(e){n=0}if(n&&n.hasClass('tag-editor')){for(var a=[],r=i.toString().split(n.prev().data('options').dregex),o=0;o<r.length;o++){var s=t.trim(r[o]);s&&a.push(s)}t('.tag-editor-tag',n).each((function(){~t.inArray(t(this).data('text'),a)&&t(this).closest('li').remove()}))}}})),c.each((function(){var i=[],n=!1,a={},l={},f=!1,m=t(this),y=t('<ul '+(h.clickDelete?'oncontextmenu="return false;" ':'')+'class="tag-editor"></ul>').insertAfter(m);m.addClass('tag-editor-hidden-src').data('options',h).on('focus.tag-editor',(function(){y.click()})),y.append('<li style="width:1px;" class="f-usn tag-editor-li-ph" unselectable="on">&nbsp;</li>');var w=t('<div id="tag-editor-texthelper"><textarea tabindex="-1"></textarea></div>').css({position:'absolute',left:'-9999px',top:'-9999px'}).insertAfter(y).find('textarea');function k(){!h.placeholder||i.length||t('.deleted, .placeholder, input, textarea',y).length||y.append('<li class="placeholder tag-editor-li"><div>'+h.placeholder+'</div></li>')}function C(e){var t=i.toString();i=_(y,m),e||t!==i.toString()&&h.onChange(m,y,i),k()}function S(e){var n,a,r,s=e.closest('li'),l=T(e.val().replace(/ +/,' ')),d=e.data('oldTag'),c=i.slice(0);if(1!==l.length||!h.checkEmail||o.test(o.parseAddress(l[0]))){for(n=0;n<l.length;n++)(a=t.trim(l[n]).slice(0,h.maxLength))&&(h.forceLowercase&&(a=a.toLowerCase()),a=h.beforeTagSave(m,y,c,d,a)||a,r=o.parseAddress(a),~t.inArray(a,c)&&t('.tag-editor-tag',y).each((function(){o.parseAddress(t(this).data('text')||'')===r&&t(this).closest('li').remove()})),c.push(a),s.before(g(a)));e.closest('ul.tag-editor').find('li.active').length>1?e.closest('li').remove():e.attr('maxlength',h.maxLength).data('oldTag','').val('').focus(),s.removeClass('error'),C()}}function T(e){return o.parse(e).map((function(e){return''+e}))}function E(){w.focus().select()}function N(){y.find('li.tag-editor-li').addClass('selected'),E()}function L(e){if(e.length>0)return e.each((function(){t(this).find('.tag-editor-delete').click()})),!0}y.on('mousemove',(function(e){M(e)&&P(e)}));var I,A=function(){return''!==y.find('textarea').val()},M=function(e){return!h.readOnly&&1===e.which&&n&&!A()};function P(e){var i,n,r,o,s,d,c,h,u;y.find('li.selected').removeClass('selected'),(i=e,n=function(e,t){return Math.abs(e-t)<14},r=t('.tag-editor-li',y),o=function(e){var t=a.clientY;if(Math.abs(e.clientY-t)>11){if(e.clientY>a.offsetTop)return!0}else if(e.clientX>a.offsetLeft)return!0;return!1}(i)?r:t(r.get().reverse()),s=!1,d=!1,c=-1,h=-1,u=-1,o.each((function(e){if(s){if(n(i.clientY,t(this).offset().top+14)){if(function(e,t){return e.hasClass('hover')||e.offset().left<t.clientX&&t.clientX<e.offset().left+e.outerWidth()}(t(this),i))return h=e,d=!0,!1;u=e}}else if(t(this).hasClass('active'))return c=e+1,s=!0,!0})),d||(n(i.clientY,a.clientY)?-1===h&&-1===u&&(h=c-1):h=n(a.clientY,l.clientY)?u:c-1),o.slice(c,h+1)).addClass('selected')}function D(e,i,n){h.readOnly||(h.onClick(m,y),t('.placeholder',y).remove(),H(e,i,n))}function H(e,i,n){var r=e.clientX,o=e.clientY;if(!f){var s,d=99999;i&&i.length?n=n||'after':t('.tag-editor-tag',y).each((function(){var e=t(this),a=e.offset(),l=a.left,c=a.top;o>=c&&o<=c+e.height()+12&&(r<l?(n='before',s=l-r):(n='after',s=r-l-e.width()),s<d&&(d=s,i=e))})),'before'===n?t(u).insertBefore(i.closest('li')).find('.tag-editor-tag').dblclick():'after'===n?t(u).insertAfter(i.closest('li')).find('.tag-editor-tag').dblclick():t(u).appendTo(y).find('.tag-editor-tag').dblclick(),l={clientX:r,clientY:o};var c=y.find('.tag-editor-li.active');c[0]&&(a={clientX:c.offset().left+c.outerWidth()/2,clientY:c.offset().top+c.outerHeight()/2,offsetTop:c.offset().top,offsetLeft:c.offset().left})}}function z(){var e=t(this),n=e.data('oldTag'),a=t.trim(e.val().replace(/ +/,' ').replace(h.dregex,h.delimiter[0]).replace(/。/g,'.')),r=a===n;if(h.onBlur(m,y),a){if(a.indexOf(h.delimiter[0])>=0)return void S(e);if(!r){h.forceLowercase&&(a=a.toLowerCase()),a=h.beforeTagSave(m,y,i,n,a)||a;var s=o.parseAddress(a);t('.tag-editor-tag:not(.active)',y).each((function(){o.parseAddress(t(this).data('text'))===s&&t(this).closest('li').remove()})),r=s===o.parseAddress(n)}}else{if(n&&!1===h.beforeTagDelete(m,y,i,n))return e.val(n).focus(),void C();try{e.closest('li').remove()}catch(l){}n&&C()}a&&g(a,e.parent().removeClass('active'),r).removeClass('active'),a!==n&&C(),k()}function B(t,i){setTimeout((function(){var n=e.filter((i||t.val()).split(/[\t\n]/g)).join(h.delimiter[0]);S(t.val(n))}),20)}y.on('mouseup',(function(){h.readOnly||(n=!1,y.find('.tag-editor-li.selected .tag-editor-tag:not(.active)').length>0?E():f=!1)})),y.on('mousemove','.tag-editor-spacer',(function(e){h.readOnly||A()&&e.stopPropagation()})),y.on('mousedown',(function(e){h.readOnly||(n=!0,/tag-editor-spacer|ui-sortable/g.test(e.target.className)&&(c.next('.tag-editor').find('.selected').removeClass('selected'),H(e),f=!0))})),y.click(D),y.on('click','.tag-editor-delete',(function(){if(!h.readOnly){if(t(this).prev().hasClass('active'))return t(this).closest('li').find('textarea').caret(-1),!1;var e=t(this).closest('li'),n=e.find('.tag-editor-tag');return!1===h.beforeTagDelete(m,y,i,n.html())||(n.addClass('deleted').animate({width:0},100,(function(){e.remove(),k()})),C()),!1}})),h.clickDelete&&y.on('mousedown','.tag-editor-tag',(function(e){if(e.which>1){var n=t(this).closest('li'),a=n.find('.tag-editor-tag');return!1===h.beforeTagDelete(m,y,i,a.html())||(a.addClass('deleted').animate({width:0},100,(function(){n.remove(),k()})),C()),!1}})),y.on('click','.tag-editor-tag',(function(e){return h.clickDelete&&e.which>1||(e.ctrlKey||e.metaKey?t(this).closest('li').toggleClass('selected'):(c.not(m).next('.tag-editor').find('.selected').removeClass('selected'),t(this).closest('li').addClass('selected').siblings().removeClass('selected')),!t(this).hasClass('active')&&E()),!1})),y.on('dblclick','.tag-editor-tag',(function(e){if(!h.readOnly){var i=t(this);if(!i.hasClass('active')){x(i);var n=i.data('text')||'',a=i.data('prefix')||'',r=e.clientX&&n.length*Math.abs((i.offset().left-e.clientX)/i.width()),o=i.html(p).addClass('active').find('textarea');if(i.closest('li').addClass('active'),setTimeout((function(){o.data({oldTag:n,prefix:a}).tagEditorInput().val(n).focus(),r&&o.caret(r)}),0),h.autocomplete){var s=t.extend({},h.autocomplete),l='select'in s?h.autocomplete.select:'';s.select=function(){l&&l(),setTimeout((function(){t('.active',y).find('textarea').focus()}),20)},o.autocomplete(s)}if(h.contactac){var d=t.extend({enableSecurityLevel:h.enableSecurityLevel},h.contactac),c='select'in d?h.contactac.select:'';d.select=function(){c&&c(),setTimeout((function(){D(e,t('.active',y))}),20)},o.contactac(d)}o.blur(z)}return!1}})),y.on('mouseenter','.tag-editor-tag',(function(){t(this).closest('li').addClass('hover'),h.onMouseEnter(m,y,i,t(this).data('text'))})),y.on('mouseleave','.tag-editor-tag',(function(){t(this).closest('li').removeClass('hover'),h.onMouseLeave(m,y,i,t(this).data('text'))})),y.on(h.ctxClickEvent,(function(e,t){var i=d.OIE;switch(t){case'all':N();break;case'delete':L(y.find('.tag-editor-li.selected'));break;case'cut':E(),i?(d.setText(w.val()),w.trigger('cut')):d.cut();break;case'copy':E(),i?(d.setText(w.val()),w.trigger('copy')):d.copy();break;case'paste':var n=d.getText()||window.prompt(r('mail/clipboard_paste_safe_hint'),'');f=!1,y.click(),B(y.find('.tag-editor-tag.active textarea'),n)}})),y.on('paste','textarea',(function(){B(t(this).removeAttr('maxlength'))})),y.on('keypress','textarea',(function(e){h.delimiter.indexOf(String.fromCharCode(e.which))>=0&&(I=t(this),setTimeout((function(){S(I)}),20))})),y.on('keydown','textarea',(function(i){var n,a,r,o,s=t(this);if(i.ctrlKey||i.metaKey){if((window.getSelection&&getSelection().toString()||document.selection&&document.selection.createRange().text)&&!w.val())return!0;if(s.val())return!0;if(65===i.which)return N(),!0}if(!(37!==i.which&&(h.autocomplete||h.contactac||38!==i.which)||s.caret()))return(n=s.closest('li').prev('li').find('.tag-editor-tag')).length&&t(u).insertBefore(n.closest('li')).find('.tag-editor-tag').dblclick(),!1;if((39===i.which||!h.autocomplete&&!h.contactac&&40===i.which)&&s.caret()===s.val().length)return(r=s.closest('li').next('li').find('.tag-editor-tag')).length?t(u).insertAfter(r.closest('li')).find('.tag-editor-tag').dblclick():y.click(),!1;if(9===i.which){if(i.shiftKey)return(n=s.closest('li').prev('li').find('.tag-editor-tag')).length?(t(u).insertBefore(n.closest('li')).find('.tag-editor-tag').dblclick(),!1):(m.attr('disabled',!0),void setTimeout((function(){m.removeAttr('disabled')}),30));if((r=s.closest('li').next('li').find('.tag-editor-tag')).length)t(u).insertAfter(r.closest('li')).find('.tag-editor-tag').dblclick();else{if(!s.val())return;y.click()}return!1}if(46===i.which||8===i.which&&!s.val()){if((o=s.closest('li').siblings('li.tag-editor-li.selected')).length>0)return o.each((function(){t(this).find('.tag-editor-delete').click()})),!1;if(''===s.val()){var l=s.closest('li');return(a=8===i.which?l.prev('li').find('.tag-editor-tag'):l.next('li').find('.tag-editor-tag')).length&&a.closest('li').find('.tag-editor-delete').click(),!1}return!0}if(13===i.which)setTimeout((function(){S(s)}),20),e.stop(i,0);else if(36!==i.which||s.caret()){if(35===i.which&&s.caret()===s.val().length)y.find('.tag-editor-tag').last().dblclick();else if(27===i.which)return!1}else y.find('.tag-editor-tag').first().dblclick()})),y.on('containerMouseMove',(function(e,i,n){if(M(i)){if(y[0].scrollHeight>y.height()){var a,r=y.offset().top,o=y.offset().top+y.height(),s=i.clientY;((a=s-r)<0||(a=s-o)>0)&&(y.scrollTop(y.scrollTop()+a),P(i))}t(n).trigger('tagMouseDragged',[y,i])}})),w.on('keydown',(function(e){if(e.ctrlKey||e.metaKey){if((window.getSelection&&getSelection().toString()||document.selection&&document.selection.createRange().text)&&!w.val())return!1;if(65===e.which)return N(),!0;if(67===e.which||88===e.which)return!0}return(46===e.which||8===e.which)&&(L(y.find('.tag-editor-li.selected')),!0)})),w.on('cut',(function(){setTimeout((function(){y.find('.tag-editor-li.selected').remove(),C(),w.val('')}),20)})),w.on('focus',(function(){var e=y.find('.tag-editor-li.selected').map((function(e,i){var n=t(i).find('.tag-editor-tag').data('text');if(n)return n})).get().join();e&&w.val(e)}));var Z=h.initialTags.length?h.initialTags:T(m.val());Z.length>0&&b(y,m,Z),C(!0),h.sortable&&t.fn.sortable&&y.sortable(t.extend({delay:150,distance:5,cancel:'.tag-editor-spacer, input, textarea, .active',revert:50,cursorAt:{left:5},appendTo:document.body,containment:document.body,connectWith:'.tag-editor',update:function(){return setTimeout(C,300)},receive:function(){var e=[];t('.tag-editor-tag',y).each((function(i,n){var a=(n=t(n)).text();e.includes(a)?n.closest('li').remove():e.push(a)})),_(y,m)},helper:function(e,i){i.hasClass('selected')||i.addClass('selected').siblings().removeClass('selected');var n=i.parent().children('.selected');n.find('.tag-editor-tag').get().forEach((function(e){return x(t(e))}));var a=n.clone(!0),o=i.siblings('.selected');i.data('multidrag',a).data('siblings',o);var l=t('<li />').addClass('tag-sortable-helper');if(a.length>1){var d=t('<li />').append(t('<div class="tag-editor-tag" />').html(s(r('common/tagEditor_drag'),a.length))),c=d.clone(),h=c.appendTo('body').css({position:'absolute',left:'-9999px',top:'-9999px'}).width();c.remove(),l.append(d).addClass('multiple').css('width',h+10)}else l.append(a);return l},stop:function(e,i){var n=i.item;try{var a=n.data('multidrag').removeClass('selected');n.data('siblings').remove(),a.find('.tag-editor-tag').get().forEach((function(e){return v(t(e))})),n.after(a).remove()}catch(e){}}},'object'===t.type(h.sortable)?h.sortable:{}))}))},t.fn.tagEditor.defaults={initialTags:[],maxLength:130,trueNameLength:10,localPartLength:20,domainPartLength:20,delimiter:',;',placeholder:'',forceLowercase:!1,clickDelete:!1,sortable:!0,autocomplete:null,contactac:null,checkEmail:!0,ctxSelector:'ul.tag-editor',ctxExcludeSelector:'.tag-editor-li.active',ctxClickEvent:'contextclick',enableSecurityLevel:!1,tagTipSetup:function(e,t){return e.attr('title',t)},onClick:n,onBlur:n,onChange:n,onMouseEnter:n,onMouseLeave:n,beforeTagSave:n,beforeTagDelete:n},a(t.fn.tagEditor.defaults.ctxSelector,{copy:{text:r('mail/clipboard_copy'),hint:'Ctrl+C',disabled:!d.ANY},cut:{text:r('mail/clipboard_cut'),hint:'Ctrl+X',disabled:!d.ANY},paste:{text:r('mail/clipboard_paste'),hint:'Ctrl+V'},'delete':{text:r('mail/clipboard_delete'),hint:'Delete'},separator:'-------------',all:{text:r('mail/clipboard_select_all'),hint:'Ctrl+A'}},t.fn.tagEditor.defaults.ctxClickEvent,t.fn.tagEditor.defaults.ctxExcludeSelector)}).call(this,i(464))},639:function(e,t,i){(function(n){var a=document,r=window.clipboardData;try{var o=a.queryCommandSupported('cut')}catch(d){}var s=i(481).LE8&&!!r,l=function(e){return function(){return o&&a.execCommand(e)}};e.exports=t=function(e){var t=e.clipboardData||r;return{getText:function(){return t&&t.getData('text')},setText:function(e){return t&&t.setData('text',e)}}},n.assign(t,{ANY:o||s,OIE:s,cut:l('cut'),copy:l('copy')},t({}))}).call(this,i(464))},642:function(e,t){KindEditor.lang({source:'عرض المصدر',preview:'معاينة الصفحة',undo:'تراجع(Ctrl+Z)',redo:'إعادة التراجع(Ctrl+Y)',cut:'قص(Ctrl+X)',copy:'نسخ(Ctrl+C)',paste:'لصق(Ctrl+V)',plainpaste:'لصق كنص عادي',wordpaste:'لصق من مايكروسفت ورد',selectall:'تحديد الكل',justifyleft:'محاذاه لليسار',justifycenter:'محاذاه للوسط',justifyright:'محاذاه لليمين',justifyfull:'محاذاه تلقائية',insertorderedlist:'قائمة مرقمه',insertunorderedlist:'قائمة نقطية',indent:'إزاحه النص',outdent:'إلغاء الازاحة',subscript:'أسفل النص',superscript:'أعلى النص',formatblock:'Paragraph format',fontname:'نوع الخط',fontsize:'حجم الخط',forecolor:'لون النص',hilitecolor:'لون خلفية النص',bold:'عريض(Ctrl+B)',italic:'مائل(Ctrl+I)',underline:'خط تحت النص(Ctrl+U)',strikethrough:'خط على النص',removeformat:'إزالة التنسيق',image:'إدراج صورة',multiimage:'Multi image',flash:'إدراج فلاش',media:'إدراج وسائط متعددة',table:'إدراج جدول',tablecell:'خلية',hr:'إدراج خط أفقي',emoticons:'إدراج وجه ضاحك',link:'رابط',unlink:'إزالة الرابط',fullscreen:'محرر ملئ الشاشة',about:'حول',print:'طباعة',filemanager:'مدير الملفات',code:'إدراج نص برمجي',map:'خرائط قووقل',baidumap:'خرائط قووقل',lineheight:'إرتفاع السطر',clearhtml:'مسح كود HTML',pagebreak:'إدراج فاصل صفحات',quickformat:'تنسيق سريع',insertfile:'إدراج ملف',template:'إدراج قالب',anchor:'رابط',yes:'موافق',no:'إلغاء',close:'إغلاق',editImage:'خصائص الصورة',deleteImage:'حذفالصورة',editFlash:'خصائص الفلاش',deleteFlash:'حذف الفلاش',editMedia:'خصائص الوسائط',deleteMedia:'حذف الوسائط',editLink:'خصائص الرابط',deleteLink:'إزالة الرابط',editAnchor:'Anchor properties',deleteAnchor:'Delete Anchor',tableprop:'خصائص الجدول',tablecellprop:'خصائص الخلية',tableinsert:'إدراج جدول',tabledelete:'حذف جدول',tablecolinsertleft:'إدراج عمود لليسار',tablecolinsertright:'إدراج عمود لليسار',tablerowinsertabove:'إدراج صف للأعلى',tablerowinsertbelow:'إدراج صف للأسفل',tablerowmerge:'دمج للأسفل',tablecolmerge:'دمج لليمين',tablerowsplit:'تقسم الصف',tablecolsplit:'تقسيم العمود',tablecoldelete:'حذف العمود',tablerowdelete:'حذف الصف',noColor:'إفتراضي',pleaseSelectFile:'Please select file.',invalidImg:'الرجاء إدخال رابط صحيح.\nالملفات المسموح بها: jpg,gif,bmp,png',invalidMedia:'الرجاء إدخال رابط صحيح.\nالملفات المسموح بها: swf,flv,mp3,wav,wma,wmv,mid,avi,mpg,asf,rm,rmvb',invalidWidth:'العرض يجب أن يكون رقم.',invalidHeight:'الإرتفاع يجب أن يكون رقم.',invalidBorder:'عرض الحد يجب أن يكون رقم.',invalidUrl:'الرجاء إدخال رابط حيح.',invalidRows:'صفوف غير صحيح.',invalidCols:'أعمدة غير صحيحة.',invalidPadding:'The padding must be number.',invalidSpacing:'The spacing must be number.',invalidJson:'Invalid JSON string.',uploadSuccess:'تم رفع الملف بنجاح.',cutError:'حاليا غير مدعومة من المتصفح, إستخدم إختصار لوحة المفاتيح (Ctrl+X).',copyError:'حاليا غير مدعومة من المتصفح, إستخدم إختصار لوحة المفاتيح (Ctrl+C).',pasteError:'حاليا غير مدعومة من المتصفح, إستخدم إختصار لوحة المفاتيح (Ctrl+V).',ajaxLoading:'Loading ...',uploadLoading:'Uploading ...',uploadError:'Upload Error','plainpaste.comment':'إستخدم إختصار لوحة المفاتيح (Ctrl+V) للصق داخل النافذة.','wordpaste.comment':'إستخدم إختصار لوحة المفاتيح (Ctrl+V) للصق داخل النافذة.','code.pleaseInput':'Please input code.','link.url':'الرابط','link.linkType':'الهدف','link.newWindow':'نافذة جديدة','link.selfWindow':'نفس النافذة','flash.url':'الرابط','flash.width':'العرض','flash.height':'الإرتفاع','flash.upload':'رفع','flash.viewServer':'أستعراض','media.url':'الرابط','media.width':'العرض','media.height':'الإرتفاع','media.autostart':'تشغيل تلقائي','media.upload':'رفع','media.viewServer':'أستعراض','image.remoteImage':'إدراج الرابط','image.localImage':'رفع','image.remoteUrl':'الرابط','image.localUrl':'الملف','image.size':'الحجم','image.width':'العرض','image.height':'الإرتفاع','image.resetSize':'إستعادة الأبعاد','image.align':'محاذاة','image.defaultAlign':'الإفتراضي','image.leftAlign':'اليسار','image.rightAlign':'اليمين','image.imgTitle':'العنوان','image.upload':'أستعراض','image.viewServer':'أستعراض','multiimage.uploadDesc':'Allows users to upload <%=uploadLimit%> images, single image size not exceeding <%=sizeLimit%>','multiimage.startUpload':'Start upload','multiimage.clearAll':'Clear all','multiimage.insertAll':'Insert all','multiimage.queueLimitExceeded':'Queue limit exceeded.','multiimage.fileExceedsSizeLimit':'File exceeds size limit.','multiimage.zeroByteFile':'Zero byte file.','multiimage.invalidFiletype':'Invalid file type.','multiimage.unknownError':'Unknown upload error.','multiimage.pending':'Pending ...','multiimage.uploadError':'Upload error','filemanager.emptyFolder':'فارغ','filemanager.moveup':'المجلد الأب','filemanager.viewType':'العرض: ','filemanager.viewImage':'مصغرات','filemanager.listImage':'قائمة','filemanager.orderType':'الترتيب: ','filemanager.fileName':'بالإسم','filemanager.fileSize':'بالحجم','filemanager.fileType':'بالنوع','insertfile.url':'الرابط','insertfile.title':'العنوان','insertfile.upload':'رفع','insertfile.viewServer':'أستعراض','table.cells':'خلايا','table.rows':'صفوف','table.cols':'أعمدة','table.size':'الأبعاد','table.width':'العرض','table.height':'الإرتفاع','table.percent':'%','table.px':'px','table.space':'الخارج','table.padding':'الداخل','table.spacing':'الفراغات','table.align':'محاذاه','table.textAlign':'افقى','table.verticalAlign':'رأسي','table.alignDefault':'إفتراضي','table.alignLeft':'يسار','table.alignCenter':'وسط','table.alignRight':'يمين','table.alignTop':'أعلى','table.alignMiddle':'منتصف','table.alignBottom':'أسفل','table.alignBaseline':'Baseline','table.border':'الحدود','table.borderWidth':'العرض','table.borderColor':'اللون','table.backgroundColor':'الخلفية','map.address':'العنوان: ','map.search':'بحث','baidumap.address':'العنوان: ','baidumap.search':'بحث','baidumap.insertDynamicMap':'Dynamic Map','anchor.name':'إسم الرابط','formatblock.formatBlock':{h1:'عنوان 1',h2:'عنوان 2',h3:'عنوان 3',h4:'عنوان 4',p:'عادي'},'fontname.fontName':{Arial:'Arial','Arial Black':'Arial Black','Comic Sans MS':'Comic Sans MS','Courier New':'Courier New',Garamond:'Garamond',Georgia:'Georgia',Tahoma:'Tahoma','Times New Roman':'Times New Roman','Trebuchet MS':'Trebuchet MS',Verdana:'Verdana'},'lineheight.lineHeight':[{1:'إرتفاع السطر 1'},{1.5:'إرتفاع السطر 1.5'},{2:'إرتفاع السطر 2'},{2.5:'إرتفاع السطر 2.5'},{3:'إرتفاع السطر 3'}],'template.selectTemplate':'قالب','template.replaceContent':'إستبدال المحتوى الحالي','template.fileList':{'1.html':'صورة ونص','2.html':'جدول','3.html':'قائمة'}},'ar'),KindEditor.each(KindEditor.options.items,(function(e,t){'baidumap'==t&&(KindEditor.options.items[e]='map')})),KindEditor.options.langType='ar'},643:function(e,t){KindEditor.lang({source:'Source',preview:'Preview',undo:'Undo(Ctrl+Z)',redo:'Redo(Ctrl+Y)',cut:'Cut(Ctrl+X)',copy:'Copy(Ctrl+C)',paste:'Paste(Ctrl+V)',plainpaste:'Paste as plain text',wordpaste:'Paste from Word',selectall:'Select all',justifyleft:'Align left',justifycenter:'Align center',justifyright:'Align right',justifyfull:'Align full',insertorderedlist:'Ordered list',insertunorderedlist:'Unordered list',indent:'Increase indent',outdent:'Decrease indent',subscript:'Subscript',superscript:'Superscript',formatblock:'Paragraph format',fontname:'Font family',fontsize:'Font size',forecolor:'Text color',hilitecolor:'Highlight color',bold:'Bold(Ctrl+B)',italic:'Italic(Ctrl+I)',underline:'Underline(Ctrl+U)',strikethrough:'Strikethrough',removeformat:'Remove format',image:'Image',multiimage:'Multi image',flash:'Flash',media:'Embeded media',table:'Table',tablecell:'Cell',hr:'Insert horizontal line',emoticons:'Insert emoticon',link:'Link',unlink:'Unlink',fullscreen:'Toggle fullscreen mode',about:'About',print:'Print',filemanager:'File Manager',code:'Insert code',map:'Google Maps',baidumap:'Baidu Maps',lineheight:'Line height',clearhtml:'Clear HTML code',pagebreak:'Insert Page Break',quickformat:'Quick Format',insertfile:'Insert file',template:'Insert Template',anchor:'Anchor',yes:'OK',no:'Cancel',close:'Close',editImage:'Image properties',deleteImage:'Delete image',editFlash:'Flash properties',deleteFlash:'Delete flash',editMedia:'Media properties',deleteMedia:'Delete media',editLink:'Link properties',deleteLink:'Unlink',editAnchor:'Anchor properties',deleteAnchor:'Delete Anchor',tableprop:'Table properties',tablecellprop:'Cell properties',tableinsert:'Insert table',tabledelete:'Delete table',tablecolinsertleft:'Insert column left',tablecolinsertright:'Insert column right',tablerowinsertabove:'Insert row above',tablerowinsertbelow:'Insert row below',tablerowmerge:'Merge down',tablecolmerge:'Merge right',tablerowsplit:'Split row',tablecolsplit:'Split column',tablecoldelete:'Delete column',tablerowdelete:'Delete row',noColor:'Default',pleaseSelectFile:'Please select file.',invalidImg:'Please type valid URL.\nAllowed file extension: jpg,gif,bmp,png',invalidMedia:'Please type valid URL.\nAllowed file extension: swf,flv,mp3,wav,wma,wmv,mid,avi,mpg,asf,rm,rmvb',invalidWidth:'The width must be number.',invalidHeight:'The height must be number.',invalidBorder:'The border must be number.',invalidUrl:'Please type valid URL.',invalidRows:'Invalid rows.',invalidCols:'Invalid columns.',invalidPadding:'The padding must be number.',invalidSpacing:'The spacing must be number.',invalidJson:'Invalid JSON string.',uploadSuccess:'Upload success.',cutError:'Currently not supported by your browser, use keyboard shortcut(Ctrl+X) instead.',copyError:'Currently not supported by your browser, use keyboard shortcut(Ctrl+C) instead.',pasteError:'Currently not supported by your browser, use keyboard shortcut(Ctrl+V) instead.',ajaxLoading:'Loading ...',uploadLoading:'Uploading ...',uploadError:'Upload Error','plainpaste.comment':'Use keyboard shortcut(Ctrl+V) to paste the text into the window.','wordpaste.comment':'Use keyboard shortcut(Ctrl+V) to paste the text into the window.','code.pleaseInput':'Please input code.','link.url':'URL','link.linkType':'Target','link.newWindow':'New window','link.selfWindow':'Same window','flash.url':'URL','flash.width':'Width','flash.height':'Height','flash.upload':'Upload','flash.viewServer':'Browse','media.url':'URL','media.width':'Width','media.height':'Height','media.autostart':'Auto start','media.upload':'Upload','media.viewServer':'Browse','image.remoteImage':'Insert URL','image.localImage':'Upload','image.remoteUrl':'URL','image.localUrl':'File','image.size':'Size','image.width':'Width','image.height':'Height','image.resetSize':'Reset dimensions','image.align':'Align','image.defaultAlign':'Default','image.leftAlign':'Left','image.rightAlign':'Right','image.imgTitle':'Title','image.upload':'Browse','image.viewServer':'Browse','multiimage.uploadDesc':'Allows users to upload <%=uploadLimit%> images, single image size not exceeding <%=sizeLimit%>','multiimage.startUpload':'Start upload','multiimage.clearAll':'Clear all','multiimage.insertAll':'Insert all','multiimage.queueLimitExceeded':'Queue limit exceeded.','multiimage.fileExceedsSizeLimit':'File exceeds size limit.','multiimage.zeroByteFile':'Zero byte file.','multiimage.invalidFiletype':'Invalid file type.','multiimage.unknownError':'Unknown upload error.','multiimage.pending':'Pending ...','multiimage.uploadError':'Upload error','filemanager.emptyFolder':'Blank','filemanager.moveup':'Parent folder','filemanager.viewType':'Display: ','filemanager.viewImage':'Thumbnails','filemanager.listImage':'List','filemanager.orderType':'Sorting: ','filemanager.fileName':'By name','filemanager.fileSize':'By size','filemanager.fileType':'By type','insertfile.url':'URL','insertfile.title':'Title','insertfile.upload':'Upload','insertfile.viewServer':'Browse','table.cells':'Cells','table.rows':'Rows','table.cols':'Columns','table.size':'Dimensions','table.width':'Width','table.height':'Height','table.percent':'%','table.px':'px','table.space':'Space','table.padding':'Padding','table.spacing':'Spacing','table.align':'Align','table.textAlign':'Horizontal','table.verticalAlign':'Vertical','table.alignDefault':'Default','table.alignLeft':'Left','table.alignCenter':'Center','table.alignRight':'Right','table.alignTop':'Top','table.alignMiddle':'Middle','table.alignBottom':'Bottom','table.alignBaseline':'Baseline','table.border':'Border','table.borderWidth':'Width','table.borderColor':'Color','table.backgroundColor':'Background','map.address':'Address: ','map.search':'Search','baidumap.address':'Address: ','baidumap.search':'Search','baidumap.insertDynamicMap':'Dynamic Map','anchor.name':'Anchor name','formatblock.formatBlock':{h1:'Heading 1',h2:'Heading 2',h3:'Heading 3',h4:'Heading 4',p:'Normal'},'fontname.fontName':{Arial:'Arial','Arial Black':'Arial Black','Comic Sans MS':'Comic Sans MS','Courier New':'Courier New',Garamond:'Garamond',Georgia:'Georgia',Tahoma:'Tahoma','Times New Roman':'Times New Roman','Trebuchet MS':'Trebuchet MS',Verdana:'Verdana'},'lineheight.lineHeight':[{1:'Line height 1'},{1.5:'Line height 1.5'},{2:'Line height 2'},{2.5:'Line height 2.5'},{3:'Line height 3'}],'template.selectTemplate':'Template','template.replaceContent':'Replace current content','template.fileList':{'1.html':'Image and Text','2.html':'Table','3.html':'List'}},'en'),KindEditor.each(KindEditor.options.items,(function(e,t){'baidumap'==t&&(KindEditor.options.items[e]='map')})),KindEditor.options.langType='en'},644:function(e,t){KindEditor.lang({source:'소스',preview:'미리보기',undo:'작업취소(Ctrl+Z)',redo:'작업재개(Ctrl+Y)',cut:'잘라내기(Ctrl+X)',copy:'복사(Ctrl+C)',paste:'붙여넣기(Ctrl+V)',plainpaste:'일반 텍스트로 붙여넣기',wordpaste:'워드 문서로 붙여넣기',selectall:'전체 선택',justifyleft:'왼쪽 정렬',justifycenter:'가운데 정렬',justifyright:'오른쪽 정렬',justifyfull:'양쪽 정렬',insertorderedlist:'순서 목록',insertunorderedlist:'비순서 목록',indent:'들여쓰기',outdent:'내어쓰기',subscript:'아랫첨자',superscript:'윗첨자',formatblock:'문단 형식',fontname:'글꼴',fontsize:'글자 크기',forecolor:'글자색',hilitecolor:'강조색',bold:'굵게(Ctrl+B)',italic:'이텔릭(Ctrl+I)',underline:'빝줄(Ctrl+U)',strikethrough:'취소선',removeformat:'형식 제거',image:'이미지 추가',multiimage:'여러 이미지 추가',flash:'플래시 추가',media:'미디어 추가',table:'표',tablecell:'열',hr:'구분선 추가',emoticons:'이모티콘 추가',link:'링크',unlink:'링크 제거',fullscreen:'전체 화면 모드',about:'이 에디터는...',print:'인쇄',filemanager:'파일 관리자',code:'코드 추가',map:'구글 맵 추가',baidumap:'바이두 맵 추가',lineheight:'행 간격',clearhtml:'HTML 코드 정리',pagebreak:'페이지 구분 추가',quickformat:'빠른 형식',insertfile:'파일 추가',template:'템플릿 추가',anchor:'책갈피',yes:'확인',no:'취소',close:'닫기',editImage:'이미지 속성',deleteImage:'이미지 삭제',editFlash:'플래시 속성',deleteFlash:'플래시 삭제',editMedia:'미디어 속성',deleteMedia:'미디어 삭제',editLink:'링크 속성',deleteLink:'링크 삭제',editAnchor:'Anchor properties',deleteAnchor:'Delete Anchor',tableprop:'표 속성',tablecellprop:'열 속성',tableinsert:'표 추가',tabledelete:'표 삭제',tablecolinsertleft:'왼쪽으로 열 추가',tablecolinsertright:'오른쪽으로 열 추가',tablerowinsertabove:'위쪽으로 열 추가',tablerowinsertbelow:'아래쪽으로 열 추가',tablerowmerge:'아래로 병합',tablecolmerge:'오른쪽으로 병합',tablerowsplit:'행 나누기',tablecolsplit:'열 나누기',tablecoldelete:'열 삭제',tablerowdelete:'행 삭제',noColor:'기본색',pleaseSelectFile:'파일 선택',invalidImg:'올바른 주소를 입력하세요.\njpg,gif,bmp,png 형식이 가능합니다.',invalidMedia:'올바른 주소를 입력하세요.\nswf,flv,mp3,wav,wma,wmv,mid,avi,mpg,asf,rm,rmvb 형식이 가능합니다.',invalidWidth:'넓이 값은 숫자여야 합니다.',invalidHeight:'높이 값은 숫자여야 합니다.',invalidBorder:'굵기 값은 숫자여야 합니다.',invalidUrl:'올바른 주소를 입력하세요.',invalidRows:'올바른 행이 아닙니다.',invalidCols:'올바른 열이 아닙니다.',invalidPadding:'안쪽 여백 값은 숫자여야 합니다.',invalidSpacing:'간격 길이 값은 숫자여야 합니다.',invalidJson:'올바른 JSON 형식이 아닙니다.',uploadSuccess:'업로드가 완료되었습니다.',cutError:'브라우저가 잘라내기 기능을 지원하지 않습니다, 단축키로 대신 사용하세요. (Ctrl+X)',copyError:'브라우저가 복사 기능을 지원하지 않습니다, 단축키로 대신 사용하세요. (Ctrl+X)',pasteError:'브라우저가 붙여넣기 기능을 지원하지 않습니다, 단축키로 대신 사용하세요. (Ctrl+X)',ajaxLoading:'불러오는 중 ...',uploadLoading:'업로드 중 ...',uploadError:'업로드 오류','plainpaste.comment':'단축키(Ctrl+V)를 통하여 여기에 텍스트를 붙여넣으세요.','wordpaste.comment':'단축키(Ctrl+V)를 통하여 여기에 워드 텍스트를 붙여넣으세요.','code.pleaseInput':'Please input code.','link.url':'주소','link.linkType':'창','link.newWindow':'새 창','link.selfWindow':'현재 창','flash.url':'주소','flash.width':'넓이','flash.height':'높이','flash.upload':'업로드','flash.viewServer':'찾아보기','media.url':'주소','media.width':'넓이','media.height':'높이','media.autostart':'자동 시작','media.upload':'업로드','media.viewServer':'찾아보기','image.remoteImage':'외부 이미지','image.localImage':'내부 이미지','image.remoteUrl':'주소','image.localUrl':'파일','image.size':'크기','image.width':'넓이','image.height':'높이','image.resetSize':'기본 크기로','image.align':'정렬','image.defaultAlign':'기본','image.leftAlign':'왼쪽','image.rightAlign':'오른쪽','image.imgTitle':'제목','image.upload':'찾아보기','image.viewServer':'찾아보기','multiimage.uploadDesc':'최대 이미지 개수: <%=uploadLimit%>개, 개당 이미지 크기: <%=sizeLimit%>','multiimage.startUpload':'업로드 시작','multiimage.clearAll':'모두 삭제','multiimage.insertAll':'모두 삽입','multiimage.queueLimitExceeded':'업로드 개수가 초과되었습니다.','multiimage.fileExceedsSizeLimit':'업로드 크기가 초과되었습니다.','multiimage.zeroByteFile':'파일 크기가 없습니다.','multiimage.invalidFiletype':'올바른 이미지가 아닙니다.','multiimage.unknownError':'알 수 없는 업로드 오류가 발생하였습니다.','multiimage.pending':'처리 중 ...','multiimage.uploadError':'업로드 오류','filemanager.emptyFolder':'빈 폴더','filemanager.moveup':'위로','filemanager.viewType':'보기 방식: ','filemanager.viewImage':'미리 보기','filemanager.listImage':'목록','filemanager.orderType':'정렬 방식: ','filemanager.fileName':'이름별','filemanager.fileSize':'크기별','filemanager.fileType':'종류별','insertfile.url':'주소','insertfile.title':'제목','insertfile.upload':'업로드','insertfile.viewServer':'찾아보기','table.cells':'열','table.rows':'행','table.cols':'열','table.size':'표 크기','table.width':'넓이','table.height':'높이','table.percent':'%','table.px':'px','table.space':'간격','table.padding':'안쪽여백','table.spacing':'간격','table.align':'정렬','table.textAlign':'수직','table.verticalAlign':'수평','table.alignDefault':'기본','table.alignLeft':'왼쪽','table.alignCenter':'가운데','table.alignRight':'오른쪽','table.alignTop':'위쪽','table.alignMiddle':'중간','table.alignBottom':'아래쪽','table.alignBaseline':'글자기준','table.border':'테두리','table.borderWidth':'크기','table.borderColor':'색상','table.backgroundColor':'배경','map.address':'주소: ','map.search':'검색','baidumap.address':'주소: ','baidumap.search':'검색','baidumap.insertDynamicMap':'동적 지도','anchor.name':'책갈피명','formatblock.formatBlock':{h1:'제목 1',h2:'제목 2',h3:'제목 3',h4:'제목 4',p:'본문'},'fontname.fontName':{Gulim:'굴림',Dotum:'돋움',Batang:'바탕',Gungsuh:'궁서','Malgun Gothic':'맑은 고딕',Arial:'Arial','Arial Black':'Arial Black','Comic Sans MS':'Comic Sans MS','Courier New':'Courier New',Garamond:'Garamond',Georgia:'Georgia',Tahoma:'Tahoma','Times New Roman':'Times New Roman','Trebuchet MS':'Trebuchet MS',Verdana:'Verdana'},'lineheight.lineHeight':[{1:'행간 1'},{1.5:'행간 1.5'},{2:'행간 2'},{2.5:'행간 2.5'},{3:'행간 3'}],'template.selectTemplate':'템플릿','template.replaceContent':'내용 바꾸기','template.fileList':{'1.html':'이미지와 텍스트','2.html':'표','3.html':'목록'}},'ko'),KindEditor.each(KindEditor.options.items,(function(e,t){'baidumap'==t&&(KindEditor.options.items[e]='map')})),KindEditor.options.langType='ko'},645:function(e,t){KindEditor.lang({source:'Source',preview:'Preview',undo:'Отмена(Ctrl+Z)',redo:'Повтор(Ctrl+Y)',cut:'Вырезать(Ctrl+X)',copy:'Копировать(Ctrl+C)',paste:'Вставить(Ctrl+V)',plainpaste:'Вставить как простой текст',wordpaste:'Вставить из Word',selectall:'Выбрать все',justifyleft:'Выравнивание влево',justifycenter:'Выравнивание по центру',justifyright:'Выравнивание вправо',justifyfull:'Выравнивание по обеим сторонам',insertorderedlist:'Нумерованый список',insertunorderedlist:'Ненумерованый список',indent:'Добавить отступ',outdent:'Убрать отступ',subscript:'Надстрочный',superscript:'Подстрочный',formatblock:'Формат параграфа',fontname:'Шрифт',fontsize:'Размер',forecolor:'Цвет текста',hilitecolor:'Цвет фона',bold:'Жирный(Ctrl+B)',italic:'Наклонный(Ctrl+I)',underline:'Подчёркнутый(Ctrl+U)',strikethrough:'Перечёркнутый',removeformat:'Удалить формат',image:'Изображение',multiimage:'Мульти-загрузка',flash:'Flash',media:'Встроенные данные',table:'Таблица',tablecell:'Ячейка',hr:'Горизонтальный разделитель',emoticons:'Смайл',link:'Ссылка',unlink:'Убрать ссылку',fullscreen:'На весь экран',about:'О программе',print:'Печать',filemanager:'Файлы',code:'Код',map:'Карта Google',baidumap:'Карта Baidu',lineheight:'Межстрочный интервал',clearhtml:'Очистить HTML код',pagebreak:'Разрыв страницы',quickformat:'Быстрый формат',insertfile:'Вставить файл',template:'Вставить шаблон',anchor:'Якорь',yes:'OK',no:'Отмена',close:'Закрыть',editImage:'Свойства изображения',deleteImage:'Удалить изображение',editFlash:'Свойства Flash',deleteFlash:'Удалить Flash',editMedia:'Свойства Media',deleteMedia:'Удалить Media',editLink:'Свойства ссылки',deleteLink:'Удалить ссылку',editAnchor:'Anchor properties',deleteAnchor:'Delete Anchor',tableprop:'Свойства таблицы',tablecellprop:'Свойства ячейки',tableinsert:'Вставить таблицу',tabledelete:'Удалить таблицу',tablecolinsertleft:'Добавить столбец слева',tablecolinsertright:'Добавить столбец справа',tablerowinsertabove:'Добавить строку выше',tablerowinsertbelow:'Добавить строку ниже',tablerowmerge:'Объединить вниз',tablecolmerge:'Объединить вправо',tablerowsplit:'Разделить строку',tablecolsplit:'Разделить столбец',tablecoldelete:'Удалить столбец',tablerowdelete:'Удалить строку',noColor:'По умолчанию',pleaseSelectFile:'Выберите файл.',invalidImg:'Укажите корректный URL изображения.\nРазрешённые форматы: jpg,gif,bmp,png',invalidMedia:'Укажите корректный тип медиа-объекта.\nРазрешённые типы: swf,flv,mp3,wav,wma,wmv,mid,avi,mpg,asf,rm,rmvb',invalidWidth:'Ширина должна быть числом.',invalidHeight:'Высота должна быть числом.',invalidBorder:'Ширина рамки должна быть числом.',invalidUrl:'Укажите корректный URL.',invalidRows:'Неверные строки.',invalidCols:'Неверные столбцы.',invalidPadding:'padding должен быть числом.',invalidSpacing:'spacing должен быть числом.',invalidJson:'Неверная JSON строка.',uploadSuccess:'Загрузка завершена.',cutError:'Данная опция не поддерживается вашим браузером, воспользуйтесь комбинацией клавиш (Ctrl+X).',copyError:'Данная опция не поддерживается вашим браузером, воспользуйтесь комбинацией клавиш (Ctrl+C).',pasteError:'Данная опция не поддерживается вашим браузером, воспользуйтесь комбинацией клавиш (Ctrl+V).',ajaxLoading:'Загрузка ...',uploadLoading:'Загрузка ...',uploadError:'Сбой загрузки','plainpaste.comment':'Для вставки скопированного текста воспользуйтесь комбинацией клавиш (Ctrl+V).','wordpaste.comment':'Для вставки скопированного текста воспользуйтесь комбинацией клавиш (Ctrl+V).','code.pleaseInput':'Введите код.','link.url':'URL','link.linkType':'Открывать ссылку','link.newWindow':'в новом окне','link.selfWindow':'в том же окне','flash.url':'URL','flash.width':'Ширина','flash.height':'Высота','flash.upload':'Загрузить','flash.viewServer':'Выбрать','media.url':'URL','media.width':'Ширина','media.height':'Высота','media.autostart':'Автостарт','media.upload':'Загрузить','media.viewServer':'Выбрать','image.remoteImage':'Вставить URL изображения','image.localImage':'Загрузить','image.remoteUrl':'URL','image.localUrl':'Файл','image.size':'Размер','image.width':'Ширина','image.height':'Высота','image.resetSize':'Сбросить размеры','image.align':'Выравнивание','image.defaultAlign':'По умолчанию','image.leftAlign':'Влево','image.rightAlign':'Вправо','image.imgTitle':'Название','image.upload':'Загрузить','image.viewServer':'Выбрать','multiimage.uploadDesc':'Максимальное кол-во изображений: <%=uploadLimit%>, Максимальный размер одного изображения: <%=sizeLimit%>','multiimage.startUpload':'Начать загрузку','multiimage.clearAll':'Очистить все','multiimage.insertAll':'Вставить все','multiimage.queueLimitExceeded':'Превышен лимит очереди.','multiimage.fileExceedsSizeLimit':'Превышен максимальный размер файла.','multiimage.zeroByteFile':'Файл нулевой длины.','multiimage.invalidFiletype':'Недопустимый тип файла.','multiimage.unknownError':'Непредвиденная ошибка загрузки.','multiimage.pending':'Ожидает ...','multiimage.uploadError':'Ошибка загрузки','filemanager.emptyFolder':'Папка пуста','filemanager.moveup':'Наверх','filemanager.viewType':'Тип показа: ','filemanager.viewImage':'Превьюшки','filemanager.listImage':'Список','filemanager.orderType':'Сортировка: ','filemanager.fileName':'По имени','filemanager.fileSize':'По размеру','filemanager.fileType':'По типу','insertfile.url':'URL','insertfile.title':'Название','insertfile.upload':'Загрузить','insertfile.viewServer':'Выбрать','table.cells':'Ячейки','table.rows':'Строки','table.cols':'Столбцы','table.size':'Размеры','table.width':'Ширина','table.height':'Высота','table.percent':'%','table.px':'px','table.space':'Space','table.padding':'Padding','table.spacing':'Spacing','table.align':'Выравнивание','table.textAlign':'По горизонтали','table.verticalAlign':'По вертикали','table.alignDefault':'По умолчанию','table.alignLeft':'Влево','table.alignCenter':'По центру','table.alignRight':'Вправо','table.alignTop':'Вверх','table.alignMiddle':'Посередине','table.alignBottom':'Вниз','table.alignBaseline':'По базовой линии','table.border':'Рамка','table.borderWidth':'Ширина','table.borderColor':'Цвет','table.backgroundColor':'Цвет фона','map.address':'Адрес: ','map.search':'Поиск','baidumap.address':'Адрес: ','baidumap.search':'Поиск','baidumap.insertDynamicMap':'Динамическая карта','anchor.name':'Имя якоря','formatblock.formatBlock':{h1:'Заголовок 1',h2:'Заголовок 2',h3:'Заголовок 3',h4:'Заголовок 4',p:'Обычный текст'},'fontname.fontName':{Arial:'Arial','Arial Black':'Arial Black','Comic Sans MS':'Comic Sans MS','Courier New':'Courier New',Garamond:'Garamond',Georgia:'Georgia',Tahoma:'Tahoma','Times New Roman':'Times New Roman','Trebuchet MS':'Trebuchet MS',Verdana:'Verdana'},'lineheight.lineHeight':[{1:'1'},{1.5:'1.5'},{2:'2'},{2.5:'2.5'},{3:'3'}],'template.selectTemplate':'Шаблон','template.replaceContent':'Заменить текущий шаблон','template.fileList':{'1.html':'Текст и изображения','2.html':'Таблица','3.html':'Список'}},'en'),KindEditor.each(KindEditor.options.items,(function(e,t){'baidumap'==t&&(KindEditor.options.items[e]='map')})),KindEditor.options.langType='ru'},646:function(e,t){KindEditor.lang({source:'HTML代码',preview:'预览',undo:'后退(Ctrl+Z)',redo:'前进(Ctrl+Y)',cut:'剪切(Ctrl+X)',copy:'复制(Ctrl+C)',paste:'粘贴(Ctrl+V)',plainpaste:'粘贴为无格式文本',wordpaste:'从Word粘贴',selectall:'全选(Ctrl+A)',justifyleft:'左对齐',justifycenter:'居中',justifyright:'右对齐',justifyfull:'两端对齐',insertorderedlist:'编号',insertunorderedlist:'项目符号',indent:'增加缩进',outdent:'减少缩进',subscript:'下标',superscript:'上标',formatblock:'段落',fontname:'字体',fontsize:'文字大小',forecolor:'文字颜色',hilitecolor:'文字背景',bold:'粗体(Ctrl+B)',italic:'斜体(Ctrl+I)',underline:'下划线(Ctrl+U)',strikethrough:'删除线',removeformat:'删除格式',image:'图片',multiimage:'批量图片上传',flash:'Flash',media:'视音频',table:'表格',tablecell:'单元格',hr:'插入横线',emoticons:'插入表情',link:'超级链接',unlink:'取消超级链接',fullscreen:'全屏显示',about:'关于',print:'打印(Ctrl+P)',filemanager:'文件空间',code:'插入程序代码',map:'Google地图',baidumap:'百度地图',lineheight:'行距',clearhtml:'清理HTML代码',pagebreak:'插入分页符',quickformat:'一键排版',insertfile:'插入文件',template:'插入模板',anchor:'锚点',yes:'确定',no:'取消',close:'关闭',editImage:'图片属性',deleteImage:'删除图片',editFlash:'Flash属性',deleteFlash:'删除Flash',editMedia:'视音频属性',deleteMedia:'删除视音频',editLink:'超级链接属性',deleteLink:'取消超级链接',editAnchor:'锚点属性',deleteAnchor:'删除锚点',tableprop:'表格属性',tablecellprop:'单元格属性',tableinsert:'插入表格',tabledelete:'删除表格',tablecolinsertleft:'左侧插入列',tablecolinsertright:'右侧插入列',tablerowinsertabove:'上方插入行',tablerowinsertbelow:'下方插入行',tablerowmerge:'向下合并单元格',tablecolmerge:'向右合并单元格',tablerowsplit:'拆分行',tablecolsplit:'拆分列',tablecoldelete:'删除列',tablerowdelete:'删除行',noColor:'无颜色',pleaseSelectFile:'请选择文件。',invalidImg:'请输入有效的URL地址。\n只允许jpg,gif,bmp,png格式。',invalidMedia:'请输入有效的URL地址。\n只允许swf,flv,mp3,wav,wma,wmv,mid,avi,mpg,asf,rm,rmvb格式。',invalidWidth:'宽度必须为数字。',invalidHeight:'高度必须为数字。',invalidBorder:'边框必须为数字。',invalidUrl:'请输入有效的URL地址。',invalidRows:'行数为必选项，只允许输入大于0的数字。',invalidCols:'列数为必选项，只允许输入大于0的数字。',invalidPadding:'边距必须为数字。',invalidSpacing:'间距必须为数字。',invalidJson:'服务器发生故障。',uploadSuccess:'上传成功。',cutError:'您的浏览器安全设置不允许使用剪切操作，请使用快捷键(Ctrl+X)来完成。',copyError:'您的浏览器安全设置不允许使用复制操作，请使用快捷键(Ctrl+C)来完成。',pasteError:'您的浏览器安全设置不允许使用粘贴操作，请使用快捷键(Ctrl+V)来完成。',ajaxLoading:'加载中，请稍候 ...',uploadLoading:'上传中，请稍候 ...',uploadError:'上传错误','plainpaste.comment':'请使用快捷键(Ctrl+V)把内容粘贴到下面的方框里。','wordpaste.comment':'请使用快捷键(Ctrl+V)把内容粘贴到下面的方框里。','code.pleaseInput':'请输入程序代码。','link.url':'URL','link.linkType':'打开类型','link.newWindow':'新窗口','link.selfWindow':'当前窗口','flash.url':'URL','flash.width':'宽度','flash.height':'高度','flash.upload':'上传','flash.viewServer':'文件空间','media.url':'URL','media.width':'宽度','media.height':'高度','media.autostart':'自动播放','media.upload':'上传','media.viewServer':'文件空间','image.remoteImage':'网络图片','image.localImage':'本地上传','image.remoteUrl':'图片地址','image.localUrl':'上传文件','image.size':'图片大小','image.width':'宽','image.height':'高','image.resetSize':'重置大小','image.align':'对齐方式','image.defaultAlign':'默认方式','image.leftAlign':'左对齐','image.rightAlign':'右对齐','image.imgTitle':'图片说明','image.upload':'浏览...','image.viewServer':'图片空间','multiimage.uploadDesc':'允许用户同时上传<%=uploadLimit%>张图片，单张图片容量不超过<%=sizeLimit%>','multiimage.startUpload':'开始上传','multiimage.clearAll':'全部清空','multiimage.insertAll':'全部插入','multiimage.queueLimitExceeded':'文件数量超过限制。','multiimage.fileExceedsSizeLimit':'文件大小超过限制。','multiimage.zeroByteFile':'无法上传空文件。','multiimage.invalidFiletype':'文件类型不正确。','multiimage.unknownError':'发生异常，无法上传。','multiimage.pending':'等待上传','multiimage.uploadError':'上传失败','filemanager.emptyFolder':'空文件夹','filemanager.moveup':'移到上一级文件夹','filemanager.viewType':'显示方式：','filemanager.viewImage':'缩略图','filemanager.listImage':'详细信息','filemanager.orderType':'排序方式：','filemanager.fileName':'名称','filemanager.fileSize':'大小','filemanager.fileType':'类型','insertfile.url':'URL','insertfile.title':'文件说明','insertfile.upload':'上传','insertfile.viewServer':'文件空间','table.cells':'单元格数','table.rows':'行数','table.cols':'列数','table.size':'大小','table.width':'宽度','table.height':'高度','table.percent':'%','table.px':'px','table.space':'边距间距','table.padding':'边距','table.spacing':'间距','table.align':'对齐方式','table.textAlign':'水平对齐','table.verticalAlign':'垂直对齐','table.alignDefault':'默认','table.alignLeft':'左对齐','table.alignCenter':'居中','table.alignRight':'右对齐','table.alignTop':'顶部','table.alignMiddle':'中部','table.alignBottom':'底部','table.alignBaseline':'基线','table.border':'边框','table.borderWidth':'边框','table.borderColor':'颜色','table.backgroundColor':'背景颜色','map.address':'地址: ','map.search':'搜索','baidumap.address':'地址: ','baidumap.search':'搜索','baidumap.insertDynamicMap':'插入动态地图','anchor.name':'锚点名称','formatblock.formatBlock':{h1:'标题 1',h2:'标题 2',h3:'标题 3',h4:'标题 4',p:'正 文'},'fontname.fontName':{SimSun:'宋体',NSimSun:'新宋体',FangSong_GB2312:'仿宋_GB2312',KaiTi_GB2312:'楷体_GB2312',SimHei:'黑体','Microsoft YaHei':'微软雅黑',Arial:'Arial','Arial Black':'Arial Black','Times New Roman':'Times New Roman','Courier New':'Courier New',Tahoma:'Tahoma',Verdana:'Verdana'},'lineheight.lineHeight':[{1:'单倍行距'},{1.5:'1.5倍行距'},{2:'2倍行距'},{2.5:'2.5倍行距'},{3:'3倍行距'}],'template.selectTemplate':'可选模板','template.replaceContent':'替换当前内容','template.fileList':{'1.html':'图片和文字','2.html':'表格','3.html':'项目编号'}},'zh-CN'),KindEditor.options.langType='zh-CN'},647:function(e,t){KindEditor.lang({source:'原始碼',preview:'預覽',undo:'復原(Ctrl+Z)',redo:'重複(Ctrl+Y)',cut:'剪下(Ctrl+X)',copy:'複製(Ctrl+C)',paste:'貼上(Ctrl+V)',plainpaste:'貼為純文字格式',wordpaste:'自Word貼上',selectall:'全選(Ctrl+A)',justifyleft:'靠左對齊',justifycenter:'置中',justifyright:'靠右對齊',justifyfull:'左右對齊',insertorderedlist:'編號清單',insertunorderedlist:'項目清單',indent:'增加縮排',outdent:'減少縮排',subscript:'下標',superscript:'上標',formatblock:'標題',fontname:'字體',fontsize:'文字大小',forecolor:'文字顏色',hilitecolor:'背景顏色',bold:'粗體(Ctrl+B)',italic:'斜體(Ctrl+I)',underline:'底線(Ctrl+U)',strikethrough:'刪除線',removeformat:'清除格式',image:'影像',multiimage:'批量影像上傳',flash:'Flash',media:'多媒體',table:'表格',tablecell:'儲存格',hr:'插入水平線',emoticons:'插入表情',link:'超連結',unlink:'移除超連結',fullscreen:'最大化',about:'關於',print:'列印(Ctrl+P)',filemanager:'瀏覽伺服器',code:'插入程式代碼',map:'Google地圖',baidumap:'Baidu地圖',lineheight:'行距',clearhtml:'清理HTML代碼',pagebreak:'插入分頁符號',quickformat:'快速排版',insertfile:'插入文件',template:'插入樣板',anchor:'錨點',yes:'確定',no:'取消',close:'關閉',editImage:'影像屬性',deleteImage:'刪除影像',editFlash:'Flash屬性',deleteFlash:'删除Flash',editMedia:'多媒體屬性',deleteMedia:'删除多媒體',editLink:'超連結屬性',deleteLink:'移除超連結',editAnchor:'锚点属性',deleteAnchor:'删除锚点',tableprop:'表格屬性',tablecellprop:'儲存格屬性',tableinsert:'插入表格',tabledelete:'刪除表格',tablecolinsertleft:'向左插入列',tablecolinsertright:'向右插入列',tablerowinsertabove:'向上插入欄',tablerowinsertbelow:'下方插入欄',tablerowmerge:'向下合併單元格',tablecolmerge:'向右合併單元格',tablerowsplit:'分割欄',tablecolsplit:'分割列',tablecoldelete:'删除列',tablerowdelete:'删除欄',noColor:'自動',pleaseSelectFile:'請選擇文件。',invalidImg:'請輸入有效的URL。\n只允許jpg,gif,bmp,png格式。',invalidMedia:'請輸入有效的URL。\n只允許swf,flv,mp3,wav,wma,wmv,mid,avi,mpg,asf,rm,rmvb格式。',invalidWidth:'寬度必須是數字。',invalidHeight:'高度必須是數字。',invalidBorder:'邊框必須是數字。',invalidUrl:'請輸入有效的URL。',invalidRows:'欄數是必須輸入項目，只允許輸入大於0的數字。',invalidCols:'列數是必須輸入項目，只允許輸入大於0的數字。',invalidPadding:'內距必須是數字。',invalidSpacing:'間距必須是數字。',invalidJson:'伺服器發生故障。',uploadSuccess:'上傳成功。',cutError:'您的瀏覽器安全設置不允許使用剪下操作，請使用快捷鍵(Ctrl+X)完成。',copyError:'您的瀏覽器安全設置不允許使用剪下操作，請使用快捷鍵(Ctrl+C)完成。',pasteError:'您的瀏覽器安全設置不允許使用剪下操作，請使用快捷鍵(Ctrl+V)完成。',ajaxLoading:'加載中，請稍候 ...',uploadLoading:'上傳中，請稍候 ...',uploadError:'上傳錯誤','plainpaste.comment':'請使用快捷鍵(Ctrl+V)把內容貼到下方區域裡。','wordpaste.comment':'請使用快捷鍵(Ctrl+V)把內容貼到下方區域裡。','code.pleaseInput':'Please input code.','link.url':'URL','link.linkType':'打開類型','link.newWindow':'新窗口','link.selfWindow':'本頁窗口','flash.url':'URL','flash.width':'寬度','flash.height':'高度','flash.upload':'上傳','flash.viewServer':'瀏覽','media.url':'URL','media.width':'寬度','media.height':'高度','media.autostart':'自動播放','media.upload':'上傳','media.viewServer':'瀏覽','image.remoteImage':'網絡影像','image.localImage':'上傳影像','image.remoteUrl':'影像URL','image.localUrl':'影像URL','image.size':'影像大小','image.width':'寬度','image.height':'高度','image.resetSize':'原始大小','image.align':'對齊方式','image.defaultAlign':'未設定','image.leftAlign':'向左對齊','image.rightAlign':'向右對齊','image.imgTitle':'影像說明','image.upload':'瀏覽...','image.viewServer':'瀏覽...','multiimage.uploadDesc':'Allows users to upload <%=uploadLimit%> images, single image size not exceeding <%=sizeLimit%>','multiimage.startUpload':'Start upload','multiimage.clearAll':'Clear all','multiimage.insertAll':'Insert all','multiimage.queueLimitExceeded':'Queue limit exceeded.','multiimage.fileExceedsSizeLimit':'File exceeds size limit.','multiimage.zeroByteFile':'Zero byte file.','multiimage.invalidFiletype':'Invalid file type.','multiimage.unknownError':'Unknown upload error.','multiimage.pending':'Pending ...','multiimage.uploadError':'Upload error','filemanager.emptyFolder':'空文件夾','filemanager.moveup':'至上一級文件夾','filemanager.viewType':'顯示方式：','filemanager.viewImage':'縮略圖','filemanager.listImage':'詳細信息','filemanager.orderType':'排序方式：','filemanager.fileName':'名稱','filemanager.fileSize':'大小','filemanager.fileType':'類型','insertfile.url':'URL','insertfile.title':'文件說明','insertfile.upload':'上傳','insertfile.viewServer':'瀏覽','table.cells':'儲存格數','table.rows':'欄數','table.cols':'列數','table.size':'表格大小','table.width':'寬度','table.height':'高度','table.percent':'%','table.px':'px','table.space':'內距間距','table.padding':'內距','table.spacing':'間距','table.align':'對齊方式','table.textAlign':'水平對齊','table.verticalAlign':'垂直對齊','table.alignDefault':'未設定','table.alignLeft':'向左對齊','table.alignCenter':'置中','table.alignRight':'向右對齊','table.alignTop':'靠上','table.alignMiddle':'置中','table.alignBottom':'靠下','table.alignBaseline':'基線','table.border':'表格邊框','table.borderWidth':'邊框','table.borderColor':'顏色','table.backgroundColor':'背景顏色','map.address':'住所: ','map.search':'尋找','baidumap.address':'住所: ','baidumap.search':'尋找','baidumap.insertDynamicMap':'插入動態地圖','anchor.name':'錨點名稱','formatblock.formatBlock':{h1:'標題 1',h2:'標題 2',h3:'標題 3',h4:'標題 4',p:'一般'},'fontname.fontName':{MingLiU:'細明體',PMingLiU:'新細明體','DFKai-SB':'標楷體',SimSun:'宋體',NSimSun:'新宋體',FangSong:'仿宋體',Arial:'Arial','Arial Black':'Arial Black','Times New Roman':'Times New Roman','Courier New':'Courier New',Tahoma:'Tahoma',Verdana:'Verdana'},'lineheight.lineHeight':[{1:'单倍行距'},{1.5:'1.5倍行距'},{2:'2倍行距'},{2.5:'2.5倍行距'},{3:'3倍行距'}],'template.selectTemplate':'可選樣板','template.replaceContent':'取代當前內容','template.fileList':{'1.html':'影像和文字','2.html':'表格','3.html':'项目清單'}},'zh-TW'),KindEditor.each(KindEditor.options.items,(function(e,t){'baidumap'==t&&(KindEditor.options.items[e]='map')})),KindEditor.options.langType='zh-TW'},648:function(e,t,i){e.exports=i(469)('',{linkPluginTpl:'<div style="padding:18px 40px"> <div class="ke-dialog-row" style="line-height: 28px"> <label for="keTitle" style="width:60px;cursor: default">{{i18n \'common/lbl_url_text\'}}：</label> <input class="ke-input-text" type="text" id="keTitle" name="title" style="width:260px; height: 22px;" /> </div> <div class="ke-dialog-row" style="line-height: 28px"> <label for="keUrl" style="width:60px;cursor: default">{{i18n \'common/lbl_url_link\'}}：</label> <input class="ke-input-text" type="text" id="keUrl" name="url" style="width:260px; height: 22px;" /> </div> </div>',imagePluginTpl:'<div style="padding:10px 20px 20px 20px;"> <div class="tabs"></div> <div class="tab1" style="display:none;"> <iframe name="{{target}}" style="display:none;"></iframe> <form class="ke-upload-area ke-form" method="post" enctype="multipart/form-data" target="{{target}}"> <div class="ke-dialog-row"> {{hiddenElements}} <label style="width:60px;">{{lang.localUrl}}&nbsp;: </label> <input type="text" name="localUrl" class="ke-input-text" tabindex="-1" style="width:200px;" readonly="true" /> &nbsp; <input type="button" class="ke-upload-button" value="{{lang.upload}}" /> {{#if imagePluginInfo}} <div> <label style="width:60px;"></label> {{{imagePluginInfo}}} </div> {{/if}} </div> </form> </div> <div class="tab2" style="display:none;"> <div class="ke-dialog-row"> <label for="remoteUrl" style="width:60px;">{{lang.remoteUrl}}&nbsp;: </label> <input type="text" id="remoteUrl" class="ke-input-text" name="url" value="" style="width:200px;" /> </div> <div class="ke-dialog-row"> <label for="remoteWidth" style="width:60px;">{{lang.size}}&nbsp;: </label> {{lang.width}} <input type="text" id="remoteWidth" class="ke-input-text ke-input-number" name="width" value="" maxlength="4" /> px &nbsp;&nbsp; {{lang.height}} <input type="text" class="ke-input-text ke-input-number" name="height" value="" maxlength="4" /> px <img class="ke-refresh-btn" src="{{imgPath}}refresh.png" width="16" height="16" alt="" style="cursor:pointer;" title="{{lang.resetSize}}" /> </div> <div class="ke-dialog-row"> <label style="width:60px;">{{lang.align}}&nbsp;: </label> <input type="radio" name="align" class="ke-inline-block" value="" checked="checked" /> <img name="defaultImg" src="{{imgPath}}align_top.gif" width="23" height="25" alt="" /> <input type="radio" name="align" class="ke-inline-block" value="left" /> <img name="leftImg" src="{{imgPath}}align_left.gif" width="23" height="25" alt="" /> <input type="radio" name="align" class="ke-inline-block" value="right" /> <img name="rightImg" src="{{imgPath}}align_right.gif" width="23" height="25" alt="" /> </div> <div class="ke-dialog-row"> <label for="remoteTitle" style="width:60px;">{{lang.imgTitle}}&nbsp;: </label> <input type="text" id="remoteTitle" class="ke-input-text" name="title" value="" style="width:200px;" /> </div> </div> </div>'})},649:function(e,t,i){(function(t){var n=i(463),a=i(485),r={};var o=function(e){return delete r[''],e};e.exports={getSignatures:function(e,i){var o=i||'';return(r[o]=e&&r[o]||a.of((function(){return t.wmCall({url:'/XT5/jsp/setting.jsp',func:'user:getAllSignature'},n.param({mboxa:i}))}))).get()},deleteSignature:function(e){return t.wmCall('user:deleteSignatures',{ids:[e]}).then(o)},updateSignature:function(e){return t.wmCall('user:updateSignatures',{items:[e]}).then(o)},createSignature:function(e){return t.wmCall('user:createSignatures',{items:[e]}).then(o)},getSignImageSpareSize:t.wmBind('user:getSignImageSpareSize'),clearUnReferencedImages:t.wmBind('user:clearUnReferencedImages')}}).call(this,i(466))},650:function(e,t,i){var n=i(466),a=i(465),r=i(470).alert;e.exports={upsetMailTpl:function(e,t){return n.wmCall(t?'user:updateComposeTemplates':'user:createComposeTemplates',{items:e})},listMailTpl:n.wmBind('user:listComposeTemplates'),deleteMailTpl:n.wmBind('user:deleteComposeTemplates'),getMailTplMeta:n.wmBind('user:getComposeTemplatesMeta'),updateMailTplMeta:function(e){return n.wmCall('user:updateComposeTemplatesMeta',{attrs:e})},uploadTplSourceFile:function(e){return n.mFormData({url:'/XT5/jsp/upload.jsp',func:'directData',composeId:'c:1'},{files:e})},parseTplSource:function(e,t){return n.wmCall('mbox:tplComposeCsvParse',{keepOriginal:!1,composeId:'c:1',attachmentId:e,importVarListTo:t}).then((function(e){if(e[0])return e;r(a('mail/msg_parse_csv_empty'))})).catchCode(['FA_UNSUPPORTED_FILE','FA_BAD_CSV_FILE','FA_BAD_XLS_FILE'],(function(){r(a('mail/msg_parse_bad_file'))})).catchCode('FA_XLS_SUPPORT_NOT_INSTALLED',(function(){r(a('mail/msg_xls_support_not_installed'))})).truthy()}}},651:function(e,t,i){(function(t){e.exports=function(e){return t.when(t.wmCall('cal:listCalFolder',{customonly:!1}),t.wmCall('cal:listAccessedCalFolder',{showHidden:e}))}}).call(this,i(466))},658:function(e,t,i){var n=function(e){return''==e||'zh_CN'==e},a=i(463),r={province:{text:'省',py_text:'Province'},city:{text:'市',py_text:'City'}},o=[{text:'广东',py_text:'Guangdong',id:0},{text:'广西',py_text:'Guangxi',id:1},{text:'北京',py_text:'Beijing',id:2},{text:'海南',py_text:'Hainan',id:3},{text:'福建',py_text:'Fujian',id:4},{text:'天津',py_text:'Tianjin',id:5},{text:'湖南',py_text:'Hunan',id:6},{text:'湖北',py_text:'Hubei',id:7},{text:'河南',py_text:'He\'nan',id:8},{text:'河北',py_text:'Hebei',id:9},{text:'山东',py_text:'Shandong',id:10},{text:'山西',py_text:'Shanxi',id:11},{text:'黑龙江',py_text:'Heilongjiang',id:12},{text:'辽宁',py_text:'Liaoning',id:13},{text:'上海',py_text:'Shanghai',id:14},{text:'甘肃',py_text:'Gansu',id:15},{text:'青海',py_text:'Qinghai',id:16},{text:'新疆',py_text:'Xinjiang',id:17},{text:'西藏',py_text:'Tibet',id:18},{text:'宁夏',py_text:'Ningxia',id:19},{text:'四川',py_text:'Sichuan',id:20},{text:'云南',py_text:'Yunnan',id:21},{text:'吉林',py_text:'Jilin',id:22},{text:'内蒙古',py_text:'Inner Mongolia',id:23},{text:'陕西',py_text:'Shanxi',id:24},{text:'安徽',py_text:'Anhui',id:25},{text:'贵州',py_text:'Guizhou',id:26},{text:'江苏',py_text:'Jiangsu',id:27},{text:'重庆',py_text:'Chongqin',id:28},{text:'浙江',py_text:'Zhejiang',id:29},{text:'江西',py_text:'Jiangxi',id:30},{text:'台湾',py_text:'Taiwan',id:32},{text:'香港',py_text:'Hongkong',id:33},{text:'澳门',py_text:'Macao',id:34},{text:'国外',py_text:'Abroad',id:31}],s=[{text:'广州',py_text:'GuangZhou',id:0,pid:0},{text:'深圳',py_text:'ShenZhen',id:1,pid:0},{text:'珠海',py_text:'ZhuHai',id:2,pid:0},{text:'韶关',py_text:'ShaoGuan',id:3,pid:0},{text:'潮州',py_text:'ChaoZhou',id:4,pid:0},{text:'汕头',py_text:'ShanTou',id:5,pid:0},{text:'肇庆',py_text:'ZhaoQing',id:6,pid:0},{text:'湛江',py_text:'ZhanJiang',id:7,pid:0},{text:'佛山',py_text:'FoShan',id:8,pid:0},{text:'江门',py_text:'XinHui',id:9,pid:0},{text:'河源',py_text:'HeYuan',id:10,pid:0},{text:'潮阳',py_text:'ChaoYang',id:11,pid:0},{text:'揭阳',py_text:'JieYang',id:12,pid:0},{text:'南海',py_text:'NanHai',id:13,pid:0},{text:'茂名',py_text:'MaoMing',id:15,pid:0},{text:'惠州',py_text:'HuiZhou',id:16,pid:0},{text:'梅州',py_text:'MeiZhou',id:17,pid:0},{text:'汕尾',py_text:'Shanwei',id:18,pid:0},{text:'阳江',py_text:'YangJiang',id:19,pid:0},{text:'清远',py_text:'QingYuan',id:20,pid:0},{text:'东莞',py_text:'DongWan',id:21,pid:0},{text:'中山',py_text:'ZhongShan',id:22,pid:0},{text:'云浮',py_text:'YunFu',id:23,pid:0},{text:'其他',py_text:'Other',id:9999,pid:0},{text:'南宁',py_text:'NanNing',id:0,pid:1},{text:'柳州',py_text:'LiuZhou',id:1,pid:1},{text:'桂林',py_text:'GuiLin',id:2,pid:1},{text:'北海',py_text:'BeiHai',id:3,pid:1},{text:'梧州',py_text:'WuZhou',id:6,pid:1},{text:'玉林',py_text:'YuLIn',id:7,pid:1},{text:'防城港',py_text:'FangCheng',id:9,pid:1},{text:'钦州',py_text:'QinZhou',id:10,pid:1},{text:'贵港',py_text:'GuiGang',id:11,pid:1},{text:'百色',py_text:'BaiSe',id:12,pid:1},{text:'贺州',py_text:'HeZhou',id:13,pid:1},{text:'河池',py_text:'HeChi',id:14,pid:1},{text:'来宾',py_text:'LaiBin',id:15,pid:1},{text:'崇左',py_text:'ChongZuo',id:16,pid:1},{text:'其它',py_text:'Other',id:9999,pid:1},{text:'北京',py_text:'Beijing',id:0,pid:2},{text:'海口',py_text:'HaiKou',id:0,pid:3},{text:'三亚',py_text:'SanYa',id:1,pid:3},{text:'琼海',py_text:'QiongHai',id:2,pid:3},{text:'儋州',py_text:'DanZhou',id:3,pid:3},{text:'五指山',py_text:'WuZhiShan',id:6,pid:3},{text:'文昌',py_text:'WenChang',id:7,pid:3},{text:'万宁',py_text:'WanNing',id:8,pid:3},{text:'东方',py_text:'DongFang',id:9,pid:3},{text:'定安县',py_text:'DingAnXian',id:10,pid:3},{text:'屯昌县',py_text:'TunChangXian',id:11,pid:3},{text:'澄迈县',py_text:'ChengMaiXian',id:12,pid:3},{text:'临高县',py_text:'LinGaoXian',id:13,pid:3},{text:'白沙黎族自治县',py_text:'BaiShaLiZuZiZhiXian',id:14,pid:3},{text:'昌江黎族自治县',py_text:'ChangJiangLiZuZiZhiXian',id:15,pid:3},{text:'乐东黎族自治县',py_text:'LeDongLiZuZiZhiXian',id:16,pid:3},{text:'陵水黎族自治县',py_text:'LingShuiLiZuZiZhiXian',id:17,pid:3},{text:'保亭黎族苗族自治县',py_text:'BaoTingLiZuMiaoZuZiZhiXian',id:18,pid:3},{text:'琼中黎族苗族自治县',py_text:'QiongZhongLiZuMiaoZuZiZhiXian',id:19,pid:3},{text:'西沙群岛',py_text:'XiShaQunDao',id:20,pid:3},{text:'南沙群岛',py_text:'NanShaQunDao',id:21,pid:3},{text:'中沙群岛的岛礁及其海域',py_text:'ZhongShaQunDaoDeDaoJiaoJiQiHaiYu',id:22,pid:3},{text:'其它',py_text:'Other',id:9999,pid:3},{text:'福州',py_text:'FuZhou',id:0,pid:4},{text:'厦门',py_text:'XiaMen',id:1,pid:4},{text:'泉州',py_text:'QuanZhou',id:2,pid:4},{text:'漳州',py_text:'ZhangZhou',id:3,pid:4},{text:'南平',py_text:'NanPing',id:4,pid:4},{text:'三明',py_text:'SanMing',id:5,pid:4},{text:'莆田',py_text:'PuTian',id:6,pid:4},{text:'龙岩',py_text:'LongYan',id:7,pid:4},{text:'宁德',py_text:'NingDe',id:13,pid:4},{text:'其它',py_text:'Other',id:9999,pid:4},{text:'天津',py_text:'Tianjin',id:0,pid:5},{text:'长沙',py_text:'ChangSha',id:0,pid:6},{text:'衡阳',py_text:'HengYang',id:1,pid:6},{text:'邵阳',py_text:'ShaoYang',id:2,pid:6},{text:'湘潭',py_text:'XiangTan',id:3,pid:6},{text:'岳阳',py_text:'YueYang',id:4,pid:6},{text:'株洲',py_text:'ZhuZhou',id:5,pid:6},{text:'常德',py_text:'ChangDe',id:6,pid:6},{text:'益阳',py_text:'YiYang',id:10,pid:6},{text:'张家界',py_text:'ZhangJiaJie',id:11,pid:6},{text:'永州',py_text:'YongZhou',id:13,pid:6},{text:'怀化',py_text:'HuaiHua',id:14,pid:6},{text:'娄底',py_text:'LouDi',id:15,pid:6},{text:'郴州',py_text:'ChenZhou',id:16,pid:6},{text:'湘西土家族苗族自治区',py_text:'XiangXiTuJiaZuMiaoZuZiZhiZhou',id:17,pid:6},{text:'其它',py_text:'Other',id:9999,pid:6},{text:'武汉',py_text:'WuHan',id:0,pid:7},{text:'黄石',py_text:'HuangShi',id:1,pid:7},{text:'荆沙',py_text:'JingSha',id:2,pid:7},{text:'十堰',py_text:'ShiYan',id:3,pid:7},{text:'襄樊',py_text:'XiangFan',id:4,pid:7},{text:'宜昌',py_text:'YiChang',id:5,pid:7},{text:'鄂州',py_text:'EZhou',id:6,pid:7},{text:'黄冈',py_text:'HuangGang',id:7,pid:7},{text:'随州',py_text:'SuiZhou',id:8,pid:7},{text:'荆门',py_text:'JinMen',id:9,pid:7},{text:'咸宁',py_text:'XianNing',id:12,pid:7},{text:'孝感',py_text:'XiaoGan',id:13,pid:7},{text:'荆州',py_text:'JinZhou',id:14,pid:7},{text:'恩施土家族苗族自治州',py_text:'EnShiTuJiaZuMiaoZuZiZhiZhou',id:15,pid:7},{text:'仙桃',py_text:'XianTao',id:16,pid:7},{text:'潜江',py_text:'QianJiang',id:17,pid:7},{text:'天门',py_text:'TianMen',id:18,pid:7},{text:'神农架林区',py_text:'ShenNongJiaLinQu',id:19,pid:7},{text:'其它',py_text:'Other',id:9999,pid:7},{text:'郑州',py_text:'ZhengZhou',id:0,pid:8},{text:'焦作',py_text:'JiaoZuo',id:1,pid:8},{text:'商丘',py_text:'ShangQiu',id:2,pid:8},{text:'洛阳',py_text:'LuoYang',id:3,pid:8},{text:'平顶山',py_text:'PingDingShan',id:4,pid:8},{text:'鹤壁',py_text:'HeBi',id:5,pid:8},{text:'新乡',py_text:'XinXiang',id:6,pid:8},{text:'安阳',py_text:'AnYang',id:7,pid:8},{text:'开封',py_text:'KaiFeng',id:8,pid:8},{text:'漯河',py_text:'LuoHe',id:9,pid:8},{text:'南阳',py_text:'NanYang',id:10,pid:8},{text:'南阳',py_text:'NanYang',id:11,pid:8},{text:'濮阳',py_text:'PuYang',id:12,pid:8},{text:'三门峡',py_text:'SanMenXiao',id:13,pid:8},{text:'信阳',py_text:'XinYang',id:14,pid:8},{text:'许昌',py_text:'XuChang',id:15,pid:8},{text:'驻马店',py_text:'ZhuMaDian',id:16,pid:8},{text:'周口',py_text:'ZhouKou',id:17,pid:8},{text:'其它',py_text:'Other',id:9999,pid:8},{text:'石家庄',py_text:'ShiJiaZang',id:0,pid:9},{text:'唐山',py_text:'TangShan',id:1,pid:9},{text:'邯郸',py_text:'HanDan',id:2,pid:9},{text:'秦皇岛',py_text:'QinHuangDao',id:3,pid:9},{text:'邢台',py_text:'XingTai',id:4,pid:9},{text:'保定',py_text:'BaoDing',id:5,pid:9},{text:'张家口',py_text:'ZhangJiaKou',id:6,pid:9},{text:'承德',py_text:'ChenDe',id:7,pid:9},{text:'沧州',py_text:'CangZhou',id:8,pid:9},{text:'定州',py_text:'DingZhou',id:9,pid:9},{text:'廊坊',py_text:'LangFang',id:10,pid:9},{text:'衡水',py_text:'HengShui',id:13,pid:9},{text:'其它',py_text:'Other',id:9999,pid:9},{text:'济南',py_text:'JiNan',id:0,pid:10},{text:'青岛',py_text:'QingDao',id:1,pid:10},{text:'淄博',py_text:'ZiBo',id:2,pid:10},{text:'烟台',py_text:'YanTai',id:3,pid:10},{text:'济宁',py_text:'JiNing',id:4,pid:10},{text:'德州',py_text:'DeZhou',id:5,pid:10},{text:'泰安',py_text:'TaiAn',id:6,pid:10},{text:'潍坊',py_text:'WeiFang',id:7,pid:10},{text:'东营',py_text:'DongYing',id:8,pid:10},{text:'枣庄',py_text:'ZaoZhuang',id:9,pid:10},{text:'莱芜',py_text:'LaiWu',id:10,pid:10},{text:'聊城',py_text:'LiaoCheng',id:11,pid:10},{text:'青州',py_text:'QingZhou',id:12,pid:10},{text:'日照',py_text:'RiZhao',id:13,pid:10},{text:'威海',py_text:'WeiHai',id:14,pid:10},{text:'菏泽',py_text:'HeZe',id:17,pid:10},{text:'泰安',py_text:'TaiAn',id:22,pid:10},{text:'临沂',py_text:'LinYi',id:24,pid:10},{text:'滨州',py_text:'BinZhou',id:25,pid:10},{text:'其它',py_text:'Other',id:9999,pid:10},{text:'太原',py_text:'TaiYuan',id:0,pid:11},{text:'临汾',py_text:'LinFen',id:1,pid:11},{text:'大同',py_text:'DaTong',id:2,pid:11},{text:'阳泉',py_text:'YangQuan',id:3,pid:11},{text:'晋城',py_text:'JinCheng',id:4,pid:11},{text:'长治',py_text:'ChangZhi',id:5,pid:11},{text:'忻州',py_text:'XinZhou',id:6,pid:11},{text:'运城',py_text:'YunCheng',id:9,pid:11},{text:'朔州',py_text:'SuoZhou',id:10,pid:11},{text:'晋中',py_text:'JinZhong',id:16,pid:11},{text:'吕梁',py_text:'LvLiang',id:17,pid:11},{text:'其它',py_text:'Other',id:9999,pid:11},{text:'哈尔滨',py_text:'HaErBin',id:0,pid:12},{text:'大庆',py_text:'DaQing',id:1,pid:12},{text:'佳木斯',py_text:'JiaMuSi',id:2,pid:12},{text:'牡丹江',py_text:'MuDanJiang',id:3,pid:12},{text:'齐齐哈尔',py_text:'QiQiHaEr',id:4,pid:12},{text:'伊春',py_text:'YiChun',id:5,pid:12},{text:'绥化',py_text:'SuiHua',id:6,pid:12},{text:'黑河',py_text:'HeiHe',id:7,pid:12},{text:'五大连',py_text:'WuDaLian',id:8,pid:12},{text:'鸡西',py_text:'JiXi',id:11,pid:12},{text:'鹤岗',py_text:'HeGang',id:12,pid:12},{text:'双鸭山',py_text:'ShuangYaShan',id:13,pid:12},{text:'七台河',py_text:'QiTaiHe',id:14,pid:12},{text:'大兴安岭地区',py_text:'DaXingAnLingDiQu',id:15,pid:12},{text:'其它',py_text:'Other',id:9999,pid:12},{text:'沈阳',py_text:'ShenYang',id:0,pid:13},{text:'锦州',py_text:'JinZhou',id:1,pid:13},{text:'丹东',py_text:'DanDong',id:2,pid:13},{text:'大连',py_text:'DaLian',id:3,pid:13},{text:'盘锦',py_text:'PanJin',id:4,pid:13},{text:'鞍山',py_text:'AnShan',id:5,pid:13},{text:'抚顺',py_text:'FuShun',id:6,pid:13},{text:'本溪',py_text:'BenXi',id:7,pid:13},{text:'营口',py_text:'YingKou',id:8,pid:13},{text:'铁岭',py_text:'TieLing',id:9,pid:13},{text:'朝阳',py_text:'ChaoYang',id:10,pid:13},{text:'东港',py_text:'DongGang',id:11,pid:13},{text:'海城',py_text:'HaiCheng',id:12,pid:13},{text:'葫芦岛',py_text:'HuLuDao',id:13,pid:13},{text:'辽阳',py_text:'LiaoYang',id:14,pid:13},{text:'阜新',py_text:'FuXin',id:17,pid:13},{text:'其它',py_text:'Other',id:9999,pid:13},{text:'上海',py_text:'Shanghai',id:0,pid:14},{text:'兰州',py_text:'LanZhou',id:0,pid:15},{text:'嘉峪关',py_text:'JiaYuGuan',id:1,pid:15},{text:'金昌',py_text:'JinChang',id:2,pid:15},{text:'玉门',py_text:'YuMen',id:3,pid:15},{text:'天水',py_text:'TianShui',id:4,pid:15},{text:'白银',py_text:'BaiYin',id:5,pid:15},{text:'敦煌',py_text:'DunHuang',id:6,pid:15},{text:'武威',py_text:'WuWei',id:7,pid:15},{text:'张掖',py_text:'ZhangYe',id:8,pid:15},{text:'平凉',py_text:'PingLiang',id:9,pid:15},{text:'临夏',py_text:'LinXia',id:10,pid:15},{text:'酒泉',py_text:'JiuQuan',id:11,pid:15},{text:'庆阳',py_text:'QingYang',id:14,pid:15},{text:'定西',py_text:'DingXi',id:15,pid:15},{text:'陇南',py_text:'LongNan',id:16,pid:15},{text:'临夏回族自治州',py_text:'LinXiaHuiZuZiZhiZhou',id:17,pid:15},{text:'甘南藏族自治州',py_text:'GanNanZangZuZiZhiZhou',id:18,pid:15},{text:'其它',py_text:'Other',id:9999,pid:15},{text:'西宁',py_text:'XiNing',id:0,pid:16},{text:'海北藏族自治州',py_text:'HaiBeiZangZuZiZhiZhou',id:7,pid:16},{text:'黄南藏族自治州',py_text:'HuangNanZangZuZiZhiZhou',id:8,pid:16},{text:'海南藏族自治州',py_text:'HaiNanZangZuZiZhiZhou',id:9,pid:16},{text:'果洛藏族自治州',py_text:'GuoLuoZangZuZiZhiZhou',id:10,pid:16},{text:'玉树藏族自治州',py_text:'YuShuZangZuZiZhiZhou',id:11,pid:16},{text:'海西蒙古族藏族自治州',py_text:'HaiXiMengGuZuZangZuZiZhiZhou',id:12,pid:16},{text:'海东地区',py_text:'HaiDongDiQu',id:13,pid:16},{text:'其它',py_text:'Other',id:9999,pid:16},{text:'乌鲁木齐',py_text:'WuLuMuQi',id:0,pid:17},{text:'克拉玛依',py_text:'KeLaMaYi',id:1,pid:17},{text:'吐鲁番地区',py_text:'TuLuFanDiQu',id:2,pid:17},{text:'石河子',py_text:'ShiHeZi',id:3,pid:17},{text:'阿勒泰地区',py_text:'ALeTaiDiQu',id:4,pid:17},{text:'阿克苏地区',py_text:'AKeSuDiQu',id:5,pid:17},{text:'巴音郭楞蒙古自治州',py_text:'BaYinGuoLengMengGuZiZhiZhou',id:6,pid:17},{text:'克孜勒苏柯尔克孜自治州',py_text:'KeZiLeSuKeErKeZiZiZhiZhou',id:7,pid:17},{text:'伊犁哈萨克自治州',py_text:'YiLiHaSaKeZiZhiZhou',id:9,pid:17},{text:'米泉',py_text:'MiQuan',id:10,pid:17},{text:'塔城地区',py_text:'TaChengDiQu',id:11,pid:17},{text:'喀什地区',py_text:'KeShiDiQu',id:12,pid:17},{text:'哈密地区',py_text:'HaMiDiQu',id:13,pid:17},{text:'昌吉回族自治州',py_text:'ChangJiHuiZuZiZhiQu',id:14,pid:17},{text:'博尔塔拉蒙古自治州',py_text:'BoLeTaLaMengGuZiZhiZhou',id:15,pid:17},{text:'和田地区',py_text:'HeTianDiQu',id:16,pid:17},{text:'阿拉尔',py_text:'ALaEr',id:20,pid:17},{text:'图木舒克',py_text:'TuMuShuKe',id:21,pid:17},{text:'五家渠',py_text:'WuJiaQu',id:22,pid:17},{text:'其它',py_text:'Other',id:9999,pid:17},{text:'拉萨',py_text:'Lasa',id:0,pid:18},{text:'日喀则',py_text:'Rikaze',id:1,pid:18},{text:'林芝',py_text:'Linzhi',id:2,pid:18},{text:'昌都',py_text:'Changdu',id:3,pid:18},{text:'那曲',py_text:'Naqu',id:4,pid:18},{text:'山南',py_text:'Shannan',id:7,pid:18},{text:'阿里',py_text:'Ali',id:8,pid:18},{text:'其它',py_text:'Other',id:9999,pid:18},{text:'银川',py_text:'YinChuan',id:0,pid:19},{text:'石嘴山',py_text:'ShiZhuiSha',id:1,pid:19},{text:'吴忠',py_text:'WuZong',id:2,pid:19},{text:'固原',py_text:'GuYuan',id:4,pid:19},{text:'中卫',py_text:'ZhongWei',id:6,pid:19},{text:'其它',py_text:'Other',id:9999,pid:19},{text:'成都',py_text:'ChengDu',id:0,pid:20},{text:'泸州',py_text:'LuZhou',id:1,pid:20},{text:'攀枝花',py_text:'PanZhiHua',id:2,pid:20},{text:'自贡',py_text:'ZiGong',id:3,pid:20},{text:'阆中',py_text:'LangZhong',id:4,pid:20},{text:'乐山',py_text:'LeShan',id:5,pid:20},{text:'宜宾',py_text:'YiBin',id:6,pid:20},{text:'南充',py_text:'NanChong',id:10,pid:20},{text:'西昌',py_text:'XiChang',id:12,pid:20},{text:'雅安',py_text:'YaAn',id:13,pid:20},{text:'广元',py_text:'GuangYuan',id:14,pid:20},{text:'松潘',py_text:'SongPan',id:17,pid:20},{text:'绵阳',py_text:'MianYang',id:18,pid:20},{text:'德阳',py_text:'DeYang',id:20,pid:20},{text:'遂宁',py_text:'SuiNing',id:21,pid:20},{text:'内江',py_text:'NeiJiang',id:22,pid:20},{text:'广安',py_text:'GuangAn',id:23,pid:20},{text:'达州',py_text:'DaZhou',id:24,pid:20},{text:'巴中',py_text:'BaZhong',id:25,pid:20},{text:'资阳',py_text:'ZiYang',id:26,pid:20},{text:'阿坝藏族羌族自治州',py_text:'ABaZangZuQiangZuZiZhiZhou',id:27,pid:20},{text:'甘孜藏族自治州',py_text:'GanZiZangZuZiZhiZhou',id:28,pid:20},{text:'凉山彝族自治州',py_text:'LiangShanYiZuZiZhiZhou',id:29,pid:20},{text:'眉山',py_text:'MeiShan',id:30,pid:20},{text:'其它',py_text:'Other',id:9999,pid:20},{text:'昆明',py_text:'KunMing',id:0,pid:21},{text:'昭通',py_text:'ZhaoTong',id:8,pid:21},{text:'玉溪',py_text:'YuXi',id:9,pid:21},{text:'曲靖',py_text:'QuJin',id:11,pid:21},{text:'保山',py_text:'BaoShan',id:12,pid:21},{text:'丽江',py_text:'LiJiang',id:18,pid:21},{text:'临沧',py_text:'LinCang',id:19,pid:21},{text:'楚雄彝族自治州',py_text:'ChuXiongYiZuZiZhiZhou',id:20,pid:21},{text:'红河哈尼族彝族自治州',py_text:'HongHeHaNiZuYiZuZiZhiZhou',id:21,pid:21},{text:'文山壮族苗族自治州',py_text:'WenShanZhuangZuMiaoZuZiZhiZhou',id:22,pid:21},{text:'西双版纳傣族自治州',py_text:'XiShuangBanNaDaiZuZiZhiZhou',id:23,pid:21},{text:'大理白族自治州',py_text:'DaLiBaiZuZiZhiZhou',id:24,pid:21},{text:'德宏傣族景颇族自治州',py_text:'DehongDaizuJingpozuZizhizhou',id:25,pid:21},{text:'迪庆藏族自治州',py_text:'DeqinZangZuZiZhiZhou',id:26,pid:21},{text:'普洱',py_text:'PuEr',id:27,pid:21},{text:'怒江傈僳族自治州',py_text:'NuJiangLiSuZuZiZhiZhou',id:28,pid:21},{text:'其它',py_text:'Other',id:9999,pid:21},{text:'长春',py_text:'ChangChun',id:0,pid:22},{text:'吉林',py_text:'JiLin',id:1,pid:22},{text:'辽源',py_text:'LiaoYuan',id:2,pid:22},{text:'四平',py_text:'SiPing',id:3,pid:22},{text:'通化',py_text:'TongHua',id:4,pid:22},{text:'白城',py_text:'BaiCheng',id:5,pid:22},{text:'白山',py_text:'BaiShan',id:6,pid:22},{text:'延边朝鲜族自治州',py_text:'YanBianChaoXianZuZiZhiZhou',id:12,pid:22},{text:'松原',py_text:'SongYuan',id:13,pid:22},{text:'其它',py_text:'Other',id:9999,pid:22},{text:'呼和浩特',py_text:'HuHeHaoTe',id:0,pid:23},{text:'包头',py_text:'BaoTou',id:1,pid:23},{text:'乌海',py_text:'WuHai',id:2,pid:23},{text:'赤峰',py_text:'ChiFeng',id:3,pid:23},{text:'通辽',py_text:'TongLiao',id:7,pid:23},{text:'鄂尔多斯',py_text:'EErDuoSi',id:11,pid:23},{text:'呼伦贝尔',py_text:'HuLunBeiEr',id:12,pid:23},{text:'巴彦淖尔',py_text:'BaYanNaoEr',id:13,pid:23},{text:'乌兰察布',py_text:'WuLanChaBu',id:14,pid:23},{text:'兴安盟',py_text:'XingAnMeng',id:15,pid:23},{text:'锡林郭勒盟',py_text:'XiLinGuoLeMeng',id:16,pid:23},{text:'阿拉善盟',py_text:'ALaShanMeng',id:17,pid:23},{text:'其它',py_text:'Other',id:9999,pid:23},{text:'西安',py_text:'XiAn',id:0,pid:24},{text:'银川',py_text:'YinChuan',id:1,pid:24},{text:'宝鸡',py_text:'BaoJi',id:2,pid:24},{text:'汉中',py_text:'HanZhong',id:3,pid:24},{text:'渭南',py_text:'WeiNan',id:4,pid:24},{text:'咸阳',py_text:'XianYang',id:5,pid:24},{text:'延安',py_text:'YanAn',id:6,pid:24},{text:'榆林',py_text:'YuLin',id:7,pid:24},{text:'安康',py_text:'AnKang',id:9,pid:24},{text:'商洛',py_text:'ShangLuo',id:11,pid:24},{text:'其它',py_text:'Other',id:9999,pid:24},{text:'合肥',py_text:'HeFei',id:0,pid:25},{text:'淮北',py_text:'HuaiBei',id:1,pid:25},{text:'蚌埠',py_text:'BengBu',id:2,pid:25},{text:'马鞍山',py_text:'MaAnShan',id:3,pid:25},{text:'黄山',py_text:'HuangShan',id:4,pid:25},{text:'安庆',py_text:'AnQing',id:5,pid:25},{text:'淮南',py_text:'HuaiNan',id:6,pid:25},{text:'铜陵',py_text:'TongLing',id:7,pid:25},{text:'芜湖',py_text:'WuHu',id:8,pid:25},{text:'亳州',py_text:'HaoZou',id:9,pid:25},{text:'巢湖',py_text:'ChaoHu',id:10,pid:25},{text:'滁州',py_text:'ChuZhou',id:11,pid:25},{text:'阜阳',py_text:'FuYang',id:12,pid:25},{text:'池州',py_text:'ChiZhou',id:13,pid:25},{text:'界首',py_text:'JieShou',id:14,pid:25},{text:'六安',py_text:'LiuAn',id:15,pid:25},{text:'宿州',py_text:'SuZhou',id:17,pid:25},{text:'天长',py_text:'TianChang',id:18,pid:25},{text:'宣城',py_text:'XuanCheng',id:19,pid:25},{text:'其它',py_text:'Other',id:9999,pid:25},{text:'贵阳',py_text:'GuiYang',id:0,pid:26},{text:'安顺',py_text:'AnShun',id:1,pid:26},{text:'六盘水',py_text:'LiuPanShui',id:2,pid:26},{text:'遵义',py_text:'ZunYi',id:3,pid:26},{text:'铜仁',py_text:'TongRen',id:6,pid:26},{text:'毕节',py_text:'BiJie',id:9,pid:26},{text:'黔西南布依族苗族自治州',py_text:'QianXiNaoBuYiZuMiaoZuZiZhiZhou',id:14,pid:26},{text:'黔东南苗族侗族自治州',py_text:'QianDongNanMiaoZuDongZuZiZhiZhou',id:15,pid:26},{text:'黔南布依族苗族自治州',py_text:'QianNanBuYiZuMiaoZuZiZhiZhou',id:16,pid:26},{text:'其它',py_text:'Other',id:9999,pid:26},{text:'南京',py_text:'NanJing',id:0,pid:27},{text:'徐州',py_text:'XuZhou',id:1,pid:27},{text:'连云港',py_text:'LianYunGang',id:2,pid:27},{text:'苏州',py_text:'SuZhou',id:3,pid:27},{text:'无锡',py_text:'WuXi',id:4,pid:27},{text:'常州',py_text:'ChangZhou',id:5,pid:27},{text:'淮安',py_text:'HuaiAn',id:7,pid:27},{text:'南通',py_text:'NanTong',id:8,pid:27},{text:'泰州',py_text:'TaiZhou',id:10,pid:27},{text:'通州',py_text:'TongZhou',id:11,pid:27},{text:'扬州',py_text:'YangZhou',id:12,pid:27},{text:'宜兴',py_text:'YiXing',id:13,pid:27},{text:'镇江',py_text:'ZhenJiang',id:14,pid:27},{text:'盐城',py_text:'YanCheng',id:19,pid:27},{text:'宿迁',py_text:'XiuQian',id:20,pid:27},{text:'其它',py_text:'Other',id:9999,pid:27},{text:'重庆',py_text:'Chongqing',id:0,pid:28},{text:'杭州',py_text:'HangZhou',id:0,pid:29},{text:'宁波',py_text:'NingBo',id:1,pid:29},{text:'温州',py_text:'WenZhou',id:2,pid:29},{text:'绍兴',py_text:'ShaoXing',id:3,pid:29},{text:'金华',py_text:'JinHua',id:4,pid:29},{text:'嘉兴',py_text:'JiaXing',id:5,pid:29},{text:'衢州',py_text:'QuZhou',id:6,pid:29},{text:'丽水',py_text:'LiShui',id:11,pid:29},{text:'舟山',py_text:'ZhouShan',id:17,pid:29},{text:'台州',py_text:'TaiZhou',id:22,pid:29},{text:'湖州',py_text:'HuZhou',id:24,pid:29},{text:'其它',py_text:'Other',id:9999,pid:29},{text:'南昌',py_text:'NanCang',id:0,pid:30},{text:'景德镇',py_text:'JingDeZhen',id:1,pid:30},{text:'萍乡',py_text:'PingXiang',id:2,pid:30},{text:'九江',py_text:'JiuJiang',id:3,pid:30},{text:'赣州',py_text:'GanZhou',id:4,pid:30},{text:'新余',py_text:'XinYu',id:5,pid:30},{text:'吉安',py_text:'JiAn',id:6,pid:30},{text:'鹰潭',py_text:'YingTan',id:11,pid:30},{text:'宜春',py_text:'YiChun',id:12,pid:30},{text:'上饶',py_text:'ShangRao',id:13,pid:30},{text:'抚州',py_text:'FuZhou',id:14,pid:30},{text:'其它',py_text:'Other',id:9999,pid:30},{text:'亚州',py_text:'Asia',id:0,pid:31},{text:'北美',py_text:'North America',id:1,pid:31},{text:'南美',py_text:'South America',id:2,pid:31},{text:'欧洲',py_text:'Europe',id:3,pid:31},{text:'非洲',py_text:'Africa',id:4,pid:31},{text:'大洋洲',py_text:'Oceania',id:5,pid:31},{text:'台北',py_text:'Taibei',id:0,pid:32},{text:'高雄',py_text:'Kaohsiung',id:1,pid:32},{text:'台中',py_text:'Taizhong',id:2,pid:32},{text:'台南',py_text:'Tainan',id:3,pid:32},{text:'基隆',py_text:'Jilong',id:4,pid:32},{text:'新竹',py_text:'Xinzhu',id:5,pid:32},{text:'其它',py_text:'Other',id:9999,pid:32},{text:'香港',py_text:'Hongkong',id:0,pid:33},{text:'九龙',py_text:'Kowloon',id:1,pid:33},{text:'新界',py_text:'New Territories',id:2,pid:33},{text:'澳门',py_text:'Macao',id:0,pid:34}];e.exports={init:function(e,t,i,r,l){var d='<option value="-1">-----------</option>',c='<option value="-1">-----------</option>';i=i||-1,r=r||-1;for(var h=0;h<o.length;h++){var u=o[h];d+='<option value="'+u.id+'">'+(n(l)?u.text:u.py_text)+'</option>'}a(e).html(d),a(e).val(i),a(e).on('change',(function(){var e=a(this).val();if(-1!=e){for(var i='',r=0;r<s.length;r++){var o=s[r];o.pid==e&&(i+='<option value="'+o.id+'">'+(n(l)?o.text:o.py_text)+'</option>')}a(t).html(i)}}));for(var p=0;p<s.length;p++){var f=s[p];f.pid==i&&(c+='<option value="'+f.id+'">'+(n(l)?f.text:f.py_text)+'</option>')}a(t).html(c),a(t).val(r)},out:function(e,t,i){if(i=i||'',-1==e)return'';for(var a='',l='',d=0;d<o.length;d++){var c=o[d];if(c.id==e){if(a=n(i)?c.text+r.province.text:c.py_text+' '+r.province.py_text,-1==t)return a;for(var h=0;h<s.length;h++){var u=s[h];if(u.pid==e&&u.id==t)return l=n(i)?u.text+r.city.text:u.py_text+' '+r.city.py_text,n(i)?a+l:l+', '+a}}}}}},852:function(e,t,i){var n,a,r;a=[i(463),i(637),i(853),i(638),i(595),i(492),i(546)],(r='function'==typeof(n=function(e){return e.widget('ui.sortable',e.ui.mouse,{version:'1.12.1',widgetEventPrefix:'sort',ready:!1,options:{appendTo:'parent',axis:!1,connectWith:!1,containment:!1,cursor:'auto',cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:'original',items:'> *',opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:'default',tolerance:'intersect',zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&e<t+i},_isFloating:function(e){return/left|right/.test(e.css('float'))||/inline|table-cell/.test(e.css('display'))},_create:function(){this.containerCache={},this._addClass('ui-sortable'),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),'handle'===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find('.ui-sortable-handle'),'ui-sortable-handle'),e.each(this.items,(function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,'ui-sortable-handle')}))},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+'-item');return this},_mouseCapture:function(t,i){var n=null,a=!1,r=this;return!(this.reverting||this.options.disabled||'static'===this.options.type||(this._refreshItems(t),e(t.target).parents().each((function(){if(e.data(this,r.widgetName+'-item')===r)return n=e(this),!1})),e.data(t.target,r.widgetName+'-item')===r&&(n=e(t.target)),!n||this.options.handle&&!i&&(e(this.options.handle,n).find('*').addBack().each((function(){this===t.target&&(a=!0)})),!a)||(this.currentItem=n,this._removeCurrentsFromItems(),0)))},_mouseStart:function(t,i,n){var a,r,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css('position','absolute'),this.cssPosition=this.helper.css('position'),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&'auto'!==o.cursor&&(r=this.document.find('body'),this.storedCursor=r.css('cursor'),r.css('cursor',o.cursor),this.storedStylesheet=e('<style>*{ cursor: '+o.cursor+' !important; }</style>').appendTo(r)),o.opacity&&(this.helper.css('opacity')&&(this._storedOpacity=this.helper.css('opacity')),this.helper.css('opacity',o.opacity)),o.zIndex&&(this.helper.css('zIndex')&&(this._storedZIndex=this.helper.css('zIndex')),this.helper.css('zIndex',o.zIndex)),this.scrollParent[0]!==this.document[0]&&'HTML'!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger('start',t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(a=this.containers.length-1;a>=0;a--)this.containers[a]._trigger('activate',t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,'ui-sortable-helper'),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,a,r,o=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo('absolute'),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&'HTML'!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==s&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo('absolute'),this.options.axis&&'y'===this.options.axis||(this.helper[0].style.left=this.position.left+'px'),this.options.axis&&'x'===this.options.axis||(this.helper[0].style.top=this.position.top+'px'),i=this.items.length-1;i>=0;i--)if(a=(n=this.items[i]).item[0],(r=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(a===this.currentItem[0]||this.placeholder[1===r?'next':'prev']()[0]===a||e.contains(this.placeholder[0],a)||'semi-dynamic'===this.options.type&&e.contains(this.element[0],a))){if(this.direction=1===r?'down':'up','pointer'!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger('change',t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger('sort',t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,a=this.placeholder.offset(),r=this.options.axis,o={};r&&'x'!==r||(o.left=a.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&'y'!==r||(o.top=a.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,(function(){n._clear(t)}))}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new e.Event('mouseup',{target:null})),'original'===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,'ui-sortable-helper')):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger('deactivate',null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger('out',null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),'original'!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each((function(){var i=(e(t.item||this).attr(t.attribute||'id')||'').match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+'[]')+'='+(t.key&&t.expression?i[1]:i[2]))})),!n.length&&t.key&&n.push(t.key+'='),n.join('&')},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each((function(){n.push(e(t.item||this).attr(t.attribute||'id')||'')})),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,a=n+this.helperProportions.height,r=e.left,o=r+e.width,s=e.top,l=s+e.height,d=this.offset.click.top,c=this.offset.click.left,h='x'===this.options.axis||n+d>s&&n+d<l,u='y'===this.options.axis||t+c>r&&t+c<o,p=h&&u;return'pointer'===this.options.tolerance||this.options.forcePointerForContainers||'pointer'!==this.options.tolerance&&this.helperProportions[this.floating?'width':'height']>e[this.floating?'width':'height']?p:r<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&s<n+this.helperProportions.height/2&&a-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t,i,n='x'===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),a='y'===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);return!(!n||!a)&&(t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?'right'===i||'down'===t?2:1:t&&('down'===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return this.floating&&a?'right'===a&&i||'left'===a&&!i:n&&('down'===n&&t||'up'===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?'down':'up')},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?'right':'left')},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var i,n,a,r,o=[],s=[],l=this._connectWith();if(l&&t)for(i=l.length-1;i>=0;i--)for(n=(a=e(l[i],this.document[0])).length-1;n>=0;n--)(r=e.data(a[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&s.push([e.isFunction(r.options.items)?r.options.items.call(r.element):e(r.options.items,r.element).not('.ui-sortable-helper').not('.ui-sortable-placeholder'),r]);function d(){o.push(this)}for(s.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not('.ui-sortable-helper').not('.ui-sortable-placeholder'),this]),i=s.length-1;i>=0;i--)s[i][0].each(d);return e(o)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(':data('+this.widgetName+'-item)');this.items=e.grep(this.items,(function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0}))},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,a,r,o,s,l,d,c=this.items,h=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],u=this._connectWith();if(u&&this.ready)for(i=u.length-1;i>=0;i--)for(n=(a=e(u[i],this.document[0])).length-1;n>=0;n--)(r=e.data(a[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&(h.push([e.isFunction(r.options.items)?r.options.items.call(r.element[0],t,{item:this.currentItem}):e(r.options.items,r.element),r]),this.containers.push(r));for(i=h.length-1;i>=0;i--)for(o=h[i][1],n=0,d=(s=h[i][0]).length;n<d;n++)(l=e(s[n])).data(this.widgetName+'-item',o),c.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var i,n,a,r;for(this.floating=!!this.items.length&&('x'===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)(n=this.items[i]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(a=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=a.outerWidth(),n.height=a.outerHeight()),r=a.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)r=this.containers[i].element.offset(),this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){var i,n=(t=t||this).options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),a=e('<'+n+'>',t.document[0]);return t._addClass(a,'ui-sortable-placeholder',i||t.currentItem[0].className)._removeClass(a,'ui-sortable-helper'),'tbody'===n?t._createTrPlaceholder(t.currentItem.find('tr').eq(0),e('<tr>',t.document[0]).appendTo(a)):'tr'===n?t._createTrPlaceholder(t.currentItem,a):'img'===n&&a.attr('src',t.currentItem.attr('src')),i||a.css('visibility','hidden'),a},update:function(e,a){i&&!n.forcePlaceholderSize||(a.height()||a.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css('paddingTop')||0,10)-parseInt(t.currentItem.css('paddingBottom')||0,10)),a.width()||a.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css('paddingLeft')||0,10)-parseInt(t.currentItem.css('paddingRight')||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var n=this;t.children().each((function(){e('<td>&#160;</td>',n.document[0]).attr('colspan',e(this).attr('colspan')||1).appendTo(i)}))},_contactContainers:function(t){var i,n,a,r,o,s,l,d,c,h,u=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(u&&e.contains(this.containers[i].element[0],u.element[0]))continue;u=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger('out',t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(u)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger('over',t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(a=1e4,r=null,o=(c=u.floating||this._isFloating(this.currentItem))?'left':'top',s=c?'width':'height',h=c?'pageX':'pageY',n=this.items.length-1;n>=0;n--)e.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[o],d=!1,t[h]-l>this.items[n][s]/2&&(d=!0),Math.abs(t[h]-l)<a&&(a=Math.abs(t[h]-l),r=this.items[n],this.direction=d?'up':'down'));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger('over',t,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(t,r,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger('change',t,this._uiHash()),this.containers[p]._trigger('change',t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger('over',t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):'clone'===i.helper?this.currentItem.clone():this.currentItem;return n.parents('body').length||e('parent'!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css('position'),top:this.currentItem.css('top'),left:this.currentItem.css('left')}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){'string'==typeof t&&(t=t.split(' ')),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),'left'in t&&(this.offset.click.left=t.left+this.margins.left),'right'in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),'top'in t&&(this.offset.click.top=t.top+this.margins.top),'bottom'in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return'absolute'===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&'html'===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css('borderTopWidth'),10)||0),left:t.left+(parseInt(this.offsetParent.css('borderLeftWidth'),10)||0)}},_getRelativeOffset:function(){if('relative'===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css('top'),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css('left'),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css('marginLeft'),10)||0,top:parseInt(this.currentItem.css('marginTop'),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,a=this.options;'parent'===a.containment&&(a.containment=this.helper[0].parentNode),'document'!==a.containment&&'window'!==a.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,'document'===a.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,('document'===a.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(a.containment)||(t=e(a.containment)[0],i=e(a.containment).offset(),n='hidden'!==e(t).css('overflow'),this.containment=[i.left+(parseInt(e(t).css('borderLeftWidth'),10)||0)+(parseInt(e(t).css('paddingLeft'),10)||0)-this.margins.left,i.top+(parseInt(e(t).css('borderTopWidth'),10)||0)+(parseInt(e(t).css('paddingTop'),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css('borderLeftWidth'),10)||0)-(parseInt(e(t).css('paddingRight'),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css('borderTopWidth'),10)||0)-(parseInt(e(t).css('paddingBottom'),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n='absolute'===t?1:-1,a='absolute'!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(a[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-('fixed'===this.cssPosition?-this.scrollParent.scrollTop():r?0:a.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-('fixed'===this.cssPosition?-this.scrollParent.scrollLeft():r?0:a.scrollLeft())*n}},_generatePosition:function(t){var i,n,a=this.options,r=t.pageX,o=t.pageY,s='absolute'!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return'relative'!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),a.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/a.grid[1])*a.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-a.grid[1]:i+a.grid[1]:i,n=this.originalPageX+Math.round((r-this.originalPageX)/a.grid[0])*a.grid[0],r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-a.grid[0]:n+a.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+('fixed'===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+('fixed'===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],'down'===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var a=this.counter;this._delay((function(){a===this.counter&&this.refreshPositions(!n)}))},_clear:function(e,t){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)'auto'!==this._storedCSS[i]&&'static'!==this._storedCSS[i]||(this._storedCSS[i]='');this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,'ui-sortable-helper')}else this.currentItem.show();function a(e,t,i){return function(n){i._trigger(e,n,t._uiHash(t))}}for(this.fromOutside&&!t&&n.push((function(e){this._trigger('receive',e,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not('.ui-sortable-helper')[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push((function(e){this._trigger('update',e,this._uiHash())})),this!==this.currentContainer&&(t||(n.push((function(e){this._trigger('remove',e,this._uiHash())})),n.push(function(e){return function(t){e._trigger('receive',t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger('update',t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||n.push(a('deactivate',this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(a('out',this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find('body').css('cursor',this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css('opacity',this._storedOpacity),this._storedZIndex&&this.helper.css('zIndex','auto'===this._storedZIndex?'':this._storedZIndex),this.dragging=!1,t||this._trigger('beforeStop',e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;i<n.length;i++)n[i].call(this,e);this._trigger('stop',e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})})?n.apply(t,a):n)===undefined||(e.exports=r)},853:function(e,t,i){var n,a,r;a=[i(463),i(492)],(r='function'==typeof(n=function(e){return e.extend(e.expr[':'],{data:e.expr.createPseudo?e.expr.createPseudo((function(t){return function(i){return!!e.data(i,t)}})):function(t,i,n){return!!e.data(t,n[3])}})})?n.apply(t,a):n)===undefined||(e.exports=r)},854:function(e,t,i){var n=i(463);n.fn.tagEditorInput=function(){var e=' ',t=n(this),i=parseInt(t.css('fontSize')),a=n('<span/>').css({position:'absolute',top:-9999,left:-9999,width:'auto',fontSize:t.css('fontSize'),fontFamily:t.css('fontFamily'),fontWeight:t.css('fontWeight'),letterSpacing:t.css('letterSpacing'),whiteSpace:'nowrap'});return a.insertAfter(t),t.bind('keyup keydown focus input propertychange',(function(){var n,r=t.val();if(e!==(e=r)){a.html(e.replace(/&/g,'&amp;').replace(/\s/g,'&nbsp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'));var o=a.width()+i*((n=r[r.length-1])>=32&&n<=127||n>=65377&&n<=65439?1:2);10>o&&(o=10),o!=t.width()&&t.width(o)}})).val(' ').val(''),t}},855:function(e,t,i){var n,a,r=i(463),o=!1,s=r(window),l={selector:null,items:{},appendTo:document.body,context:document,zIndex:99,classNames:{list:'context-menu-list',item:'context-menu-item',itemhint:'context-menu-item-hint',layer:'context-menu-layer',disabled:'context-menu-disabled',separator:'context-menu-separator'},callback:r.noop},d={abort:function(e){e.preventDefault(),e.stopImmediatePropagation()},contextMenu:function(e){var t=e.data;t.$trigger=r(e.target),t.excludeSubSelector&&t.$trigger.closest(t.excludeSubSelector).length>0||(d.abort(e),c.show(t,e.clientX,e.clientY))},select:function(e){var t=e.data,i=r(e.currentTarget);if(i.hasClass(t.classNames.disabled))return!1;!1!==t.callback.call(t.$trigger,i.data('key'),t)&&c.hide(t)},close:function(e){c.hide(e.data)}},c={createList:function(e){var t=r('<ul>').addClass(e.classNames.list);return r.each(e.items,(function(i,n){'string'==typeof n&&n.indexOf('---')>-1?r('<li>').addClass(e.classNames.separator).appendTo(t):r('<li>').addClass(e.classNames.item+(n.disabled&&' '+e.classNames.disabled||'')).data('key',i).append(r('<span>').text(n.text),r('<span>').addClass(e.classNames.itemhint).text(n.hint)).appendTo(t)})),t.appendTo(e.appendTo).offset({top:-999}).hide()},createLayer:function(e){return r('<div>').addClass(e.classNames.layer).css({position:'fixed',zIndex:e.zIndex-1,top:'0px',left:'0px',opacity:'0',height:s.height(),width:s.width(),display:'none',backgroundColor:'rgb(0, 0, 0)'}).appendTo(e.appendTo)},show:function(e,t,i){var n=function(e,t){var i=t.x,n=t.y,a=e.outerWidth(!0),o=e.outerHeight(!0);i+a>r(window).outerWidth(!0)&&(i-=a);n+o>r(window).outerHeight(!0)&&(n-=o);return{x:i,y:n}}(e.$menu,{x:t,y:i});e.$layer.show(),e.$menu.show().css({top:n.y,left:n.x,zIndex:e.zIndex})},hide:function(e){e.$layer.hide(),e.$menu.hide()}};r.contextMenu=function(e,t){'string'!=typeof e&&(t=e,e='create');var i=r.extend(!0,{},l,t||{}),s=r(i.context).first(),h='.'+i.classNames.item;switch(i.ns='.contextmenu',e){case'create':if(!i.selector)throw new Error('No selector specified');if(!i.items||r.isEmptyObject(i.items))throw new Error('No Items specified');o||(o=function(e){return n=e.$menu=c.createList(e),a=e.$layer=c.createLayer(e),!0}(i),s.on('contextmenu'+i.ns,i.selector,i,d.contextMenu),i.$menu.on('click'+i.ns,h,i,d.select),i.$menu.on('contextmenu'+i.ns,h,i,d.abort),i.$layer.on('click'+i.ns,i,d.close),i.$layer.on('contextmenu'+i.ns,i,d.abort));break;case'destroy':s.off(i.ns),n.remove(),a.remove(),n=a=null,o=!0}},e.exports=function(e,t,i,n){r.contextMenu({selector:e,callback:function(e,t){this.trigger(i,[e,t])},items:t,excludeSubSelector:n})}},860:function(e,t,i){(function(e,t){i(593),i(861);var n=i(468).get;function a(t,i){var n=this;e.iter(i,(function(e,i){n.element[t](i.replace(/^| +/g,'$&'+n.widgetEventPrefix),e)}))}t.widget('cm.fileupload',t.blueimp.fileupload,{_ON:e.fn(a,'on'),_OFF:e.fn(a,'off'),_initUploadMeta:function(e,t){var i={trs:n('file.trsfid'),netfolder:this.options.fid};e.uploadType=t=t||e.uploadType||'compose',e._cid=t in i?'c:nf:'+(e.fid=i[t]):this.options.composeId},_removeFileState:function(t){e.del(t.files[0],['completed','failed','error'])}})}).call(this,i(464),i(463))},861:function(e,t,i){var n,a,r;!function(o){'use strict';a=[i(463),i(573)],(r='function'==typeof(n=function(e){var t=e.blueimp.fileupload.prototype.options.add;e.widget('blueimp.fileupload',e.blueimp.fileupload,{options:{processQueue:[],add:function(i,n){var a=e(this);n.process((function(){return a.fileupload('process',n)})),t.call(this,i,n)}},processActions:{},_processFile:function(t,i){var n=this,a=e.Deferred().resolveWith(n,[t]).promise();return this._trigger('process',null,t),e.each(t.processQueue,(function(t,r){var o=function(t){return i.errorThrown?e.Deferred().rejectWith(n,[i]).promise():n.processActions[r.action].call(n,t,r)};a=a.pipe(o,r.always&&o)})),a.done((function(){n._trigger('processdone',null,t),n._trigger('processalways',null,t)})).fail((function(){n._trigger('processfail',null,t),n._trigger('processalways',null,t)})),a},_transformProcessQueue:function(t){var i=[];e.each(t.processQueue,(function(){var n={},a=this.action,r=!0===this.prefix?a:this.prefix;e.each(this,(function(i,a){'string'===e.type(a)&&'@'===a.charAt(0)?n[i]=t[a.slice(1)||(r?r+i.charAt(0).toUpperCase()+i.slice(1):i)]:n[i]=a})),i.push(n)})),t.processQueue=i},processing:function(){return this._processing},process:function(t){var i=this,n=e.extend({},this.options,t);return n.processQueue&&n.processQueue.length&&(this._transformProcessQueue(n),0===this._processing&&this._trigger('processstart'),e.each(t.files,(function(a){var r=a?e.extend({},n):n,o=function(){return t.errorThrown?e.Deferred().rejectWith(i,[t]).promise():i._processFile(r,t)};r.index=a,i._processing+=1,i._processingQueue=i._processingQueue.pipe(o,o).always((function(){i._processing-=1,0===i._processing&&i._trigger('processstop')}))}))),this._processingQueue},_create:function(){this._super(),this._processing=0,this._processingQueue=e.Deferred().resolveWith(this).promise()}})})?n.apply(t,a):n)===undefined||(e.exports=r)}()},874:function(e,t,i){i(875);var n=i(463),a=i(876),r=function(e){this.options=e||{},this.$target=null,this.startOffset=0,this.totalWidth=0,this.hasScrollbar=!1};n.extend(r.prototype,{_syncTheadWidth:function(e,t){n.each(e.find('th'),(function(e,i){n(i).width(t.find('th').eq(e).width())}))},_calcMinimalWidth:function(e){var t=this.options.$table,a=t.find('thead'),r=t.find('tbody'),o=this.options.defaultMinimalWidth;if(i(481).IE){if(r.find('tr').length>0){t.css('table-layout','auto');var s=a.find('th');n.each(s,(function(e,t){var i=n(t);i.data('originalWidthStyle',i.css('width')).width('')})),o=s.eq(e).width(0).outerWidth(),t.css('table-layout','fixed'),n.each(s,(function(e,t){var i=n(t);i.css('width',i.data('originalWidthStyle'))}))}}else{for(var l,d=0,c=r.find('tr');d<c.length;d++){var h=c.eq(d).find('td');if(h.length===a.find('th').length&&(l=h.eq(e)))break}l&&(r.css('display','block'),o=l.width(0).outerWidth(),r.css('display',''),l.width(''))}return o},renderGrip:function(){var e=this,t=this.options.$table,i=t.parent(),a=t.find('th'),r=this.options.tableLayout;return'fixed'===r&&this.options.$table.css('table-layout','fixed'),n.each(a,(function(t,o){var s=n(o),l=s.attr('min-width'),d=e.options.defaultMinimalWidth;if(t>=a.length-1)return s.attr('min-width','inner'),d=e._calcMinimalWidth(t),'fixed'===r&&s.data('min-width',d).width(d>0?d:''),'fixed'===r&&s.width('auto').width(s.width()),void(s.width()<d&&s.width(d));switch(l){case'inner':d=e._calcMinimalWidth(t);break;default:d=parseFloat(l)}'fixed'===r&&s.data('min-width',d).width(d>0?d:'');var c=n('<div class="grip" />');c.width(e.options.gripWidth),c.data('columnIndex',t),c.on('mousedown',(function(t){e.$target=s,e.startOffset=s[0].offsetWidth-t.pageX-e.options.gripWidth,e.totalWidth=s.width()+s.next().width(),e.hasScrollbar=i[0].scrollWidth>i.width(),n(document.body).addClass('resizing')})),s.css('border-right','solid 1px '+e.options.gripColor).css('position','relative').append(c.css('right',0)),s.next().css('position','relative').append(c.clone(!0).css('left',0).css('right',''))})),this},initEvents:function(){var e=this,t=this.options.tableLayout,i=this.options.isFixedThead,r=this.options.$table,o=r.parent();return n(document).on('mousemove.resizableTable',(function(n){var a=e.$target;if(a&&a.length>0){o[0].scrollWidth<=o.width()&&(e.totalWidth=a.width()+a.next().width(),e.hasScrollbar=!1);var s=e.startOffset+n.pageX-e.options.gripWidth;if('fixed'===t){var l=a.data('min-width'),d=a.next().data('min-width');s=s>l?s:l;var c=e.totalWidth-s>d?e.totalWidth-s:d;!e.hasScrollbar&&a.next().width(c-1),a.width(s-1)}'auto'===t&&(s=s>0?s:0,a.width(s)),i&&e._syncTheadWidth(o.find('.j-fixed-thead-table'),r)}})).on('mouseup.resizableTable',(function(){e.$target=null,n(document.body).removeClass('resizing')})),o.length>0&&new a(o,(function(){for(var t=r.find('th'),a=-1,s=t.length-1;s>=0;s--){var l=n(t[s]);if(l.width()>l.data('min-width')+1){a=s;break}}if(a>-1){var d=n(t[a]);d.width('auto').width(d.width()),d.next().width(d.next().data('min-width')-1)}else n.each(t,(function(e,t){var i=n(t);i.width(i.data('min-width'))}));i&&e._syncTheadWidth(o.find('.j-fixed-thead-table'),r)})),o.length>0&&this.options.isFixedThead&&o.off('scroll.resizable').on('scroll.resizable',(function(){o.find('table').css('top',o.scrollTop())})),this},refreshLayout:function(){this.options.$table.parent().trigger('scroll.resizable')},initLayout:function(){if(this.options.isFixedThead){var e=this.options.$table,t=e.parent();t.off('scroll.resizable');var i=e.clone(!0);i.find('tbody').remove(),i.removeClass('j-contact-table').addClass('fixed-thead-table').addClass('j-fixed-thead-table').css('background',this.options.theadBackgroundColor).css('top',0),t.find('.fixed-thead-table').remove(),t.addClass('fixed-thead-wrapper').append(i),this._syncTheadWidth(i,e)}return this},init:function(){return this.renderGrip().initLayout().initEvents(),this}}),n.fn.resizableTable=function(e){return e=n.extend({$table:this,gripWidth:7,gripColor:'#ccc',tableLayout:'fixed',theadBackgroundColor:'#fff',isFixedThead:!0,defaultMinimalWidth:70},e||{}),new r(e).init()}},876:function(e,t,i){(function(n){var a,r;(r='function'==typeof(a=function(){if('undefined'==typeof window)return null;var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};function t(e,t){var i=Object.prototype.toString.call(e),a='[object Array]'===i||'[object NodeList]'===i||'[object HTMLCollection]'===i||'[object Object]'===i||void 0!==n&&e instanceof n||'undefined'!=typeof Elements&&e instanceof Elements,r=0,o=e.length;if(a)for(;r<o;r++)t(e[r]);else t(e)}var i=function(n,a){function r(){var e,t,i=[];this.add=function(e){i.push(e)},this.call=function(){for(e=0,t=i.length;e<t;e++)i[e].call()},this.remove=function(n){var a=[];for(e=0,t=i.length;e<t;e++)i[e]!==n&&a.push(i[e]);i=a},this.length=function(){return i.length}}function o(t,i){if(t.resizedAttached){if(t.resizedAttached)return void t.resizedAttached.add(i)}else t.resizedAttached=new r,t.resizedAttached.add(i);t.resizeSensor=document.createElement('div'),t.resizeSensor.className='resize-sensor';var n='position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;',a='position: absolute; left: 0; top: 0; transition: 0s;';t.resizeSensor.style.cssText=n,t.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+n+'"><div style="'+a+'"></div></div><div class="resize-sensor-shrink" style="'+n+'"><div style="'+a+' width: 200%; height: 200%"></div></div>',t.appendChild(t.resizeSensor),'static'==function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):e.style[t]}(t,'position')&&(t.style.position='relative');var o,s,l,d,c=t.resizeSensor.childNodes[0],h=c.childNodes[0],u=t.resizeSensor.childNodes[1],p=t.offsetWidth,f=t.offsetHeight,m=function(){h.style.width='100000px',h.style.height='100000px',c.scrollLeft=1e5,c.scrollTop=1e5,u.scrollLeft=1e5,u.scrollTop=1e5};m();var g=function(){s=0,o&&(p=l,f=d,t.resizedAttached&&t.resizedAttached.call())},v=function(){l=t.offsetWidth,d=t.offsetHeight,(o=l!=p||d!=f)&&!s&&(s=e(g)),m()},x=function(e,t,i){e.attachEvent?e.attachEvent('on'+t,i):e.addEventListener(t,i)};x(c,'scroll',v),x(u,'scroll',v)}t(n,(function(e){o(e,a)})),this.detach=function(e){i.detach(n,e)}};return i.detach=function(e,i){t(e,(function(e){e.resizedAttached&&'function'==typeof i&&(e.resizedAttached.remove(i),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached)}))},i})?a.call(t,i,t,e):a)===undefined||(e.exports=r)}).call(this,i(463))},878:function(e,t,i){e.exports=i(469)('<div class="u-contactdg"> <table class="fixedTableLayout j-contactdg-table"> <thead class="u-contactdg-head"> <tr> <th>{{i18n \'contact/contact\'}}</th> <th class="list j-list-head"> <div class="container"> <div class="group-info"></div> <div class="group-page"></div> </div> </th> <th class="select j-select-head"> <div class="f-fl j-select-added"><span class="j-select-title">{{i18n \'mail/mail_to_address\'}}</span> <span class="small"></span></div> <div class="f-fr"><a href="javascript:void(0);" class="link">{{i18n \'compose/lbt_delete_all\'}}</a></div> </th> </tr> </thead> <tbody> <tr> <td class="td-tree j-tree-list"> <div class="u-contactdg-tree"> <div class="tree-header"> <div class="j-select-wrapper"></div> </div> <div class="tree-body u-scroll"> <ul class=ztree id=ztContactDG></ul> </div> </div> </td> <td class="td-list j-select-list"> <div class="u-contactdg-list j-contact-list"> <div class="list"> <table class="u-table u-table-row j-contact-table"> <thead></thead> <tbody></tbody> </table> </div> <div class="tgl j-select-tgl"> <span class="iconfont iconright"></span> </div> </div> </td> <td class="td-select j-select-body"> <div class="u-contactdg-select j-contact-select"></div> </td> </tr> </tbody> </table>        </div>',{selectboxtpl:'<div class="u-box u-box-{{type}} j-select-{{type}} {{if$ follow \'u-box-follow\'}}" data-type="{{type}}"> {{#if name}}<div class="u-box-head"><h3 class="u-box-head-title">{{name}}</h3></div>{{/if}} <div style="top: {{if$ name \'25px\' 0}}" class="u-box-container"> <ul class="u-list j-list"></ul> </div> </div>',pabheadtpl:'<h5 class="h5" title="{{name}}">{{name}}</h5> &nbsp; <p class="small" title="{{i18n \'prop:contact/msg_pabSummary\' 0=total}}">{{i18n \'prop:contact/msg_pabSummary\' 0=total}}</p>',ouheadtpl:'<h5 class="h5" title="{{name}}">{{name}}</h5> &nbsp; <p class="small" title="{{i18n \'prop:contact/msg_ouSummary\' 0=total 1=depts 2=addrs}}">{{i18n \'prop:contact/msg_ouSummary\' 0=total 1=depts 2=addrs}}</p>',ousearchheadtpl:'<h5 class="h5" title="{{name}}">{{name}}</h5> &nbsp; <p class="small" title="{{i18n \'prop:contact/msg_ouSearchSummary\' 0=total}}">{{i18n \'prop:contact/msg_ouSearchSummary\' 0=total}}</p>',theadTpl:'<tr> <th min-width="20px" class="chk"><input type="checkbox"/></th> <th min-width="20px" class="gender"></th> {{#each fields}} <th min-width="{{#if (in id \'email,EMAIL;PREF\')}}inner{{^}}70px{{/if}}">{{or label id}}</th> {{/each}} </tr>',tbodyTpl:'{{#each rows}} <tr email="{{addr}}" name="{{name}}" data-user="{{isUser}}" uid="{{id}}" data-isoab="{{isOab}}" securitylevel="{{securityLevel}}" {{{if$ (or isOab isUser) \'\' \'class=j-group\'}}}> <td>{{#or addr (not isOab)}}<input type=checkbox>{{/or}}</td> <td><i class="iconfont {{icon}}"></i></td> {{#each td}} <td title="{{.}}">{{.}}</td> {{^}} <td colspan={{../fields.length}} title="{{formatted name}}">{{formatted name}}</td> {{/each}} </tr> {{^}} <tr class=z-disabled> <td colspan="{{math 2 \'+\' fields.length}}">{{i18n \'mail/msg_nouser\'}}</td> </tr> {{/each}}',selectcontacttpl:'<li email="{{addr}}" name="{{name}}" title="{{value}}" data-id="{{id}}"> <span>{{value}}</span> <a href="javascript:void(0);" class="link">{{i18n \'mail/op_remove\'}}</a> </li>'})},881:function(e,t,i){(function(t,n,a){var r=i(464),o=i(490),s=i(470).alert,l=i(533),d=l.wm,c=l.mForm,h=i(481).useFileAPI;e.exports=function(e,i){function l(i){e.insertHtml(t('<img/>',{src:i})[0].outerHTML)}function u(e){r.iter(t('img,v\\:imagedata',v),(function(i){e(t(i),i.src||t(i).attr('src'))}))}e.capture=function(){m(f())};var p=i._valid()?i.plugin.screenCapture():0,f=function(){if(p.supportCapture){if(p.capture())return p.upload()}else i._capture()};function m(e,t){function n(e,n){var a=e.previewUrl,r=e.name;a&&(t?(_(t[n],a),i.removeUploadFileByName(r)):l(a))}if((e=r.mapFilter(e,e&&r.isSTR(e[0])?function(e,t){var a=i.getUploadFileByName(e);if(a)n(a,t);else{var r=i.plugin.upload().addEmbbedFile(e);if(4294967295!==r)return r}}:'',r.not(isNaN))).length){var a={completed:function(t,r){var o=r.index,s=r.files[0];i._OFF(a);var l=e.indexOf(o);s.inlined&&l>=0&&n(s,l)}};i.pluginAdd(e,{inlined:!0}),i._ON(a)}}var g={},v=t(e.cmd.doc.body).on('keydown paste',(function(n){var a,s,l;e.designMode&&(n.ctrlKey&&86===n.which&&i.plugin.getPathFileClipboard?m((l=(i.plugin.getPathFileClipboard()||'').split(';'),r.filter(l,/\.(jpg|png|gif|bmp|jpeg)$/i))):'paste'===n.type&&(a=((n.originalEvent||{}).clipboardData||window.clipboardData||{}).files,s=e.html(),setTimeout((function(){var n;e.html()===s?a[0]?r.iter(a,r.fn(b,0)):m(function(){if(p.supportClipboard&&p.clipboard())return p.upload()}()):(n=function(e){var i={},n=t('<a>').html(e.replace(/<!--\[if gte vml 1]>([\s\S]*?)<!\[endif]-->/g,'$1'));return n.find('v\\:imagedata[src^="file:///"]').each((function(e,a){var r=t(a).attr('src');i[r]=r.slice(8);var o=n.find('img[src^="file:///"]')[e];o&&(i[o.src]=i[r])})),i}(function(){if(i._valid()){var e=i.plugin.getHTMLClipboard();if(e){var n=e.indexOf('<html'),a=e.indexOf('</html>');return t('<div>').html(e.substring(n,a+'</html>'.length)).prop('outerHTML')}}return''}()),u((function(t,i){if(i in g)g[i]&&_(i,g[i]);else if(/^data:/.test(i))g[i]=0,b(i,function(e){for(var t=e.split(';base64,'),i=atob(t[1]),n=t[0].split(':')[1],a=i.length,r=new Uint8Array(a);a--;)r[a]=i.charCodeAt(a);return new Blob([r],{type:n})}(i));else if(/^blob:/.test(i))g[i]=0,x(i);else if(/^webkit-fake-url:/.test(i))t.remove();else if(n[i])g[i]=0,m([n[i]],[i]);else{var a=r.objBy(o(i).searchParams,0,1),s=a.mid,l=a.part;if(s&&l)if(g[i]=0,h)x(i);else{var c={_mid:s.replace(/.*:/,''),type:'internal',inlined:!0};d('mbox:compose',{id:e.composeId,attrs:{attachments:[r.assign({},c,{_part:l})]},returnInfo:!0}).then((function(e){var n=e.attachments,a=r.last(n);r.is(a,c)?y({attachmentId:a.id,fileName:a.name,size:a.size,contentType:a.contentType},i):t.remove()}))}}})))}))))}));function x(e){t.get({url:e,xhrFields:{responseType:'blob'},dataType:'binary'}).then(r.fn(b,e))}function b(t,i){/^image\//.test(i.type)&&c(r.assign({},e.uploadJson,{contentType:i.type,fileName:+new Date+'.'+i.type.split('/')[1]}),{data:[i]}).fin((function(e,i){var r=(i||0).code;e?y(i,t):(t&&_(t),/FA_UPLOAD_SIZE_EXCEEDED|FA_DATA_CORRUPT/.test(r)&&(s(n('mail/'+r)),a.abort()))}))}function y(t,i){var n=e.afterUpload(t);i?_(i,n):l(n)}function _(e,i){g[e]=i,u((function(n,a){a===e&&(i?function(e,i){e.is('img')||e.replaceWith(e=t('<img>')),e.attr({src:i,'data-ke-src':i})}(n,i):n.remove())}))}}}).call(this,i(463),i(465),i(466))},882:function(e,t,i){var n={'./ar':642,'./ar.js':642,'./en':643,'./en.js':643,'./ko':644,'./ko.js':644,'./ru':645,'./ru.js':645,'./zh-CN':646,'./zh-CN.js':646,'./zh-TW':647,'./zh-TW.js':647};function a(e){var t=r(e);return i(t)}function r(e){if(!i.o(n,e)){var t=new Error('Cannot find module \''+e+'\'');throw t.code='MODULE_NOT_FOUND',t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id=882},883:function(e,t,i){var n=i(465);KindEditor.each({'plug-align':{name:n('common/lbl_align_style'),method:{justifyleft:n('common/lbl_justify_left'),justifycenter:n('common/lbl_justify_center'),justifyright:n('common/lbl_justify_right')}},'plug-order':{name:n('common/lbl_order_style'),method:{insertorderedlist:n('common/lbl_insert_ordered_list'),insertunorderedlist:n('common/lbl_insert_unordered_list')}},'plug-indent':{name:n('common/lbl_indent'),method:{indent:n('common/lbl_indent_right'),outdent:n('common/lbl_indent_left')},width:110}},(function(e,t){var i;KindEditor.lang(((i={})[e]=t.name,i)),KindEditor.plugin(e,(function(i){var n=this;n.clickToolbar(e,(function(){var a=n.createMenu({name:e,width:t.width||100});i.each(t.method,(function(t,i){a.addItem({title:i,checked:!1,iconClass:e+'-'+t,click:function(){n.exec(t).hideMenu()}})}))}))}))}))},884:function(e,t,i){i(548);var n=i(648).linkPluginTpl();KindEditor.plugin('link',(function(e){var t=this;t.plugin.link={edit:function(){var i=t.createDialog({name:'link',width:450,title:t.lang('link'),body:n,yesBtn:{name:t.lang('yes'),click:function(){var i=e.trim(a.val()),n=e.trim(r.val());if('http://'===i||e.invalidUrl(i))return alert(t.lang('invalidUrl')),void a[0].focus();t.exec('createlink',i,'_blank',n).hideDialog().focus()}}}).div,a=e('input[name="url"]',i),r=e('input[name="title"]',i);a.val('http://'),t.cmd.selection();var o=t.plugin.getSelectedLink();o?(t.cmd.range.selectNode(o[0]),t.cmd.select(),a.val(o.attr('data-ke-src')),r.val(o.text())):r.val(t.selectedHtml()),a[0].focus(),a[0].select()},'delete':function(){t.exec('unlink',null)}},t._handlers.clickToolbarlink&&t._handlers.clickToolbarlink.length>0&&(t._handlers.clickToolbarlink=[]),t.clickToolbar('link',t.plugin.link.edit)}))},885:function(e,t,i){(function(e){i(548);var t=i(513),n=i(465),a=i(468).get,r=i(648).imagePluginTpl;KindEditor.plugin('image',(function(i){var o=this,s=i.undef(o.allowImageUpload,!0),l=i.undef(o.allowImageRemote,!0),d=i.undef(o.formatUploadUrl,!0),c=i.undef(o.imageTabIndex,0),h=o.pluginsPath+'image/images/',u=i.undef(o.filePostName,'imgFile'),p=i.undef(o.fillDescAfterUploadImage,!1),f=o.lang('image.'),m=i.undef(o.allowImageType,a('mail.allowUploadImageTypes'));o.plugin.imageDialog=function(a){var s,l=i.undef(a.showRemote,!0),c=i.undef(a.showLocal,!0),g=i.undef(a.tabIndex,0),v=a.clickFn,x='kindeditor_upload_iframe_'+(new Date).getTime(),b=o.imagePluginInfo,y=o.createDialog({name:'image',width:c?450:400,height:c&&l?300:250,title:o.lang('image'),body:r({target:x,lang:f,imgPath:h,imagePluginInfo:e.isFunction(b)?b():b}),yesBtn:{name:n('common/confirm'),click:function(){if(!y.isLoading){if(c&&l&&s&&0===s.selectedIndex||!l){var e=t.basename(L.fileBox.val());return e?m&&!new RegExp(m.replace(/\./g,'\\.').replace(/,/g,'|')+'$','i').test(e)?(L.fileBox.val(''),k.val(''),void alert(n('mail/compose_editor_img_upload_type_error'))):(y.showLoading(n('mail/compose_editor_img_upload_ing')),void o.beforeUpload(e,(function(e){L.form[0].action=e,L.submit(),k.val('')}))):void alert(n('mail/compose_editor_img_upload_empty'))}var a=i.trim(w.val()),r=C.val(),d=S.val(),h=E.val(),u='';return N.each((function(){if(this.checked)return u=this.value,!1})),'http://'===a||i.invalidUrl(a)?(alert(n('mail/compose_editor_img_upload_invalid_url')),void w[0].focus()):/^\d*$/.test(r)?/^\d*$/.test(d)?void v.call(o,a,h,r,d,0,u):(alert(n('mail/compose_editor_img_upload_invalid_width')),void S[0].focus()):(alert(n('mail/compose_editor_img_upload_invalid_width')),void C[0].focus())}}},beforeRemove:function(){C.unbind(),S.unbind(),T.unbind()}}),_=y.div,w=i('[name="url"]',_),k=i('[name="localUrl"]',_),C=i('.tab2 [name="width"]',_),S=i('.tab2 [name="height"]',_),T=i('.ke-refresh-btn',_),E=i('.tab2 [name="title"]',_),N=i('.tab2 [name="align"]',_);l&&c?((s=i.tabs({src:i('.tabs',_),afterSelect:function(e){}})).add({title:f.localImage,panel:i('.tab1',_)}),s.add({title:f.remoteImage,panel:i('.tab2',_)}),s.select(g)):l?i('.tab1',_).show():c&&i('.tab2',_).show();var L=i.uploadbutton({button:i('.ke-upload-button',_)[0],fieldName:u,accept:m||'image/*',form:i('.ke-form',_),target:x,width:60,afterUpload:function(e){switch(y.hideLoading(),e.code){case'S_OK':var t=e['var'],a=o.afterUpload(t);d&&(a=i.formatUrl(a,'absolute')),p?(i('.ke-dialog-row #remoteUrl',_).val(a),i('.ke-tabs-li',_)[0].click(),i('.ke-refresh-btn',_).click()):v.call(o,a,e.title,e.width,e.height,e.border,e.align);break;case'FA_UPLOAD_SIZE_EXCEEDED':alert(n('mail/FA_OVERFLOW.'+e.overflowReason));break;case'FA_FILE_SIZE_EXCEEDED':alert(n('mail/compose_editor_img_size_exceed'));break;case'FA_NOT_IMAGE':alert(n('mail/compose_editor_img_wrong_type'));break;default:alert(n('mail/compose_editor_img_upload_fail'))}},afterError:function(e){y.hideLoading(),o.errorDialog(e)}});L.fileBox.change((function(){k.val(L.fileBox.val())}));var I=0,A=0;function M(e,t){C.val(e),S.val(t),I=e,A=t}return T.click((function(){var e=i('<img src="'+w.val()+'" />',document).css({position:'absolute',visibility:'hidden',top:0,left:'-1000px'});e.bind('load',(function(){M(e.width(),e.height()),e.remove()})),i(document.body).append(e)})),C.change((function(e){I>0&&S.val(Math.round(A/I*parseInt(this.value,10)))})),S.change((function(e){A>0&&C.val(Math.round(I/A*parseInt(this.value,10)))})),w.val(a.imageUrl),M(a.imageWidth,a.imageHeight),E.val(a.imageTitle),N.each((function(){if(this.value===a.imageAlign)return this.checked=!0,!1})),l&&0===g&&(w.focus(),w.select()),y},o.plugin.image={edit:function(){var e=o.plugin.getSelectedImage();o.plugin.imageDialog({imageUrl:e?e.attr('data-ke-src'):'http://',imageWidth:e?e.width():'',imageHeight:e?e.height():'',imageTitle:e?e.attr('title'):'',imageAlign:e?e.attr('align'):'',showRemote:l,showLocal:s,tabIndex:e?1:c,clickFn:function(t,i,n,a,r,s){e?(e.attr('src',t),e.attr('data-ke-src',t),e.attr('width',n),e.attr('height',a),e.attr('title',i),e.attr('align',s),e.attr('alt',i)):o.exec('insertimage',t,i,n,a,r,s),setTimeout((function(){o.hideDialog().focus()}),0)}})},'delete':function(){var e=o.plugin.getSelectedImage();'a'===e.parent().name&&(e=e.parent()),e.remove(),o.addBookmark()}},o.clickToolbar('image',o.plugin.image.edit)}))}).call(this,i(463))},886:function(e,t,i){(function(e,t){i(548);var n=i(497),a=i(467),r=i(463),o=document.all,s=function(e){this.cachedElements=[],this.spellList=[],this.ignoreWordList=[],this.$context=r('[data-panel=\'compose:'+e+'\']')};function l(e,t,i){for(var n=0;n<t.childNodes.length;n++){var a=t.childNodes[n];if(3==a.nodeType)(a.nodeValue.search(/\w+/g)>-1&&i||!i)&&e.push(a);else l(e,a,i)}}function d(e){for(var t=[],i='',n='',a=0;a<e.length;a++){var r=e.charAt(a);/^[0-9a-zA-Z]$/g.test(r)?(i+=r,n.length>0&&(t[t.length]=n,n='')):(n+=r,i.length>0&&(t[t.length]=i,i=''))}return i.length>0&&(t[t.length]=i),n.length>0&&(t[t.length]=n),t}function c(e){for(var t=e.offsetLeft;e=e.offsetParent;)t+=e.offsetLeft;return t+10}s.prototype.clickForSpell=function(e,t){var i=this;t&&r(e).on('click',(function(s){if(t){o||h(s),i.hideMenu();var l=r(i.getEditor('iframe')),d=e.event&&e.event.srcElement?e.event.srcElement:s?s.target:window.event.srcElement;if(-1!=d.className.indexOf('CM-XT5-Spell')){var c=d.id;i.displaySpellElement('spell',d,'',c,(function(e){l.find('#'+c).html(e).css({borderBottom:'',cursor:'auto'}),i.ignoreWordList.push(c)}),(function(){l.find('#'+c).css({borderBottom:'',cursor:'auto'}),i.ignoreWordList.push(c)}),(function(){var e,t;l.find('#'+c).css({borderBottom:'',cursor:'auto'}),r.when((e=d.innerHTML,t=r.Deferred(),n.xhr.simpleCall({query:{func:'user:addSegments',sid:a.getSid()},data:{segments:[e]}},(function(e){t.resolve(e)}),(function(){t.reject()})),t.promise())).then((function(){i.ignoreWordList.push(c)}))}))}}}))},s.prototype.updateCacheElements=function(){var e,t=this.getEditor('body');this.getEditor('spellChk').remove(),this.clickForSpell(t,!1);for(var i=0;i<this.cachedElements.length;i++){var n=this.cachedElements[i],a=n.node,r=a.innerHTML,o=a.parentNode;if(o||((a=a.ownerDocument.getElementById(a.id))&&(o=a.parentNode),o)){if(n.word!=r){var s=[];l(s,a,!0);for(var c=0;c<s.length;c++)for(var h=d(s[c].nodeValue),u=0;u<h.length;u++){var p=h[u];e=o.ownerDocument.createTextNode(p),o.insertBefore(e,a)}}else e=o.ownerDocument.createTextNode(r),o.insertBefore(e,a);o.removeChild(a)}}this.clearCacheElements()},s.prototype.clearCacheElements=function(){this.cachedElements=[],this.spellList=[],this.ignoreWordList=[]},s.prototype.getSubjectsById=function(e){var t=null;return r.each(this.spellList,(function(i,n){if(n.id==e)return t=n.suggests,!1})),t},s.prototype.hideMenu=function(){var e=this.getEditor('spellChk');e.length>0&&e.is(':visible')&&e.hide()},s.prototype.getEditor=function(e){var t;switch(e){case'iframe':t=this.$context.find('.ke-edit-iframe')[0].contentDocument;break;case'body':t=this.$context.find('.ke-edit-iframe')[0].contentDocument.body;break;case'wrapper':t=this.$context.find('.ke-container');break;case'spellChk':t=this.$context.find('.ke-container #dvSpellCheck')}return t},s.prototype.displaySpellElement=function(t,i,n,a,o,s,l){var d=this.getEditor('wrapper'),h=this.getEditor('spellChk'),p=this.getSubjectsById(a);if(this.hideMenu(),!(this.ignoreWordList.indexOf(a)>-1)){if('spell'==t){h.length>0&&h.remove();var f=r('<div/>',{id:'dvSpellCheck'}).css({position:'absolute'}).append(r('<div/>',{html:'<div id="list"></div>'}).css({padding:'1px',background:'#fff',border:'1px solid #838383',width:'100px','box-shadow':'2px 2px 3px #CCC','border-radius':'3px 3px 3px 3px'}));if(p&&p.length>0)for(var m=0;m<p.length&&m<5;m++){var g=p[m],v=u.call(this,g,m,o);f.find('#list').append(v)}else{var x=r('<div/>',{'class':'no-suggestion',text:e('mail/no_suggestions')});f.find('#list').append(x)}var b=r('<div />',{'class':'separator'});if(f.find('#list').append(b),!p)return;var y=u.call(this,e('mail/ignore'),p.length,s);f.find('#list').append(y);var _=u.call(this,e('mail/addToDict'),p.length+1,l);f.find('#list').append(_),d.append(f),t='dvSpellCheck'}if('string'==typeof t){var w=(t=d.find('#dvSpellCheck'))[0].clientHeight,k=this.getEditor('body'),C=k.scrollTop,S=k.clientHeight,T=function(e){var t=e.offsetTop;for(;e=e.offsetParent;)t+=e.offsetTop;return t+10}(i)-C,E=w+T>S?T-w:T+i.offsetHeight;return t.css({left:c(i)+'px',top:E+'px',display:n}),!0}}},s.prototype.doBeforeCheckSpelling=function(){var e,i,n,a,r=this.getEditor('body'),o=[];this.clickForSpell(r,!0),l(o,r,!0);for(var s=0;s<o.length;s++)if(i=(e=o[s]).parentNode,0!=(n=e.nodeValue).trim()&&null!=i){a=d(n);for(var c=0;c<a.length;c++){var h=a[c];if(h.length>0)if(h.search(/\w/g)>-1){var u=t.uniqueId('spellcheck-'),p=i.ownerDocument.createElement('SPAN');p.className='CM-XT5-Spell '+u,p.id=u,p.innerHTML=h,i.insertBefore(p,e),this.cachedElements[this.cachedElements.length]={name:u,word:h,node:p,highlight:!1}}else{var f=i.ownerDocument.createTextNode(h);i.insertBefore(f,e)}}i.removeChild(e)}},s.prototype.checkSpelling=function(e){var t,i,o=this;o.doBeforeCheckSpelling(),r.when((t={isHtml:!0,text:e},i=r.Deferred(),t=t||{},n.xhr.simpleCall({query:{func:'user:checkSpelling',sid:a.getSid()},data:t},(function(e){i.resolve(e)}),(function(){i.reject()})),i.promise())).then((function(e){if(0!=e[0].segments.length){var t,i=e[0].segments,n={};r.each(e[0].segments,(function(e,t){var i=t.segment;n[i]||(n[i]=1)}));for(var a=0,s=i.length;a<s;a++){var d=i[a],c=d.segment;if(n[c])for(var h=d.suggests,u=0;u<o.cachedElements.length;u++)if((t=o.cachedElements[u]).word==c){t.highlight=!0;var p=t.node;p.style.cursor=document.all?'hand':'pointer',p.style.borderBottom='2px dotted red';var f={id:p.id,suggests:h};o.spellList.push(f)}}for(var m=[],g=0;g<o.cachedElements.length;g++)if((t=o.cachedElements[g]).highlight)m.push(t);else{var v=t.node,x=v.parentNode;if(x)try{var b='',y=[];l(v,y,!1);for(var _=x.ownerDocument.createTextNode(''),w=0;w<y.length;w++)b+=y[w].nodeValue;_.nodeValue=b,x.insertBefore(_,v),x.removeChild(v),t.node=_}catch(k){m.push(t)}}o.cachedElements=m}else o.updateCacheElements()}))};var h=t.stop;function u(e,t,i){var n=this;return r('<a />',{'class':'n',href:'javascript:void(0)',text:e,cursor:o?'hand':'pointer',idx:t}).on('click',(function(e){n.hideMenu(),i&&(h(e,0),i(this.innerHTML))}))}KindEditor.plugin('spellcheck',(function(){var e=this;e.scObj&&e.scObj instanceof s||(e.scObj=new s(e.composeId)),this.clickToolbar('spellcheck',(function(){e.scObj.checkSpelling(e.html())}))})),KindEditor.plugin('spellrecheck',(function(){var e=this;this.clickToolbar('spellrecheck',(function(){e.scObj.updateCacheElements(),e.scObj.checkSpelling(e.html())}))})),KindEditor.plugin('finishcheck',(function(){var e=this;this.clickToolbar('finishcheck',(function(){e.scObj.updateCacheElements()}))}))}).call(this,i(465),i(464))}}]);
//# sourceMappingURL=C~S.c2f53.js.map